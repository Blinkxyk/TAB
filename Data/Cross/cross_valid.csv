text,title
[DES] dialog s corner radius and position have been changed when resume again [DES] [EXP] not be changed [EXP] [OTH] version xiaomi mix 2 android version [OTH] [REP] 1 gif3 url 2 gif4 url [REP],dialog's corner radius and position have been changed when resume again
[DES] the corner radius does not affect the top dialog corners for the datepicker only works on the bottom ones it actua [DES] [EXP] corner radius define on the apptheme affect all the dialog corner radius thanks [EXP] [OTH] implementation com afollestad material dialogs core version implementation com afollestad material dialogs datetim [OTH] [REP] materialdialog this show datepicker currentdate mydate datetime style name apptheme parent theme materialcomponent [REP],Top corners radius are broken for datePicker
[DES] filechooser shows 0 as parent name if parent is external storage after opening for example downloads and then some random folder the parent folder downloads is correct also the 0 is only shown when parent is external storage [DES] [EXP] just change visibility of listitem name to invisible when parent is external storage to avoid showing 0 because it is not intuitive [EXP] [OTH] latest version [OTH] [REP] . [REP],"Name of the parent view is shown as ""0"" if parent is External Storage"
[DES] on some devices especially in landscape with keyboard open the area for content can be very small device 2019 09 2 [DES] [EXP] the content of the dialog should be accessible no matter how small the actual dialog height is if necessary the wh [EXP] [OTH] version huawei p20 lite with android version but it is quite general issue [OTH] [REP] 1 create a dialog with title buttons and custom view with edit text 2 have the edit text with flagnoextractui and  [REP],Set some minimum content height
[DES] i m setting url l8 a custom font raleway for material dialogs here url l77 and here url l94 once opened i see a cursor graphical glitch at the end of the title for a few seconds [DES] [EXP] no cursor graphical glitch [EXP] [OTH] version xiaomi mi a2 lite with android version sept patch nexus 5 with android version crdroid rom [OTH] [REP] 1 set a custom font in base theme 2 open the dialog [REP],dialog's title showing graphical glitch (cursor?)
[DES] . [DES] [EXP] in the last step it should keep the lastselecteddate as selected [EXP] [OTH] . [OTH] [REP] 1 open dialog it will open with todays date selected select any other date and click ok 2 open dialog again it will open with last selected date press cancel button 3 dialog again it will again select last date of the current month [REP],DatePicker `currentDate` not working properly when i press cancel
[DES] when invoking a materialdialog with date selection if the config has maxdate set the dialog crashes if the user di [DES] [EXP] the dialog should not crash at least [EXP] [OTH] version samsung galaxy s8 with android version and every other device tested on [OTH] [REP] 1 materialdialog context show datepicker currentdate startdate maxdate enddate datecallback listener 2 user select [REP],NPE when using maxDate on datePicker without selecting date
[DES] i can t scroll up when have a long layout with edittext watch gif screenrecorder 2019 08 01 20 25 44 765 url [DES] [EXP] . [EXP] [OTH] version xiaomi mi 6 miui 10 android p [OTH] [REP] 1 you need a long layout with edittext 2 materialdialog this bottomsheet 3 customview r layout yourlonglayout scrollable true [REP],Can't scroll up when using bottom sheet
[DES] when adding a style to all text inputs via textinputstyle the input box on the dialog is clipped adding a textinpu [DES] [EXP] the input box in a dialog should behave like all other textinputlayout in the app when setting textinputstyle on t [EXP] [OTH] version tested with as well emulator pixel 3 with android q beta 5 [OTH] [REP] 1 checkout 2 add item name textinputstyle style widget materialcomponents textinputlayout outlinedbox item to appt [REP],TextInputLayout clipped when adding textInputStyle
[DES] i ve a simple input dialog with one edittext kotlin materialdialog this show noautodismiss title res r string titl [DES] [EXP] the dialog shouldn t dismiss or is there any other flag to prevent autodismiss on outside dialog touch [EXP] [OTH] version motorola xt1572 [OTH] [REP] 1 create an input dialog with noautodismiss and show kotlin materialdialog this show noautodismiss title res r str [REP],Touching outside the dialog dismiss the dialog
[DES] a clear description of what is the bug is [DES] [EXP] . [EXP] [OTH] com afollestad material dialogs datetime version honor 9 with android version [OTH] [REP] 1 my code materialdialog activity bottomsheet layoutmode wrap content show title text datetimepicker requirefuture [REP],"When I use dateTimePicker, Chinese text show wrong"
[DES] a clear description of what is the bug is [DES] [EXP] a clear description of what you expected to happen this is my use kotlin materialdialog context show customview r layout loading layout loading dialogwrapcontent true cornerradius 6f cancelontouchoutside false but dialogwrapcontent true is not working i hope the dialog would wrap the content width [EXP] [OTH] 2 x x google pixel 3 xl with android version [OTH] [REP] . [REP],dialogWrapContent option is not working with custom views
[DES] html tags work only when you set your text as int stringres but when you do this message text b text b html they just stop working [DES] [EXP] library should parse html tags even if you set text as string [EXP] [OTH] . [OTH] [REP] . [REP],HTML Tags in message doesn't work
[DES] by reading window docs and stackoverflow objective 1 seem to be achievable by acquiring window reference and setti [DES] [EXP] i have a dialog with bottomsheet behavior i set a edittext to it using input when i show the dialog the soft keybo [EXP] [OTH] version testing on huawei mate 9 pro with android 9 [OTH] [REP] 1 create a dialog with bottomsheet behavior 2 include an input by calling dialog input 3 show dialog by calling di [REP],How to control soft input mode
[DES] the top of the dialog does not have the correct radii image url [DES] [EXP] the top should have the corner radius set to 16dp [EXP] [OTH] com afollestad material dialogs core version google pixel 2 with android version [OTH] [REP] 1 change the sample project method showcustomviewdialog accordingly kotlin private fun showcustomviewdialog dialog [REP],Custom views with a background color break corner radius
[DES] adding custom view with flags scrollable true noverticalpadding true adds bottom padding of 24dp this is especially noticeable if you don t add positive negative buttons [DES] [EXP] dialogscrollview with zero bottom padding if noverticalpadding true is there a way to control this at the moment i am using dialog view findviewbyid view r id md scrollview content apply setpadding 0 0 0 0 [EXP] [OTH] . [OTH] [REP] . [REP],Scrollable custom view - bottom padding
[DES] custom views do not apply correct padding around them any more since v3 not sure about this currently md dialog frame margin horizontal is marked as private although i need this dimension for custom views [DES] [EXP] check this old issue url i would expect that the above dimension is public or that i get a flag like described in my old issu [EXP] [OTH] . [OTH] [REP] . [REP],Custom views need access to and/or automatic padding option
[DES] when i long press an empty materialdialog input edittext the paste button is not shown [DES] [EXP] it should popup the paste option [EXP] [OTH] version version oneplus 6 android 9 [OTH] [REP] materialdialog this show title r string title message r string message input hintres r string hint positivebutton  [REP],Can't paste into EditText when it's empty - OnePlus devices
[DES] theme attribute md corner radius doesn t work when app theme is inherited from theme materialcomponents [DES] [EXP] expected behavior is that corner radius is applied to dialogs instead it doesn t work at all if corner radius is s [EXP] [OTH] version rc4 [OTH] [REP] 1 create an app theme style name theme app parent theme materialcomponents light style 2 add item name md corner r [REP],Theme attributes don't work with MaterialComponents themes
[DES] can t modify a property of an element inside a customview showing a fragment inside a dialog bottomsheet [DES] [EXP] show the modifications after doing them for example show the new text image [EXP] [OTH] version rc3 material dialogs core bottomsheets moto g5 plus with android version [OTH] [REP] 1 create a fragment and some elements to test the behavior 2 open a dialog bottomsheet with a customview the view  [REP],Unable to modify properties of elements inside a CustomView (Fragment)
[DES] there is a blue tint when opening a dialog or a bottom sheet bottom sheets are also showing the latest bottom sheet opened behind the current one screenshot url screenshot url [DES] [EXP] . [EXP] [OTH] version rc3 emulator api 21 [OTH] [REP] run the sample from this repository in an api21 device i only have the emulator [REP],Blue background in API 21
[DES] android version when i m opening standard materialdialog background is translucent which is correct in my opinion  [DES] [EXP] android version background color of bottomsheetdialog should be translucent like in materialdialog android version [EXP] [OTH] version rc3 android version android version [OTH] [REP] . [REP],Background and statusbar should be transparent with bottom sheets
[DES] i m using a custom view with a bottomsheet because i need to hide things later i m saving the bottomsheet in a var [DES] [EXP] when clicking the button instead of showing the sheet always it shows only the first time the other times screen d [EXP] [OTH] version rc1 huawei p30 pro [OTH] [REP] my code is basically this kotlin private lateinit var bottomsheet materialdialog bottomsheet materialdialog requir [REP],Bottom sheet cannot be shown more than once with the same instance
[DES] singlechoice radio button is losing its inner circle after clicking it again version it s works but no animation l [DES] [EXP] should behave just exactly like version version not losing its checked status after clicking it again [EXP] [OTH] version google pixel with android version emulator [OTH] [REP] val myitems listof hello world materialdialog context show ttitle text title tmessage text message tpositivebutton [REP],SingleChoice Radio button strange behavior
[DES] though setting the parameter requirefuturedatetime to true it is not sure whether the dialog will return a future  [DES] [EXP] . [EXP] [OTH] version datetime [OTH] [REP] 1 open datetime picker dialog 2 select future datetime 1 min ahead of current datetime 3 wait a minute now the dat [REP],MaterialDialog's DateTime requireFutureDateTime not reliable
[DES] the new wrapcontent option of layout of datepicker causes datepicker to be not centered vertically screenshot url [DES] [EXP] a centered full width shown date picker [EXP] [OTH] . [OTH] [REP] 1 make a datepickerdialog using library version version [REP],DatePicker dialog is not centered in layout/partially hidden by layout boundaries
[DES] when showing a date picker dialog in landscape the width is too constrained for the datepicker view inside it causing everything to be squished horizontally see below screenshot url [DES] [EXP] width of dialog grows to minimum width needed for datepicker view inside i [EXP] [OTH] version tested on emulator running api 28 google apis image nexus 5x device definition [OTH] [REP] 1 build a date picker 2 show it 3 rotate to landscape [REP],Date picker dialog in landscape not wide enough for DatePicker widget
[DES] when the default time is set time picker always showing it as am i e if i set the time 15 45 or 3 45 pm it ll be s [DES] [EXP] to see the correct default time [EXP] [OTH] version oneplus 5t with oos version nexus 5 with android version emulator with android version [OTH] [REP] kotlin val defcal calendar getinstance apply set calendar hour of day 15 set calendar minute 45 materialdialog con [REP],Incorrect default time in time picker
[DES] the bottom side of the action button is cut off so it appears unsymmetrical action button image url [DES] [EXP] a dialog s action button should be symmetrical as in the material docs [EXP] [OTH] . [OTH] [REP] . [REP],Action Buttons are not symmetrical/bottom side cut off
[DES] md color button text is not respected and instead overridden by colorprimary when set in a theme [DES] [EXP] the color of the action buttons should be set per the md color button text but is instead colorprimary [EXP] [OTH] version google pixel 3 version [OTH] [REP] 1 download material dialog sample 2 update to md color button text in apptheme custom to some color 3 inside the sample app change to custom theme and open any of the sample dialogs [REP],md_color_button_text not respected in theme
[DES] a clear description of what is the bug is [DES] [EXP] a clear description of what you expected to happen [EXP] [OTH] 2 x x google pixel 3 xl with android version [OTH] [REP] . [REP],Doesnt build with proguard turned on
[DES] if showing a dialog that only contains a message the text does not appear to have the correct top margin it seems too small example img width 401 alt screenshot 2019 03 07 at 11 39 17 src url same example in older library version version x img width 401 alt screenshot 2019 03 07 at 11 38 51 src url [DES] [EXP] dialog with message only set to appear as before [EXP] [OTH] version google pixel 3 xl with android version [OTH] [REP] 1 create a dialog with just the message property set [REP],Incorrect top margin on message only dialog
[DES] on a dialog with long button text buttons are stacked and the text gravity on the buttons should be end but it s n [DES] [EXP] text gravity should be at end the issue is with the following code in dialogactionbutton java if stacked setgravit [EXP] [OTH] 2 x x nexus 5 probably others can reproduce in emulator [OTH] [REP] 1 display a dialog with stacked button long text on button [REP],Text gravity on stacked button is not at end
[DES] is there any way to avoid positive button changing color when color is selected [DES] [EXP] positive button not change when color is selecte [EXP] [OTH] version rc11 nexus 6p device 2019 02 06 url [OTH] [REP] 1 just use colorchooser [REP],Disable the color chooser positive button color change
[DES] when using listitemsmultichoice and selecting only one choice the dialog closes materialdialog this show title text lil listitemsmultichoice r array socialnetworks initialselection intarrayof 1 3 indices text toast selected items text jointostring at indices indices jointostring debugmode [DES] [EXP] be able to select multible choices and then click choose button like the screen shots [EXP] [OTH] emulator with api 26 [OTH] [REP] . [REP],listItemsMultiChoice is closing when only one item is selected
[DES] changing the value of a button text in the ondismiss callback crashes with a npe on the button [DES] [EXP] i expect that the value of the button text changes to what i set it to in ondismiss but that doesn t happen becaus [EXP] [OTH] version rc9 xiaomi redmi 5 plus with android version [OTH] [REP] 1 use a customview for the dialog 2 add a positivebutton where you get the values from your custom view this works [REP],Changing values in the onDismiss() callback crashes with an NPE.
[DES] when dialog opens there is no default button that has focus you can use the dpad to get focus but if you can easil [DES] [EXP] the negative option should have focus by default you shouldn t be able to lose focus by clicking up down or left o [EXP] [OTH] version rc7 any dpad controlled device [OTH] [REP] 1 use a dpad there is one in the emulator settings 2 open a yes no dialog or something similar 3 click around to f [REP],Dpad navigation does not work properly
[DES] a dialog with 3 buttons shows fine on rc5 screenshot 01 url but only shows one button on rc6 and rc7 screenshot 01 [DES] [EXP] keep showing all 3 buttons as with previous versions [EXP] [OTH] version rc7 worked ok on version rc5 oneplus 6 android 9 [OTH] [REP] kotlin override fun oncreatedialog savedinstancestate bundle dialog val title arguments getstring title val subtit [REP],Button not displayed since 2.0.0-rc6
[DES] the second example on url throws a received true for a non boolean attribute show warning looks like overlaytrigge [DES] [EXP] no warning [EXP] [OTH] see codesandbox url macos firefox 70 react bootstrap version version beta 14 on my project but also tried with rea [OTH] [REP] attempt to implement that code in a project of codesandbox i don t see the warning in the console on the examples  [REP],warning when passing `show` to Tooltip
[DES] trying to add an id prop to top level navs items the id prop and other data attributes are ignored [DES] [EXP] the id prop and any other un used prop should pass through to the anchor element [EXP] [OTH] example codesandbox url macos chrome version official build 64 bit react bootstrap version version beta 14 [OTH] [REP] you can see this on the documentation examples for the navbar component 1 go to url navbars mobile friendly 2 noti [REP],NavDropdown does not pass `id` or other props to DropdownToggle
[DES] when using a custom component in a dropdown toggle if the custom element takes an onclick property which should be [DES] [EXP] the type of the dropdown toggle should not make onclick prop necessary when using a custom component with a non op [EXP] [OTH] url operating system linux browser version firefox 69 react bootstrap version version beta 14 [OTH] [REP] steps to reproduce the behavior 1 create a component with a required onclick prop 2 provide it as the as prop of a [REP],`Dropdown.Toggle` incorrectly expects `onClick` prop when using a custom element.
[DES] version introduced critical a11y error when opening dialog modal aria hidden true is applied to it [DES] [EXP] active dialog modal should not have aria hidden true attribute [EXP] [OTH] minimal example by using codesandbox url operating system macos browser version chrome 78 react bootstrap version version [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on launch demo modal 3 inspect dom and find div with role modal and aria hidden true [REP],"0.33.0 version, aria-hidden=true is applied to modal (role=""dialog"") on open state."
[DES] if you put a nav inside a card the resulting nav element is always given one of the card header classes card heade [DES] [EXP] the card header class should only be added to the nav if the nav is inside a card header [EXP] [OTH] i originally discovered this while trying to put a tabs inside a card body but from looking in the source i found  [OTH] [REP] steps to reproduce the behavior 1 create a card 2 put a nav inside it that isn t inside a card header 3 give the n [REP],"<Nav> inside <Card> has ""card-header-*"" class even outside <Card.Header>"
[DES] this issue has closed but the problem persists url when using a form check component changing type checkbox to type switch the onchange function no longer triggers on click this is also true when using form switch [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] create a form check with type switch prop and onchange function prop click switch and notice function not being triggered [REP],onChange not being called on Switch components (Form.Check type=switch)
[DES] tabs cannot be selected using keyboard navigation if none of the tab items are active issue caused by setting tabindex 1 on inactive tabs even if none are active [DES] [EXP] should focus first tab within the tabbed navigation [EXP] [OTH] example url [OTH] [REP] 1 create a tabbed navigation without an activekey or defaultactivekey prop set 2 press tab key to focus the navigation [REP],Custom tabs not focusable if none are active
[DES] docs for nav state aria role for the nav in the context of a tabcontainer the default will be set to tablist but c [DES] [EXP] by default the role tablist should be applied and a can be changed by passing in the role prop into nav element [EXP] [OTH] minimal example by using codesandbox url operating system windows 10 browser version version react bootstrap versi [OTH] [REP] look at dom structure and you ll see no role applied to the tab container [REP],react-bootstrap/Nav not setting 'role' as tablist
[DES] the form based toggle button should not have a default role of group if there is a single value url checkbox radio [DES] [EXP] it should only have a role of group if there is more than one value macos chrome 77 react bootstrap version version beta 14 [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 inspect single toggle button found here url checkbox radio [REP],Single toggle button should not have role of group
[DES] . [DES] [EXP] it should be possible to embedd multiple form rows inside a collapse transition [EXP] [OTH] operating system windows 7 professional browser version firefox react bootstrap version react version react bootst [OTH] [REP] create a simple collapse transition collapse in this state open form row form row form row form row collapse it th [REP],Can't Embed Two <Form.Row> </Form.Row> inside <Collapse> </Collapse> Transition
[DES] the modal is currently setting the container to have the attribute of aria hidden true but this is not allowed since there are focusable elements inside it url [DES] [EXP] . [EXP] [OTH] url macos chrome 77 react bootstrap version beta 9 [OTH] [REP] steps to reproduce the behavior 1 use axe core and test modal [REP],aria-hidden should not be set to true on modal
[DES] stateless function components is an incorrect way to describe function components so we should omit that terminolo [DES] [EXP] we should just omit stateless and describe them as function components [EXP] [OTH] we might need to look through more of the docs to ensure we aren t using this terminology anywhere else [OTH] [REP] steps to reproduce the behavior 1 go to overlay trigger example docs url overlay trigger 2 observe that it describ [REP],"Docs should not have any references to ""stateless"" function components"
[DES] when importing react bootstrap returns the error module not found can t resolve react bootstrap in the version version beta 13 in the version version beta 12 everything works well [DES] [EXP] . [EXP] [OTH] example in codesandbox url [OTH] [REP] yarn add react bootstrap open react componente and import one componen the react bootstrap import container from react bootstrap [REP],Import react-bootstrap 1.0.0-beta.13 Module not found: Can't resolve 'react-bootstrap'
[DES] when creating an accordion with only one card child there is no border bottom defined [DES] [EXP] border bottom should have the same style as other borders when the first child is the only child accordion card fi [EXP] [OTH] url operating system ubuntu version browser version firefox dev edition version b9 react bootstrap version e g bet [OTH] [REP] div classname app accordion card accordion toggle as card header eventkey 0 click me accordion toggle accordion co [REP],Accordion with only one element: no border-bottom
[DES] sliding direction of carousel with 2 items not working properly only not working proper when carousel has 2 items [DES] [EXP] first item second item left to right sliding second item first item right to left sliding [EXP] [OTH] jsx carousel carousel item div style width 100 height 100 backgroundcolor blue carousel item carousel item div sty [OTH] [REP] 1 make carousel with 2 items 2 sliding to first item when second item is current [REP],sliding direction of Carousel with 2 items not working properly
[DES] clicking radio buttons inside dropdown items updates the active menu item but not the button itself [DES] [EXP] the radio button next to two should appear checked when opening the menu the third time the old radio button still [EXP] [OTH] a similar issue is described here url issuecomment however it s difficult to see how this could be a recurrence of [OTH] [REP] steps to reproduce the behavior 1 click the dropdown button 2 click the word one in the dropdown menu 3 click drop [REP],Radio Buttons Inside <Dropdown.Item> Do Not Update When State Changes
[DES] the prop size on formcontrol does not get set on the html element when using as select it is possible to set multi [DES] [EXP] the size attribute be passed to the html select element changing the behavior to a multi line single value select [EXP] [OTH] url operating system e g macos browser version e g chrome 74 react bootstrap version e g version beta 8 [OTH] [REP] . [REP],"Unable to set html size attribute on <FormControl as=""select"">"
[DES] i have dropdown menu component set to show hide itself with manually coded trigger and after opening the menu once [DES] [EXP] i expect the menu to open up as many times as i want [EXP] [OTH] operating system windows 10 browser version google chrome version react bootstrap version version beta [OTH] [REP] steps to reproduce the behavior note the and visibilityvalue are made up because they are not the issue i can see  [REP],DropdownMenu not opening after selecting item from menu once and trying to open again
[DES] looks to be same issue as 4368 but with the togglebuttongroup using the togglebuttongroup produces warning compone [DES] [EXP] no warning when using togglebuttongroup correctly [EXP] [OTH] react bootstrap version beta 12 react dom version [OTH] [REP] . [REP],Please update the following components
[DES] i m getting error from typescript when trying to create a customized variant for button following the official guide url [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior use button with any variant other than the provided variants and you will get the error from typescript [REP],Error when trying to create a customized variant for Button
[DES] warning about invalid prop children of type string supplied to forwardref when trying to render accordion page [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to components accordion 2 check at the console 3 see warning [REP],"Invalid prop 'children' of type 'string' supplied to 'ForwardRef', at Accordion"
[DES] the react overlays doc page which is quite short includes a hyperlink which looks like it should take the reader t [DES] [EXP] i d expect that link to take us somewhere with more info presumably it should go to url or url [EXP] [OTH] . [OTH] [REP] tl dr version go to url and click on the react overlays link in the body of the page it takes you nowhere detailed [REP],"""React Overlays"" doc page has a link to itself rather than to somewhere useful"
[DES] when a navbar component is expanded the navbar toggler classname is navbar toggler collapsed and when it is collap [DES] [EXP] . [EXP] [OTH] we use the collapsed class to do a css transform on the icon depending on the current expanded state chev up down  [OTH] [REP] steps to reproduce the behavior 1 go to url 2 scroll down to overview resize screen to mobile and look at the clas [REP],Navbar.Toggle component adds wrong 'collapsed' className depending on expanded context state
[DES] closely related to url this issue is however related to tabcontainer and not navbar using tabcontainer creates the [DES] [EXP] no warning caused by using tabcontainer [EXP] [OTH] updated to react bootstrap version beta 12 a couple days ago and removed the same error for navbar would it be pos [OTH] [REP] . [REP],Please update the following components Unctrolled(TabContainer)
[DES] vertical navs url vertical of the tabs variant url tabs use the default horizontal styling [DES] [EXP] either there should be a warning in the documentation not to use the tabs nav variant with the flex column css or there should be a way to define which direction the styling should be applied [EXP] [OTH] . [OTH] [REP] . [REP],Vertical navs of tabs variant use horizontal styling
[DES] after upgrading from version beta 10 to version beta 11 or later the role attribute is no longer specified for the [DES] [EXP] the nav element should have a role attribute of tablist [EXP] [OTH] codesandbox example url currently set to version beta 10 please upgrade the react bootstrap version to see the rol [OTH] [REP] steps to reproduce the behavior 1 use the tabs component in a react application 2 view the nav element of the resu [REP],Role attribute no longer being set for Tabs nav element
[DES] we are missing releases v version beta 11 and v version beta 12 from the changelog [DES] [EXP] . [EXP] [OTH] we ve had previous discussions about automated releases 3546 3753 although i m not sure what our current stance is on that for the beta releases [OTH] [REP] 1 navigate to changelog md 2 observe that the last two releases are missing [REP],Update changelog to include last two beta releases
[DES] i m migrating from version version to v1 and there are different types for object which pass to eventkey after swi [DES] [EXP] eventkey should be any type instead of string [EXP] [OTH] it seems there is an error in dropdownitem d ts there is eventkey string but should be eventkey any operating syst [OTH] [REP] steps to reproduce the behavior 1 using typescript create a dropdownitem whose eventkey is not a string type e x a [REP],Dropdown.Item eventKey doesn't accept any types but string using typescript
[DES] aria attributes or at least aria labelledby don t seem to be properly passed through to the root div of a dropdown [DES] [EXP] aria labelledby gets passed through to the root div of the dropdownmenu component and overrides any default behavi [EXP] [OTH] url operating system macos browser version ff dev edition version b9 react bootstrap version currently using versi [OTH] [REP] create a dropdown component with your own specified toggle and menu components create a label with an id that you  [REP],DropdownMenu does not accept a `aria-labelledby` prop
[DES] the type files don t believe there is a ref attribute for things e g form control which there should be according  [DES] [EXP] it should compile [EXP] [OTH] the types files just don t expect ref to be a prop url there s an innerref but if you try it it compiles and then  [OTH] [REP] steps to reproduce the behavior 1 use typescript 2 put this email react createref htmlinputelement and form contro [REP],type files don't accept _ref attribute
[DES] nav used for tabs cannot contain a custom component which directly returns a navitem [DES] [EXP] tab does not get rendered as a button [EXP] [OTH] i am trying to avoid redundancy with introducing abstract components which can be reused since i am generating all [OTH] [REP] steps to reproduce the behavior 1 create a component which returns a navitem 2 use it inside a nav inside a tab co [REP],Nav used for tabs cannot contain NavItem abstractions
[DES] react bootstrap beta 10 version added touch support in carousel component but the direction of slide navigation is right on right swipe and left on left swipe [DES] [EXP] the carousel should navigate to previous slide on right swipe and next slide on left swipe [EXP] [OTH] operating system macos browser version chrome 73 react bootstrap version version beta 10 [OTH] [REP] 1 go to url on mobile or tablet or other touch device 2 try swiping on the demo slides [REP],Carousel slide navigation direction on swipe is incorrect
[DES] when using form control with html5 validation i e uncontrolled react input components the event target being propa [DES] [EXP] the expected behavior is that event target must refers to the button that submitted the form so that when i receiv [EXP] [OTH] here is an example in code sandbox url operating system latest macos windows 10 browser version latest chrome fire [OTH] [REP] steps to reproduce the behavior 1 open the code in code sandbox see link below 2 activate the console view in code [REP],Wrong event.target propagation on button submit issue
[DES] on mobile when toggling the menu navbar the toggle button is pushed upwards approximately half its height when the [DES] [EXP] i was expecting the toggle button to remain where it is [EXP] [OTH] this is running in a laravel version application on shared hosting using vuera for the integration layer since i v [OTH] [REP] steps to reproduce the behavior 1 set browser to device view with width less than 580 px 2 browse to url 3 click t [REP],Navbar toggle button changes position when open/closed
[DES] collapseonselect only works with nav link items and not with router link items [DES] [EXP] nav link link and navlink should initiate the collapseonselect action and close the collasped menu [EXP] [OTH] related to issue 4021 which was closed with incorrect advice [OTH] [REP] steps to reproduce the behavior take two identical links one as nav link and one as link nav link key home href ac [REP],collapseOnSelect is not compatable with router <Link> and <NavLink>
[DES] in nav that is inside of tab container if you pass null or undefined as a child it breaks switching between tabs with arrow keys [DES] [EXP] 1 expected active tab to be switched 2 expected no runtime errors in consol [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 open example 2 select one of nav items 3 press left or right arrow on the keyboard 4 open your browser console and see the error [REP],Switching tabs with arrow keys runtime error in 0.32.4
[DES] i am unable to use react bootstrap in my application every time i try to import and render a component from react  [DES] [EXP] . [EXP] [OTH] package json file name sautercopyplanraum version version description main index js scripts test echo error no tes [OTH] [REP] steps to reproduce the behavior 1 installed react bootstrap and bootstrap into an existing project with npm instal [REP],React-Bootstrap crashing on basic usage Invalid hook call
[DES] the type of dropdownitem s eventkey is always received by its onselect handler as a string even if some other type [DES] [EXP] the typeof the eventkey received by the onselect handler should be the same as typeof value passed to eventkey pro [EXP] [OTH] in dropdownitem the onselect handler is not passed the original eventkey value but rather a new variable called ke [OTH] [REP] steps to reproduce the behavior 1 create a dropdownitem whose eventkey is not a string type e x number 2 create se [REP],Dropdown.Item eventKey always recieved as String
[DES] adding the plaintext attribute to a formcontrol input contained within an inputgroup size sm or inputgroup size lg [DES] [EXP] the formcontrol input should scale in the same way a formcontrol without the plaintext attribute does [EXP] [OTH] none demo of inputgroup plain text formcontrol scaling problem on codesandbox url operating system macos version b [OTH] [REP] steps to reproduce the behavior 1 visit code sandbox example below 4 observe plain text inputs aren t scaling as e [REP],FormControl with plaintext attribute doesn't respect it's parent InputGroup sizing
[DES] an overlay with a placement of right start will not display an arrow [DES] [EXP] . [EXP] [OTH] operating system win10 browser version chrome 75 react bootstrap version version beta [OTH] [REP] 1 go to url popovers 2 edit code sample change right to right start 3 see error [REP],"Popover placement ""right-start"" doesn\\\\'t display an arrow"
[DES] can not set id attribute to listgroupitem [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] just type something like this and look into browser devtools listgroup has an id but list items doesn t t listgroup id items listgroupitem id item1 pit listgroupitem listgroupitem id item2 john listgroupitem item3 ivan listgroup screenshot from 2019 06 22 12 39 14 url [REP],<Nav.Item> in <Nav> ignores the id prop
[DES] . [DES] [EXP] the checkbox must show the message you must agree before submitting passed throw feedback prop [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to forms 2 click on left sidebar validation 3 click on submit form on the first validation example 4 see error [REP],Checkbox and Radio Validation not working
[DES] i m using react beautiful dnd for drag and drop and i noticed that i cannot pass the innerref prop on row ref inne [DES] [EXP] i can pass a ref on the row [EXP] [OTH] operating system macos version browser version chrome 75 react bootstrap version version beta 9 [OTH] [REP] steps to reproduce the behavior in the codesandbox you can see the error emitted by react beautiful dnd if you rep [REP],Cannot pass ref on <Row />
[DES] . [DES] [EXP] when a modal dialog is activated focus must be moved to the dialog where focus is initially placed may vary depending on the dialog content but focusing the dialog itself can provide a consistently predictable user experience [EXP] [OTH] bootstrap 4 macos all browsers [OTH] [REP] steps to reproduce the behavior 1 go to url 2 tab to launch demo modal button 3 press spacebar to activate 4 focus does not move into dialog [REP],Focus does not move to the dialog once it is activated.
[DES] it seems that when providing the muted prop to form text the flag does not add the text muted classname as intended [DES] [EXP] when passing the muted flag the text muted class should be added to the element [EXP] [OTH] problem is present in beta 8 and looks to be present in beta 9 as that s what s being used in the codesandbox operating system macos version browser version chrome 74 react bootstrap version beta 8 [OTH] [REP] steps to reproduce the behavior add form text muted [REP],muted prop does not add text-muted className
[DES] when i nest a form inside the modal element from the react modal library the user input into the input or text area field do not allow spaces to be typed so you can only enter a single word when you type spaces they don t register it s like whitespace is automatically trimmed [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to the form 2 type test this and it will show up as typethis [REP],Can't type spaces in input or textarea form fields nested inside the Modal element
[DES] when running npm run build and deploying my react project to netlify the netlify version of my website loses styli [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on clone repo 3 in bash run git clone url 4 then cd into the r [REP],"Build issue in netlify, missing bootstrap"
[DES] first thank you for making this wonderful library it seems that event handlers don t have types in version beta 8  [DES] [EXP] i would expect that onclick attributes be typed correctly such as when using button onclick the native button comp [EXP] [OTH] operating system macos version react bootstrap version version beta 8 typescript version [OTH] [REP] steps to reproduce the behavior 1 create a file test tsx like this typescript import as react from react import bu [REP],Event handler types seem to be missing in 1.0.0-beta.8
[DES] the link to tab components on the following page is incorrect url tabs current link url correct link url [DES] [EXP] should go to correct page in doc [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to page above 2 click on tab components link [REP],Docs - Incorrect link to Tabs page from Nav page
[DES] there has been several questions problems with how formatting is applied some of it could be documented better but [DES] [EXP] always respect global formatting [EXP] [OTH] if you re not used to us style formatting then this is just as difficult to understand as feet meters or fahrenhei [OTH] [REP] 1 admin settings formatting set to 2018 1 7 and 24 hour 2 admin data model sample dataset orders created at gear s [REP],Formatting not always respecting Global formatting
[DES] after a couple of days all metics and queries will fail with no obvious reason the database it reads from hasn t r [DES] [EXP] for metabase questions and pulses to work past 4 days of uptime [EXP] [OTH] as we are using this in production this means that no one in the company can ask questions from the database or se [OTH] [REP] no particular steps after 3 days or so this will occur and i will need to restart the pod to get a new instance to [REP],All charts stop working after a random amount of time
[DES] when editing visualization settings of a card on dashboard then it s impossible to go back after clicking into a c [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 simple question sample dataset orders and save 2 add question to dashboard and save 3 edit dashboard hover the t [REP],Cannot go back on column visualization settings on dashboard + breaks preview
[DES] after upgrading from version to version there were a number of errors in existing charts seemed like it was lookin [DES] [EXP] upgrades should not break existing charts [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] steps to reproduce the behavior 1 create a chart which overlays a few questions on a time series on version x 2 up [REP],After Upgrading to 0.33.6 Existing Charts are broken
[DES] when i create a simple grouping query with a filter in the count column as shown in the attached image i get an er [DES] [EXP] view the result of the query [EXP] [OTH] blocking i think grouping and filtering is a basic functionality that must work properly [OTH] [REP] steps to reproduce the behavior 1 go to ask a question simple question 2 pick a table 3 go to editor 4 click on su [REP],Error filtering by a sumarize column on PostgreSQL
[DES] updating to either docker image version or version fails it seems to be related to permissions i m not sure if i am missing permissions or something changed more information in the logs below [DES] [EXP] metabase to start properly [EXP] [OTH] blocks upgrading but we can use version tag without an issue [OTH] [REP] steps to reproduce the behavior 1 modify dockerrun aws json image to either v version or v version 2 upload and deploy to aws elastic beanstalk 3 see error in elb logs [REP],"v0.33.5.1 or v0.33.6 upgrade error ""must be owner of relation metabase_field"""
[DES] check for updates thinks version needs to be updated to version [DES] [EXP] it should say that i m running the latest version [EXP] [OTH] harmless just reported it out of curiosity [OTH] [REP] steps to reproduce the behavior 1 go to admin 2 click on settings update 3 see update notification [REP],Check for updates thinks 0.33.5.1 needs to be updated to 0.33.5
[DES] clicking view these xxx on an aggregate value where the group by value is null i e is empty the resulting table do [DES] [EXP] null or is empty filters are retained on the view these xxx function consistent behavior between view these xxx fr [EXP] [OTH] frustration and need to remember what to expect the drill down appears wrong if you don t remember or know [OTH] [REP] steps to reproduce the behavior 1 create a simple question that counts grouped by a field that contains null value [REP],"Dashboard widget ""View these xxx"" for NULL category summary doesn\\\\'t apply ""Is Empty"" filter"
[DES] dashboard table sorting uses case sensitive instead of case insensitive ordering which makes all uppercase strings [DES] [EXP] to use case insensitive sorting abc abc def def xyz xyz [EXP] [OTH] . [OTH] [REP] 1 create sql question and save it select 1 as id abc as sort union all select 2 as id abc as sort union all select [REP],Dashboard table sorting is case sensitive
[DES] hour of day always uses am pm even when global formatting is 24 hours with no workaround possible since visualization settings data created at gear does not allow formatting [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 set admin settings formatting time style to 24 hour clock 2 simple question sample dataset orders 3 summarize count of rows by createdat hourofday 4 shows am pm style instead of 24 hour [REP],"""Hour of day"" always uses AM/PM even when global formatting is 24-hours"
[DES] when using the custom question builder notebook mode if there are a series of joins and processing steps changing  [DES] [EXP] subsequent processing steps should be retained when editing earlier steps i understand that there could be depende [EXP] [OTH] frustrating and stopping me from using the advanced query builder to it s full potential if i can t change previou [OTH] [REP] steps to reproduce the behavior 1 go to custom question screen 2 setup as shown below orders filter for product ca [REP],"Custom Question builder, changing first step removes subsequent steps completely"
[DES] date fields display as december 1 2019 12 00 am despite not having time information [DES] [EXP] date fields should display as december 1 2019 [EXP] [OTH] it s a minor annoyance in some places but the overall inconsistency of some dates being displayed as json zulu tim [OTH] [REP] steps to reproduce the behavior 1 open any table of data either in main interface or embeds [REP],Postgres date fields displaying as timestamps
[DES] when selecting trend number visualization the title back button to return to viz selection does not work it works  [DES] [EXP] return to viz selection like all other viz types [EXP] [OTH] . [OTH] [REP] 1 simple question sample dataset orders 2 summarize count of rows by createdat month 3 change viz to trend number  [REP],Cannot click back on Trend/Number visualization Settings
[DES] the tick labels of a line bar area timeseries are always showing english instead of browser language it shows localized version in version workaround is to change visualization settings axes x axis scale ordinal [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 simple question sample dataset orders 2 summarize count of rows grouped by createdat month 3 ticks are showing english month names [REP],Timeseries tick labels are always in English even when interface is another langage
[DES] unable to save replace questions when the query has join tables i tried on native query with the same query and ev [DES] [EXP] when querying using custom question with joining one or two tables unable to save the result as a question however [EXP] [OTH] its really annoying and troublesome as i was championing metabase to my c levels over looker qliksense for non tec [OTH] [REP] steps to reproduce the behavior 1 go to custom question 2 join one or few tables 3 click save 4 saving failed [REP],Cant Save question when on custom question (PrestoDB)
[DES] dashboard embed not working in version just gives a not found error page instead of the preview on version question embed works [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 go to dashboard 2 click share embed icon and select embed this in an application 3 just shows not found page with the fly drawer icon [REP],Dashboard embed not working in 0.33.5 (Not found)
[DES] latest update of metabase fix mysql json bug issue 9800 but after i updated docker images bug still not fixed i fo [DES] [EXP] the release page said hash should be [EXP] [OTH] . [OTH] [REP] 1 install docker 2 run command docker run it entrypoint bin bash metabase metabase v version c sha256sum app metab [REP],metabase docker 0.33.5 not correct hash
[DES] after saving a question the button for downloading the results dissapears this causes the user to re run the query just to get button displayed this amounts to 3 runs of a query to get results original after save generate download [DES] [EXP] download button should remain visible if there was no change in the query [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to write an sql question 2 run it download button becomes visible 3 save it 4 download button disapears [REP],Download button disapears after saving question
[DES] when showing a nested custom question on a dashboard and adding a filter of any type the question is showing no va [DES] [EXP] i would expect the available fields for filtering to be equal to the list of fields available for filtering in the [EXP] [OTH] this is blocking us from presenting reports to our customers there is some pressure on us to deliver this soon our [OTH] [REP] steps to reproduce the behavior 1 create a native query 2 create a custom question based on the question from step [REP],A custom question based on a native sql question can't be filtered on the dashboard
[DES] connected a local docker based metabase setup to a mongodb atlas database but after connecting there are no tables [DES] [EXP] expected metabase to be able to show existing collections once the database was added [EXP] [OTH] this is a blocker for us having no data to view in metabase is most problematic i have been able to use metabase w [OTH] [REP] steps to reproduce the behavior 1 go to mongodb atlas url and setup a m0 account and obtain the connection string  [REP],No Tables visible when using MongoDB (Atlas)
[DES] bar chart scale is not correct when you have more than one value in a grouping [DES] [EXP] for the given example the difference with the charts should be of 1 8 not almost the same [EXP] [OTH] this type of report is not usable since it gives you inaccurate data i wouldn t count this as critical though i di [OTH] [REP] check this query and select bar chart using the sample data set select product id category as category count as co [REP],Scale not correct for Charts with more than on value in grouping
[DES] i am not able to save or replace a question when i query against my dataset tables and the results are empty [DES] [EXP] should be able to save or replace the question [EXP] [OTH] annoying may be related to 10839 or 9286 thank you for all your work on metabase [OTH] [REP] steps to reproduce the behavior 1 create a new question with the bigquery driver 2 use the following query legacys [REP],Cannot save question using BigQuery against __TABLES__ when results are empty
[DES] saved questions do not show linked tables in filter and summarize options but new questions do in existing saved q [DES] [EXP] saved questions that use tables linked via fks should be able to access the linked tables [EXP] [OTH] we use linked tables a lot in our metabase reports and they don t work anymore others may be experiencing this as  [OTH] [REP] steps to reproduce the behavior 1 go to a saved question whose source table has other tables linked to it via fks  [REP],Saved Questions Not Loading Data from Linked Tables
[DES] native query question switch to edit mode new question by applying a drop down filter this produce an error you do [DES] [EXP] the query should not switch to edit mode and stay to the url question question id filter name filter value [EXP] [OTH] read only profiles can t use drop down filters [OTH] [REP] 1 go to a saved question that provide drop down filter question question id 2 select one or more value on the filt [REP],"Read-only profile switch to ""New question"" mode after applying a filter on native query"
[DES] when i try to add a chart to an existing chart on the dashboard i am not able to add the new chart even if it is t [DES] [EXP] should be able to layer both the charts on a single graph as per url [EXP] [OTH] this is pretty irritating not being able to compare datasets almost defeats the point of having metabase [OTH] [REP] steps to reproduce the behavior 1 create a new report that uses an advanced summary calculated value distinct or o [REP],Multi-series charting not working on 33.4
[DES] when using metabase i have some attribute a along the x axis and am grouping by attribute b to have multiple lines [DES] [EXP] would simply expect the x axis and grouping variables to remain as the filter is added [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] steps to reproduce the behavior 1 go to metabase dashboard for respective firm 2 click ask question 3 provide a me [REP],Adding filters sometimes flips the x-axis data and the group-by data
[DES] the oracle system id sid and oracle service name part formular to set up a new oracle database are misleading img  [DES] [EXP] the way stupid me understands the ui is that the sid is required whereas the tns is optional however after a lot o [EXP] [OTH] lost quite some time and a few inches worth of nails but i guess it s not that severe [OTH] [REP] i have a metabase version install with ojdbc7 jar driver installed as detailed in the documentation url [REP],Add new Oracle database UI is misleading
[DES] combo chart is misaligned displaced on x axis when using area and ordinal or just histogram [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 simple question sample dataset orders 2 summarize count of rows and sum of total by createdat year 3 change visualization to combo 4 change one of series to area under display 5 change x axis scale to ordinal [REP],Combo chart with Area is misaligned on X-axis with Ordinal scale
[DES] the pin maps initial zoom level when it s first created hides the top most set of pins you have ot either zoom out [DES] [EXP] all pins should in the map should be visible from the start unless a specific zoom or pan is set as default i expe [EXP] [OTH] risk of missing data points because we know it s an issue we zoom out and check but i don t think we should have t [OTH] [REP] steps to reproduce the behavior 1 simple question sample data set people 2 row limit 999 3 visualise as a pin map  [REP],"Pin Map, initial zoom level hides the top most pins"
[DES] using pin maps on a data set that is wide can be columns joined in the query builder or simply a table with lots o [DES] [EXP] i expect the zoom level to be retained when i hover a pin to get more info [EXP] [OTH] frustration you can spend a bit of time zooming in on the area of interest then hover a pin for more detail and bo [OTH] [REP] steps to reproduce the behavior 1 ask a question custom question 2 sample dataset orders 3 setup as below mainly j [REP],Pin Map zoom is reset when hovering pins when wide data sets are used
[DES] when using a grid map built off a custom question that includes a join to the location fields i e new advanced que [DES] [EXP] zoom in to that grid section grouped at a smaller lat lon this works as expected when the same data is collected u [EXP] [OTH] annoying this zoom in is one of our users favorite features they love going from high level down to local detail i [OTH] [REP] steps to reproduce the behavior 1 ask a question custom question 2 setup as below image url 3 visualize should sho [REP],"Grid Map ""Zoom In"" broken for ""Custom Questions"""
[DES] when setting replace missing values with to not linear interpolated then line point tooltip is missing data [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 custom question sample dataset orders 2 summarize count and sum of toal by createdat year 3 viz settings display change replace missing values with to not linear interpolated 4 hover the line points and notice the missing data [REP],Line point tooltip missing data when not Linear Interpolated
[DES] . [DES] [EXP] you can unselect without the issues [EXP] [OTH] this makes it incredibly hard for me to use the feature on big data sets unticking all works on joined tables but  [OTH] [REP] steps to reproduce the behavior using chrome browser 1 go to a large table and enter editor 2 click on columns 3 s [REP],Editor screen jumps to top when unselecting the columns where list exceeds screen height
[DES] using java jar metabase jar dump to h2 mydumpfile with a postgres 12 application database fails with a referential [DES] [EXP] a dump file should be written and data which seems to be fine in postgresql should not result in integrity violati [EXP] [OTH] if this can be reproduced this is relevant to everybody using the serialization feature described in the enterpris [OTH] [REP] steps to reproduce the behavior 1 shut down metabase version running on postgres version in docker containers 2 ru [REP],"dump-to-h2 on Postgres fails with ""Referential integrity constraint violation"""
[DES] i have two schemas when i write a sql query without a join i can reuse the results as a saved quetions once i join [DES] [EXP] joins should be allowed for saved questions [EXP] [OTH] i found an hack to work arround this by creating a question without join question a then i ve built a new quetion  [OTH] [REP] . [REP],Cannot use saved questions with JOINS
[DES] when a filter is used with multiple selection the hover on a chart will display only a single value for that varia [DES] [EXP] in the tooltip all of of the selected countries should be shown example if us gb and de are selected in the filter [EXP] [OTH] quite serious anyone checking the tooltip is left wondering if the filter works properly [OTH] [REP] steps to reproduce the behavior create a chart ex stacked bar chart x axis is time y some metric select a few othe [REP],Tooltip on hover does not correctly reflect filter with multiple selections
[DES] i ve metabase version with ldap authentication configured i ve configured group sync and the metabase group is cor [DES] [EXP] as the user is removed from the mapped group it should be assigned to the default group [EXP] [OTH] it is blocking some users [OTH] [REP] steps to reproduce the behavior 1 configure ldap authentication 2 configure a mapped ad group cn group ou groups d [REP],LDAP group sync - LDAPException after removing user from a mapped group
[DES] when filtering an entity key pk using equal to and comma separating to select multiple ids the result only shows o [DES] [EXP] show table result with filtered ids i would expect similar behavior as filtering foreign keys [EXP] [OTH] . [OTH] [REP] 1 simple question sample dataset orders 2 filter by id with equal to 3 type 5 comma 8 comma 15 click add filter 4  [REP],Filter Equal with multiple IDs of Entity Key only shows Object Details of single ID
[DES] i am using metabase hosted by a provider version version but am happy to run a docker instance to help test multip [DES] [EXP] i expect it to save [EXP] [OTH] this is blocking all usability of the custom question involving a join thanks for any assistance and if there s an [OTH] [REP] 1 click ask a question 2 click custom question 3 select a table 4 click the join data button 5 select the table yo [REP],Unable to Save Custom Query with Join
[DES] start a native query go to data reference select the saved questions it ll show how many saved questions there are but the link text is invisible the links are still clickable and go to the data reference for those entries [DES] [EXP] maybe the saved questions shouldn t be listed at all since those data can t be queried in a native query [EXP] [OTH] very low just a weird thing [OTH] [REP] . [REP],Native Query > Data Reference > Saved Questions > Invisible Text on List
[DES] i ve configure the timezone to be us pacific in the jvm and when i query without grouping using the custom question builder it works fine but the timezone isn t being considered when using group by it directly considers it a utc timezone and starts displaying data in utc time [DES] [EXP] the java user timezone to be respected when grouping [EXP] [OTH] . [OTH] [REP] . [REP],Mongo Driver Timezone Issue When Grouping
[DES] sometimes when i try to add a new question to a dashboard it doesen t load properly the new card with the question [DES] [EXP] to properly load place and resize new question cards to dashboards [EXP] [OTH] blocking your usage of metabase entirel [OTH] [REP] create a new dashboard and try to import a question to it it [REP],Dashboards breaking after adding new question cards
[DES] when trying to change the date granularity or remove a metric eg from the default starting point of users page views over time clicking on the granularity or the x doesn t do anything [DES] [EXP] i d expect the date granularity to change [EXP] [OTH] this makes ga unusable with metabase and i reverted to using ga directly [OTH] [REP] go to browse data click on a ga property you ll see a prefilled query try to change the date granularity and nothing happens [REP],Google Analytics causing summarize to not work properly
[DES] if a user has written a custom query in some cases it is showing an incorrect association to a table not used in t [DES] [EXP] probably would prefer things to be like the other custom queries where just the example database name would be sho [EXP] [OTH] it s mainly an oddity and a little confusing for the user putting the question together since he thought he was do [OTH] [REP] not sure how others would be able to replicate this behavior at the moment [REP],First Schema / Table Being Displayed in Saved Custom Question
[DES] chart in my case a stacked bar chart x axis doesn t reflect the order changes ascending descending of the used col [DES] [EXP] the x axis should reflect the ordering changes in the filter configuration [EXP] [OTH] this doesn t prevent us to use the different kind of charts but as ordering is a basic functionality i think it is [OTH] [REP] you can use the bundled sample dataset to reproduce the issue screenshots also included 1 create a new question fr [REP],Chart X-axis doesn't reflect order changes
[DES] in the dashboard widget edit modal an unintentional horizontal scrollbar is visible on the bottom part of the moda [DES] [EXP] the long question names should be truncated or wrapped into multiple lines therefore the vertical scrolling would  [EXP] [OTH] this is a display issue only doesn t prevent the usage of the feature but looks weird as a quick n dirty fix i hav [OTH] [REP] steps to reproduce the behavior 1 go to any dashboard 2 click on edit button to add another question as multi seri [REP],Additional question column scrollbar issue in dashboard widget edit modal
[DES] when renaming the schema of a database previously existing questions break [DES] [EXP] the questions should not have static information on the schema name saved but query the database connection for th [EXP] [OTH] well what i assumed to be a trivial exercised invalidated all existing reports and questions that s pretty severe  [OTH] [REP] steps to reproduce the behavior 1 connect a data source e g dwh 2 create a question 3 rename the schema containing [REP],Questions break when renaming a schema
[DES] on running the query in the query editor the rendering seems to trigger an infinite loop when working with a pie chart see attached gif [DES] [EXP] this not to happen [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your usage of metabase entirely note the more honest and specific you are here the more we will take you seriously annoying but not breaking as long as there s enough ram to pull through [OTH] [REP] . [REP],Infinite loop on pie chart rendering
[DES] when clicking a column header to drill down filter it will not show data options on first load but if trying again [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 simple question sample dataset people 2 click on source column header and drill filter there will be no data opt [REP],Column heading Filter does not load data options on first popup
[DES] downloading full results to excel csv or json from a card containing multiple questions only returns a single data [DES] [EXP] the downloaded data should contain data from both questions each in its own column [EXP] [OTH] this is impacting users especially external users seeing dashboards as embedded pages in larger applications quite [OTH] [REP] steps to reproduce the behavior 1 create a dashboard 2 add a question containing timeline related data x date y nu [REP],"""Download full results"" only returns single question data column in cards containing multiple questions"
[DES] post to api database will overwrite an existing database instead of erroring [DES] [EXP] expect metabase to error and say database with name foo already exists [EXP] [OTH] . [OTH] [REP] create a database with a post to api database run the same call again [REP],We should add unique constraint on Database name + engine (driver)
[DES] embedded reports return 400 assert failed map token params [DES] [EXP] a clear and concise description of what you expected to happen [EXP] [OTH] severe can t embed dashboards the parameters work fine when using a public insecure iframe url [OTH] [REP] steps to reproduce the behavior 1 create a question select testvariable 2 create a dashboard with that question and a filter of the same name 3 embed with the parameter set to editable [REP],"Parameters not working in embedded reports ""Assert failed: (map? token-params)"""
[DES] it is not possible to clear empty remove the description of table column in data model same goes for description i [DES] [EXP] . [EXP] [OTH] creating this issue so reports by vvaezian url issuecomment and mazameli url issuecomment don t get lost in the co [OTH] [REP] 1 admin data model sample dataset orders or data reference sample dataset orders 2 clear the description of table  [REP],Cannot clear Description from table/column in Reference or Data Model
[DES] when sorting data for trend smart number in descending order then it stops working and just displays the message nothing to compare for the previous x this is applicable to qb and sql [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 go to custom question select sample dataset and orders 2 summarize count by createdat week 3 sort createdat week descending 4 nothing to compare for the previous week [REP],Trend/Smart Number does not work when dates are descending
[DES] when you enter edit mode on a dashboard and click to drag a graph item then drop it the browser frequently navigat [DES] [EXP] you d expect it to drop and you remain on the page [EXP] [OTH] very annoying [OTH] [REP] steps to reproduce the behavior 1 go to any dashboard 2 start edit 3 add a chart question to the dashboard 4 try t [REP],"Dragging and dropping dashboard charts during edit often opens the question, losing your pending edits"
[DES] problem are multiple lines with the same x value on the line chart are visualized incorrectly in new version versi [DES] [EXP] we will see two lines however for each date is visualized only one point [EXP] [OTH] blocking some user [OTH] [REP] prepare a query that have columns date value a value b both values must be filled for each date and visualize it i [REP],"Missing values when visualizing multiple lines with same ""X"" value"
[DES] previously i could use custom columns to add calculated columns e g sum sold price count distinct customer however [DES] [EXP] i expected to be able to create custom columns using both the fields available in in the query and available funct [EXP] [OTH] we have upgraded on our main server so this is now blocking our users from making reports [OTH] [REP] steps to reproduce the behavior 1 create a new questions 2 group table by a category 3 add several sum of to the s [REP],Issues with custom columns since new query designer release
[DES] text columns are converted aggressively to datetime in charts and x axis shows date even when scale is set to ordinal [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] set viz to bar or line for the following query select 1396 01 as t 40 as c union all select 1396 02 as t 40 as c union all select 1396 03 t 40 c union all select 1396 04 t 40 c union all 05 06 07 08 09 10 11 12 [REP],Text columns are converted aggressively to DateTime in charts
[DES] visual query builder won t load at all i upgraded to v version from v version and the issue still persists [DES] [EXP] query builder will show up [EXP] [OTH] pretty severe for me as it makes query builder entirely unusable running on amazon ecs docker container orchestrat [OTH] [REP] steps to reproduce the behavior 1 click ask a question in navigation bar 2 click custom question 3 stuck at loadin [REP],Visual query builder won't load at all on v0.33.3
[DES] a clear and concise description of what the bug is [DES] [EXP] a clear and concise description of what you expected to happen [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your usage of metabase entirely note the more honest and specific you are here the more we will take you seriously add any other context about the problem here [OTH] [REP] steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error [REP],'View these x' action doesn't work for questions with joined data
[DES] when creating a custom question and doing filter aggregation on returned data generating a sub select then dashboa [DES] [EXP] ability to do filtering via dashboard [EXP] [OTH] see forum thread for real database queries url not sure if it is related to 980 [OTH] [REP] 1 create custom question from sample data orders 2 filter user id 1 summarize sum of total grouped by created at d [REP],Cannot link dashboard filters to Custom questions with filtered aggregate data
[DES] . [DES] [EXP] the save new question dialog should appear [EXP] [OTH] . [OTH] [REP] 1 go to new question 2 select sample dataset products 3 add a custom expression summe price summe rating maybe sum price sum rating in english 4 click save nothing happens but the javascript error in shows up as posted in the logfile [REP],Save question doesn't work when using a mathematical operation in a custom expression
[DES] for example a table user with single column id this sql is not supported by hive sql select t1 id as id from user  [DES] [EXP] a sql generated must not include table alias as a prefix [EXP] [OTH] . [OTH] [REP] 1 prepare hive table and create connection to database using spark sql type 2 navigate to table view of some table [REP],Metabase generated SQL with ORDER BY clause is not supported by Apache Hive.
[DES] 1 open any embedded dashboard 2 user clicks download icon 3 download menu opens 4 user clicks on one of the format [DES] [EXP] ideally one of the following should happen after clicking on one of the download formats 1 disable the download me [EXP] [OTH] i would rate this as a blocker most of our users download large datasets via metabase because of this bug a very s [OTH] [REP] steps to reproduce the behavior 0 open any embedded dashboard 1 user clicks download icon 2 download menu opens 3  [REP],Download menu does not close after clicking on the desired download format
[DES] some panel questions are not processed randomly and intermittently [DES] [EXP] all questions should show results [EXP] [OTH] some users need to refresh a dashboard for a complete result the same error appears in single questions [OTH] [REP] all dashboards have the same error a refresh usually resolves the issue [REP],Some panel questions are not processed randomly and intermittently
[DES] i trying to migrate my data from h2 to mysql using the comand load from h2 i m running the docker version [DES] [EXP] migrate the data from h2 to mysql [EXP] [OTH] i have a lot of problems because the h2 have 11gb size [OTH] [REP] the command on docker docker run d v metabase data old metabase data e mb db file metabase data metabase db v plugins app plugins e mb plugins dir app plugins e mb db type mysql e mb db port 3306 dbname user user pass pass host ip name migrate v version load from h2 [REP],Can't migrate do MySQL from H2
[DES] when the date is string formatted in a native query the tool tip doesn t show up when hoovering data points on the [DES] [EXP] when hovering over any data point on the dashboard the tool tip should appear and display the date and the measure [EXP] [OTH] this isn t a blocking issue since there is a work around to it e g convert the date as date however for non sql ex [OTH] [REP] steps to reproduce the behavior 1 go to ask a question native query 2 select a bigquery database and past the foll [REP],Tool-tip doesn't show up when the date is string-formatted
[DES] cannot stop exit resizing a dashboard card then clicking the corner not press and drag [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 go to dashboard with cards and click pencil2 edit dashboard 2 hover a card s lower right corner react resizable handle and click it not press and drag 3 console typeerror and you cannot end the resizing by clicking again if you moved the mouse cursor outside the resize corner requires a browser refresh to fix it [REP],Cannot stop/exit resizing dashboard card if clicking resize-corner
[DES] i deployed a metabase instance and added successfully a database of type mongodb pointing to an aws documentdb ins [DES] [EXP] i expected to be able to add other databases [EXP] [OTH] i am just evaluating metabase for the moment [OTH] [REP] steps to reproduce the behavior 1 deploy metabase and setup a mongodb database pointing to an aws documentdb insta [REP],Cannot add second database from AWS DocumentDB
[DES] hovering a bar or line point from sql question does not show tooltip [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] select 2019 01 as col1 3 as col2 union all select 2019 02 as col1 1 as col2 union all select 2019 03 col1 5 col2 union all select 2019 04 col1 4 col2 [REP],Tooltip not showing on SQL on certain date-formats
[DES] bar visualization does not work [DES] [EXP] it should show one bar for each project id similar to this image url [EXP] [OTH] hight some of my graphs are broken the problem apears when i update to v version from v version [OTH] [REP] i run this native query on a mongodb database match date gte isodate 2019 09 01t00 00 version z lte isodate 2019 0 [REP],Bar visualization does not work (v0.33.2)
[DES] when using custom question notebook and joining two tables by datetime columns the sql casts parses the joining co [DES] [EXP] just to join by the selected columns without any casting parsing [EXP] [OTH] . [OTH] [REP] 1 go to custom question 2 select orders 3 join by reviews on created at created at 4 click view the sql sql select [REP],"Joining two tables by DateTime columns, casts/parses the join as week/month"
[DES] if i add a new database and for some reason metabase doesn t record its tables then on the admin permissions scree [DES] [EXP] the permissions grid should always accurately display granted permissions [EXP] [OTH] annoying there s a larger question here about how to handle databases that don t have tables mazameli any thoughts [OTH] [REP] steps to reproduce the behavior 1 add a database to metabase 2 delete metabase s tables for that database 3 go to  [REP],when database has no tables its granted permissions don't display
[DES] if you try to save data permissions and the server responds with an error message that error message is not displayed anywhere [DES] [EXP] the error message should be displayed [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to admin permissions in two separate tabs 2 edit and save permissions in tab 1 3 edit and save permissions in tab 2 in the devtools console you ll see the server responds with a 409 and the above error message [REP],permission error messages are not showing
[DES] 1 the metabot group appears in data permissions and the ui communicates that you can set data permissions for it h [DES] [EXP] either clearly explain that metabot can t have data permissions or remove metabot from this screen entirely [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to admin permissions 2 try to set grant metabot with access to a database cha [REP],metabot shows up in data permissions but can't have data permissions
[DES] in a 445 entry table there s one single entry that should be coalesced into an n a pie slice in table view it is d [DES] [EXP] pie slice should show 1 [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] see attached gif [REP],"Weird, off-logic aggregation shows on a simple coalesce in pie chart"
[DES] i want to create a custom column after i have aggregated as sum of two metrics however i m only able to choose one [DES] [EXP] i want to be able to select both of my aggregated metrics named e g sum successes and sum attempts so i can create [EXP] [OTH] . [OTH] [REP] remember that i m a medium url tl dr i record date success attempt on a daily basis i now want to get an overview  [REP],cannot select both aggregated metrics
[DES] since updating to v version we re getting sorry you don t have permission to see that errors when trying to save a [DES] [EXP] running queries and saving entities should not cause errors [EXP] [OTH] blocking our ability to add any new questions or dashboards or modify existing ones which is having a fairly large [OTH] [REP] steps to reproduce the behavior 1 click ask a question 2 select native query 3 enter a query 4 run it error probab [REP],Permissions errors when running queries or saving anything
[DES] internet explorer 11 does not show charts but rather the error message object doesn t support property or method g [DES] [EXP] the charts should be displayed as they also work in microsoft s edge browser [EXP] [OTH] blocking some users especially enterprise customers who cannot upgrade their browser after some time ie will also  [OTH] [REP] steps to reproduce the behavior 1 use internet explorer 11 2 try to view a dashboard with charts either directly i [REP],Charts not showing (getElementsByClassName not available)
[DES] i ve seen this bug discussed and supposedly fixed but i m definitely seeing it again on v version when creating a  [DES] [EXP] it should display line graph with no errors [EXP] [OTH] this is blocking some users and frankly making me look bad [OTH] [REP] steps to reproduce the behavior 1 do a fresh install on aws of v version 2 create a native query and visualize it  [REP],Native query > MIME type ('text/html') is not executable on latest AWS install
[DES] csv download doesn t give proper results as per the documentation 1 million is the download limit however in my ca [DES] [EXP] to download the entire data since it is in the limit of 1 million rows [EXP] [OTH] very important since we need to answer our stack holders on the add any other context about the problem here [OTH] [REP] steps to reproduce the behavior 1 go to download button 2 click on download button 3 fetch the results and do the  [REP],CSV Download limit numbers not consistent with the Table size
[DES] when summarizing a group of orders and grouping on a column from another joined table the drill down to view these [DES] [EXP] i would expect to see those orders using the same query previously used [EXP] [OTH] i would say this is of high severity as it was working in version version and stopped working in the new query bui [OTH] [REP] steps to reproduce the behavior 1 go to query builder 2 join two tables 3 summarize by count and group by column f [REP],Drill down broken in v.0.33.2 when joining tables
[DES] charts are not visible in console there is error getting setting graph x axis title text typeerror cannot read property cols of undefined [DES] [EXP] chart should be visible [EXP] [OTH] blocking usage [OTH] [REP] steps to reproduce the behavior 1 go to chart question written in sql 2 click on refresh 3 see error [REP],Charts in SQL questions not working after update to 0.33.2
[DES] when aggregating by month the truncated dates are returned in the incorrect format preventing metabase for chartin [DES] [EXP] dates returned as dates so that they can be graphed [EXP] [OTH] monthly aggregation is a very common aggregation used we may not roll out metabase to non technical users with thi [OTH] [REP] you can reproduce this issue with the following query against a mysql database select str to date 2019 09 10 y m d [REP],Group by Month Date Encoding Issue with MemSQL Database
[DES] for one of the sample dashboard peoples dashboard the geo map is loading fine as shown below image url now when i  [DES] [EXP] map should be rendered on the print preview just like on the dashboard [EXP] [OTH] blocking an upgrade [OTH] [REP] steps to reproduce the behavior 1 go to any dashboard having geo map like the one in the image above 2 click ctrl  [REP],Chrome print preview for maps not working
[DES] time series data are not recognized when rendering charts the year is set back to 1970 [DES] [EXP] time series is recognized data is ordered on x with proper [EXP] [OTH] we can switch to tables but it is neither trivial nor informative in all the cases [OTH] [REP] this is the data before upgrading to version chart was rendered properly screenshot 2019 09 11 at 11 49 18 url [REP],time series data is not recognized - empty chart is rendered
[DES] there is some inconsistencies between the public shared dashboard and the dashboard accessed from metabase directly [DES] [EXP] a clear and concise description of what you expected to happen [EXP] [OTH] slightly annoyin [OTH] [REP] steps to reproduce the behavior access public shared link with different number settings then default and access it directly from metabase see the difference between them this seems to happen sometimes and other times it s okey [REP],Wrong with formatting numbers on public shared dashboards
[DES] hi few days after running metabase email pulses stopped working log file seems clean the only way to get it work a [DES] [EXP] receive a pulse email every day 08 00 [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] steps to reproduce the behavior n a [REP],Pulse stopped working - emails not sent
[DES] create a metric with a custom expression without giving it an optional name and then save the metric and visit dat [DES] [EXP] . [EXP] [OTH] was reported in the forum url [OTH] [REP] 1 go to admin data model sample dataset orders add a metric 2 click view custom expression and set expression sum  [REP],Metric with unnamed Custom Expression breaks Data Model for table
[DES] month is displayed on the line chart tooltips instead of week when grouped by week looks like regression in version since it was displaying properly in previous versions [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 create line visualization with grouping by week 2 hover on the dot on the line 3 see month instead of the week [REP],Month is displayed on the line chart tooltips instead of week when grouped by week
[DES] bar charts are not rendered when one of the series includes only nulls [DES] [EXP] bar charts are rendered without the series which is null [EXP] [OTH] users cannot see existing reports they can however switch to table view but it is not trivial that the data is actually there [OTH] [REP] query any data where one of the series contain only nulls table view is populated line chart is okay but bar chart is not rendered [REP],charts are not rendered when there is a series with null values
[DES] while creating a query i want to unselect columns but after unselecting a few columns also creating a feature requ [DES] [EXP] . [EXP] [OTH] blocking users that do not want to write sql and want to choose specific columns [OTH] [REP] steps to reproduce the behavior 1 go to ask a new question you need a data base with at least 20 columns 2 click o [REP],Selecting column Y while trying to unselect X
[DES] trying to run metabase on windows 7 using gitbash for installing build installed successfully but when running the [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 run gitbash on windows 7 2 follow install instructions from docs 3 install build [REP],backend server not starting in gitbash on windows
[DES] updating user name email via gear account settings returns sorry you don t have permission to see that but actually saves the changes [DES] [EXP] clicking update would return a little confirmation message just like changing password does [EXP] [OTH] . [OTH] [REP] 1 login as non admin user 2 go to gear account settings and change name email and click update 3 sorry you don t have permission to see that [REP],Updating Account Settings returns permission error
[DES] a dashboard containing a pin map will not load anymore after upgrading to version i can also feel a longer respons [DES] [EXP] the dashboard should load correctly [EXP] [OTH] quite annoying bug i had to rollback my installation add any other context about the problem here [OTH] [REP] steps to reproduce the behavior 0 configure metabase database to postgres 1 create a pin map using the people tabl [REP],Dashboard fail to load pin map question after upgrading to 0.33.1 from 0.33.0
[DES] percentage formatting no longer works whenever values are shown tables tooltips etc [DES] [EXP] values set as percentage should show in percentage format [EXP] [OTH] all formatting has disappeared for percentages which makes tables and tooltips unreadable quite severe indeed [OTH] [REP] upgrade to version check any percentage formatted field [REP],Percentage formatting no longer works after v0.33.1 upgrade
[DES] search loads indefinitely and does not return results [DES] [EXP] search should return results [EXP] [OTH] pretty severe we can t search anymore [OTH] [REP] upgrade to version make a search [REP],Search no longer works after 0.33.1 upgrade
[DES] after upgrading from v version to v version we can t create any more questions [DES] [EXP] should save the question [EXP] [OTH] i think it s a major issue [OTH] [REP] steps to reproduce the behavior 1 go to ask a question simple question 2 select any database and any table 3 press save and then save again 4 see error [REP],Can't save new questions after upgrading to v0.33.1
[DES] after upgrading from version to version some of our existings questions containing line and bar charts are broken displaying an error like this image url [DES] [EXP] it should show the chart and not an error [EXP] [OTH] i think it s a big deal and some users would prefer to wait before upgrading to v version to not break their dashboards ps metabase is amazing thank you for it [OTH] [REP] i haven t been able to reproduce the issue as it seems it doesn t happen with new questions [REP],Line & Bar visualizations broken after upgrading to v0.33.1
[DES] pie charts are significantly larger across all dashboards since the upgrade to version [DES] [EXP] . [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your usage of metabase entirely note the more honest and specific you are here the more we will take you seriously 90 of our visualizations are pie charts this is a severe issue piecharts url [OTH] [REP] steps to reproduce the behavior upgrade version version [REP],Pie charts significantly larger after update to 0.33
[DES] when i want to match a filter of a dashboard with parameters of questions in a dashboard it is not possible [DES] [EXP] if i add or edit a filter to a dashboard all questions ask for the parameter to filter [EXP] [OTH] is this sometimes it works [OTH] [REP] steps to reproduce the behavior 1 create a dashboard and add questinos same issue when opening an existing dashboa [REP],"Dashboard, cannot add filters and save failed"
[DES] when running an sql question as a bar or bar line chart the dates displayed on the x axis are being shown incorrec [DES] [EXP] the two dates should match [EXP] [OTH] high it is providing end users with inaccurate data that they believe is accurate this occurs whether you view the [OTH] [REP] steps to reproduce the behavior create a question in sql utilising a parameter to set a date range and a parameter [REP],SQL based question shows incorrect dates on X axis of Line/ Bar Charts
[DES] members randomly get removed from groups in metabase when their ldap group membership remains constant seems to happen when a user tries to login [DES] [EXP] members should remain members of a metabase group as long as they are still members in the ldap group [EXP] [OTH] blocking severe [OTH] [REP] with a ldap configured metabase try to log in perhaps with the wrong password and members will be removed from a metabase group [REP],LDAP Group Membership from v0.32.10 on back
[DES] after updating to version the default formatting settings set under admin do now pull through on the settings opti [DES] [EXP] i expected to see the symbol r when i select currency [EXP] [OTH] there is no way for me to change from to r in all my tables i m from south africa and we work in currency rand sym [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on formatting on the left menu and change the currency to sout [REP],"After updating to 0.33, the default formatting settings are not applied."
[DES] after upgrading from 32 x to version the pulse images on slack got stretched up it seems like it changed from land [DES] [EXP] i expected the pulse image after the upgrade to look like it used to before the upgrade [EXP] [OTH] slightly annoying add any other context about the problem here [OTH] [REP] steps to reproduce the behavior 1 create view a pulse with a chart 2 trigger a slack notification with it 3 look a [REP],Pulse image got stretched out after 33.0 upgrade
[DES] when visualizing timestamp data and group it by month march appears twice and october is sometimes not visible [DES] [EXP] . [EXP] [OTH] how severe an issue is this bug to you annoyin [OTH] [REP] steps to reproduce the behavior 1 open a table with timestamp data 2 create a graph and group by month 3 see error [REP],"When visualizing timestamp data and group it by month, March appears twice"
[DES] the most recent release of metabase has added 200mb to the size of the image from the rc1 image from docker hub la [DES] [EXP] i don t think the image should nearly double in size between a release candidate and the release also running a ve [EXP] [OTH] low large docker containers are generally a bad practice and should be avoided where possible [OTH] [REP] steps to reproduce the behavior 1 go to the metabase docker hub url page 2 review image history [REP],Docker Image Nearly Doubled in Size
[DES] i have a question that shows a table that counts rows by day and time for example how many sessions took place on  [DES] [EXP] since the initial table tells me there are 2 records at the 4 pm time slot i would expect to be able to see 2 reco [EXP] [OTH] high showing inaccurate information and reducing user confidence in the system since the database value for the re [OTH] [REP] create a table and group by day of week and time hour of day they are the same in my case image url click on the n [REP],Date/Time Question does not match View these Records
[DES] moving queries from a personal collection to a public collection has options to do so but upon saving the move and [DES] [EXP] the collection of the question has moved [EXP] [OTH] it is blocking permissions management [OTH] [REP] steps to reproduce the behavior 1 go to saved question in personal collection 2 click on pencil icon beside questi [REP],Unable to move collections for saved queries
[DES] drawing a map in the map view does not create a filter [DES] [EXP] the map should be filter for gps coordinates [EXP] [OTH] blocking some functionality that prevent us to adopt the tool entirely [OTH] [REP] steps to reproduce the behavior 1 go to a vistulization map with gps coordinates plotted in the map 2 click on draw search 3 create a filter 4 nothing happen [REP],Map drawing search does not work in 0.33.0
[DES] drill through filters on joined tables doesn t use aliased name so it ends with error [DES] [EXP] should behave like the filter sidebar which uses the aliased table name [EXP] [OTH] seems like it s friends with 1001 [OTH] [REP] 1 go to custom question select sample dataset and orders 2 join products table and join people table visualize 3 c [REP],Drill-thru filters does not work on joined tables
[DES] when you manually join a table using join data you cannot write a custom expression that contains fields from mult [DES] [EXP] the list of field from jointable should be included in the list for user to select in the custom expression [EXP] [OTH] not blocking but it should be part of the feature to allow join data this is working fine for basic metrics fields [OTH] [REP] steps to reproduce the behavior 1 go to ask a question custom question 2 pick a table e g maintable 3 create a joi [REP],"Metabase 0.33 Cannot use columns from ""Join data"" in Custom Expression"
[DES] on tables created a couple months ago some of the basic metrics like averaging sum of etc are not available on new [DES] [EXP] i am expecting all basic metrics to be available on all tables regardless of when they are created [EXP] [OTH] not very severe but is blocking our team [OTH] [REP] steps to reproduce the behavior 1 go to ask question 2 click on select a table 3 click on summarize 4 notice some  [REP],Average Basic Metric Missing on Certain Tables
[DES] i can t start metabase v version with the jar file download from url and connect to amazon aurora mysql v version  [DES] [EXP] the expected behavior is to finish the mysql migrations without getting stuck and set up the mysql tables on amazo [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] steps to reproduce the behavior 1 download metabase v version from url 2 setup amazon rds aurora mysql database v  [REP],Metabase 0.33.0 stuck on database migration
[DES] when creating a question based on google analytics and using the date filter of previous x months with this month  [DES] [EXP] would include all data through the last day of the prior month [EXP] [OTH] blocking a dashboard metric that is requested [OTH] [REP] pre requisite link with a google analytics account steps to reproduce the behavior 1 create a new question 2 selec [REP],"Google Analytics - Filter by Prior [X] Months Breaks ""Last Month"""
[DES] when auto y range is disabled and a manual range is set this range is ignored if a data series has values outside  [DES] [EXP] the y range adheres to the manually set values [EXP] [OTH] annoying makes some plots difficult to read or in need of having to be reworked split into separate questions [OTH] [REP] steps to reproduce the behavior 1 create a question that produces a series with any values between a and b 2 selec [REP],0.33 ignores y axis range if values are outside of this range
[DES] this was previously working in older versions and i suspect may be a regression of url when i apply a format to a  [DES] [EXP] i d expect that whatever formats i choose for the columns in the table would also apply to exported versions of th [EXP] [OTH] we use metabase to send reports directly to partners automatically via pulses this issue causes the formatting on  [OTH] [REP] steps to reproduce the behavior 1 browse the raw data for orders in the sample dataset 2 click the heading of crea [REP],"0.33 - Date formats are no longer applied to exports, possible regression"
[DES] addition of tables to the universal search bar is great but just found that it will only search on the actual tabl [DES] [EXP] i would expect the search to be able to find tables based on how they are referenced in the rest of metabase i e b [EXP] [OTH] annoyance users can t search for tables by the names they know them by this limits the usefulness of the improved  [OTH] [REP] steps to reproduce the behavior 1 have a table name in a database that maps to a friendly name with multiple words [REP],Universal search can't find tables by Metabase friendly name
[DES] a user with collection permissions to a dashboard also needs data access permission [DES] [EXP] i should be able to use a dashboard i have collections access to even if i have no self service data access permis [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 create a dashboard 2 create a count of rows card for the orders dataset 3 add th [REP],Can't view a dashboard without data access permission for fields connected to filters
[DES] when starting a fresh install with docker compose using multiple instances sometimes one of the instances dies because of an exception encountered while trying to migrate [DES] [EXP] both instances should launch [EXP] [OTH] annoying could be remedied by restarting instances [OTH] [REP] 1 run docker compose up with this config url 2 if it doesn t happen run docker container rm caddy load balanced local db 1 and try again [REP],Migrations cause failure with multiple instances
[DES] it appears that the documentation for version version is not uploaded to metabase com [DES] [EXP] the documentation for v version to load [EXP] [OTH] we just upgraded and our coworkers are going to want to read documentation on all the new features [OTH] [REP] steps to reproduce the behavior 1 click on the gear icon in the top right 2 click on help 3 browser will navigate to url 4 get 404 error page [REP],Help link in dropdown goes to 404
[DES] i m seeing the error message cannot read property getattribute of undefined when zooming into reviews data in the sample dataset [DES] [EXP] i expected to see charts [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 open the sample dataset 2 click on a look at your reviews table 3 click on a column under reviews by rating [REP],"""Cannot read property \\\\'getAttribute\\\\' of undefined"" in sample dataset"
[DES] with a mb instance running on docker i tried to connect to a postgres db running on the docker host my laptop usin [DES] [EXP] an error message with more details i think conveying the error message that postgres returns would have been more  [EXP] [OTH] . [OTH] [REP] 1 run dockerized mb 2 in the setup wizard enter postgres connection details and click next [REP],"""Server error occurred"" message when connecting to local Postgres"
[DES] tabs inside the audit panel are not availlable only the overview is [DES] [EXP] a clear and concise description of what you expected to happen [EXP] [OTH] tabs is not working for all the audit pages [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on all members 3 open the console 4 see error [REP],tabs not working for the entreprise version
[DES] letter in russian keyboard layout is located on the comma key russian comma is located on though when i type the l [DES] [EXP] when i press key i want it appears in the textbox like any other letter [EXP] [OTH] it s very annoying for anyone who needs search in russian how does russian layout look ru layout url [OTH] [REP] 1 you have a column which is set to category type and to search box filter 2 go to ask question new question 3 ope [REP],Comma key works as comma even when it's not a comma in another layout
[DES] casting a large number to money results in an error [DES] [EXP] for it to display the value [EXP] [OTH] low medium it means i have to rewrite my existing report queries none [OTH] [REP] steps to reproduce the behavior 1 attach metabase to a postgresql database 2 execute this sql select version money 3 see error bad value for type double 99 999 version [REP],"Metabase cannot process Postgresql ""money"" datatype."
[DES] metabase load from h2 fails at removing constraints during migration [DES] [EXP] successful migration i actually have successfully tried the migration on my local machine windows with the same h2 db files with raw database created via pgadmin and it migration ran fine there was however some missing data after i reran the instance that stems from the migration [EXP] [OTH] . [OTH] [REP] 1 source env env contains vars i followed from here url 2 ran java jar metabase jar [REP],Unable to migrate from H2 to Postgres on 0.32.9
[DES] not able to save custom fields done button is disabled i couldn t find any existing bugreports if so sorry about that [DES] [EXP] to be able to save the custom column [EXP] [OTH] not being able to save the field is not good add any other context about the problem here [OTH] [REP] steps to reproduce the behavior 1 go to query builder 3 2 go down to custom column 2 click on 3 add formula 4 see nothing changing on button still disabled [REP],"Custom fields, done button is disabled"
[DES] when looking at raw data for a given table it appears those fields do not show up by default but we can still add them in tabs settings section [DES] [EXP] i would expect not to see these fields in tab config [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 set a field as only in detailed views 2 open table in metabase 3 go to the settings of the tab that has appeared 4 you will be able to add the given column [REP],"Fields with ""only detailed view visibility"" should not be accessible in tabs"
[DES] when using bigquery data source if i apply filter on a pre aggregated count of rows metric the filter being applie [DES] [EXP] the filter should be properly applied returning only groups with count more than 1 [EXP] [OTH] frankly speaking it is difficult for me to assign a severity level to this issue as it is annoying but at the same [OTH] [REP] steps to reproduce the behavior 1 add a bigquery data source to your metabase instance 2 create a custom question  [REP],"Release-0.33.x - Filter not inferring correct datatype for ""Count of Rows"" metric"
[DES] in the version release candidate trying to apply filters in notebook mode on a small display can result in the lis [DES] [EXP] i d expect the list to either render downward and or at least allow me to scroll to see offscreen choices [EXP] [OTH] i could imagine this being a fairly substantial blocker to new people getting up to speed on notebook mode particu [OTH] [REP] steps to reproduce the behavior 1 go to ask a question custom question 2 choose sample dataset orders as the data  [REP],0.33 RC1 - Filters in notebook mode render offscreen
[DES] metabase fails to start after installation when run it exists with java util zip ziperror zip end header not found backtrace [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 install v version jar 2 try to run it [REP],metabase fails to start with java.util.zip.ZipError: zip END header not found
[DES] when creating a simple aggregated question sorting by a column and then moving the columns shows the sort indicato [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] simple question 1 orders summarized by count and average discount grouped by createdat month 2 change viz to table [REP],Sort indicator wrong on summarized result
[DES] when having two databases and only setting sql permissions for one then users cannot access the editor via ask a q [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 have two databases sample dataset and then setup another h2 to the same file 2 only allow data sql permissions o [REP],"Access via ""Write SQL"" works, but not via ""Ask a question"" > ""Native query"""
[DES] navigating to url and clicking the button the launched environment does not automatically configure the [DES] [EXP] both platform and application code should be populated with the proper configuration [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on launch metabase on aws 3 see that both the platform and application code are not prepopulated as they should [REP],AWS Elastic Beanstalk launch URL is broken
[DES] when trying to bin latitude and longitude for questions where you want to join other tables it works in preview bu [DES] [EXP] it shall be possible to bin the results so grid map can be used even better if it would work for native sql as wel [EXP] [OTH] this is a big issue as it renders the whole binning feature useless and grid map as example can t be used [OTH] [REP] steps to reproduce the behavior 1 go to custom question 2 select orders 3 join people table 4 summarize with a cou [REP],Binned latitude and longitude does not work
[DES] when i create a region map based on world region it takes a lot of time to render the chart and the whole screen f [DES] [EXP] the world map should render in a reasonable amount of time 5 seconds imho and should not freeze the whole ui [EXP] [OTH] this bug is mainly affecting world map based visualizations and affect dashboards which affects end user experienc [OTH] [REP] 1 prepare a small dataset for containing country code and relevant kpi 2 create a question based on the prepared d [REP],Region map for world freezes the question/dashboard window
[DES] stacked bar chart produces incorrect results when given a combination of positive and negative values to stack iss [DES] [EXP] expected result something inline with the below selection 01 url [EXP] [OTH] blocking usage of metabase stacked bar chart visualization type some existing reports are affected there are poten [OTH] [REP] 1 create a new native query or custom question where underlying values contain combination of negatives and positi [REP],Stacked Bar Chart Incorrect Rendering with Negative Values
[DES] on version preview 1 2 i am able to connect to my oracle db on rc1 the connection no longer works within metabase  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to settings 2 click on admin 3 click on databases 4 click on add database 5 c [REP],Unable to connect to Oracle DB after upgrading to 0.33 RC1
[DES] when a field in admin data model has display values use foreign key then the question cannot be used as saved ques [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce with sample dataset 1 go to admin data model sample dataset orders product id gear 2 change dis [REP],"Cannot use Saved Question, when original question uses ""Display values""=""Use foreign key"""
[DES] i ve got a table with a number field called counter i wanted to sum them up as part of a custom expression i get a [DES] [EXP] i d like to be able to use my counter field in custom expressions [EXP] [OTH] preventing usage of the custom expressions for some fields can work around with native sql queries but annoying i  [OTH] [REP] steps to reproduce the behavior 1 create table with a number field called counter 2 query editor custom expression [REP],"Can\\\\'t create a ""Custom Expression"" with a database field starting with ""count"""
[DES] for reasons that are beyond scope here our internal domain is called xxx yy inet with the move to v version metaba [DES] [EXP] i expected it to continue to accept our valid internal fqdn for a server i think it s probably doing some lookup o [EXP] [OTH] produces a lot of error logs will cause issues with new shared public urls pulses etc we can work around using ip  [OTH] [REP] steps to reproduce the behavior 1 go to admin general 2 change the site url to url 3 error given in screen error a [REP],Metabase site base URL not accepting a valid (intranet only) FQDN
[DES] when adding a question to a dashboard i m getting repeated results for the same questions each question is repeating multiple times the exact number of repeats is variable [DES] [EXP] one result per matching question [EXP] [OTH] annoyance makes that search dialog largely useless but can still navigate to the question [OTH] [REP] steps to reproduce the behavior 1 go to a dashboard 2 click on add a question 3 search for a term you know has questions 3 the results has repeated questions [REP],Search dialog for adding a question to a dashboard is repeating results
[DES] changing table column order shows get answer instead of just refreshing [DES] [EXP] just fresh the ui without clicking a button smiley [EXP] [OTH] from the forum version preview thread url [OTH] [REP] 1 create a simple question any table and visualize as table 2 either drag one of the column headers to a different position or click visualization settings and drag the visible columns to a different position 3 shows get answer button overlay on the table [REP],"Changing table column order shows ""Get answer"" instead of just refreshing"
[DES] . [DES] [EXP] the link text value should reset as soon as the ajax request to reset the value completes [EXP] [OTH] slight annoyance [OTH] [REP] steps to reproduce the behavior 1 go to admin data model table field settings formatting tab 2 change the link tex [REP],"""Reset to default"" doesn\\\\'t reset UI value"
[DES] . [DES] [EXP] slack should be showing the populated chart coming from metabase [EXP] [OTH] we primarily use metabase to generate important bi reports and share with stakeholders via slack showing blank reports is a show stopper for us hence severity is high screen shot 2019 07 31 at 10 53 02 am url [OTH] [REP] steps to reproduce the behavior 1 go to metabase pulses 2 click on send now for slack channel 3 go to slack 4 see blank charts [REP],Metabase pulses on Slack is posting blank charts
[DES] a large response from a call to the api causes the results to be truncated this appears to be a write stream that  [DES] [EXP] it should write a complete json object [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior it appears most api endpoints respond with a small enough chunk that not flushing  [REP],Large api responses are truncated (not returning valid JSON)
[DES] when trying do synchronise the database scheme of an oracle database containing tables with geodata in my case sha [DES] [EXP] first of all i think the whole syncing should not terminate if one table fails to sync it should still be tried fo [EXP] [OTH] it prevents me from using metabase entirely because most of the functionality is broken due to this error [OTH] [REP] steps to reproduce the behavior 1 have a table with some data of type st geometry url 2 start the scanning process [REP],metabase failing to synchronise oracle tables with geodata
[DES] today at my company we re enforcing a policy to randomly rotate passwords in all our rds servers and we re using s [DES] [EXP] it should return a password sucessfully changed message or something [EXP] [OTH] middle severity [OTH] [REP] steps to reproduce the behavior run curl to get the db stats diegoduarte workspace curl x get h content type appli [REP],Issues when using the API to update database passwords
[DES] . [DES] [EXP] when john opens dashboard or particular question he see result and can use filtering so as he have access to colle [EXP] [OTH] this bug completely blocking workflow of some users that have need to download results in xls format [OTH] [REP] 1 create two tables create table company company id uuid company name varchar created at datetime create table emp [REP],Using field filters in raw query causes permission error
[DES] upon logging in to metabase the main page includes a loading indicator that spins forever [DES] [EXP] whatever underlying process it is indicating is loading should finish and the spinning indicator should dissappear [EXP] [OTH] no severity just peculiar [OTH] [REP] steps to reproduce the behavior 1 open the instance in any web browser 2 log in to the system 3 the spinning loading indicator appears and continues spinning forever [REP],Loading indicator on main page perpetually spins.
[DES] i have set up metabase behind traefik running as a docker container it runs as expected with ssl but fails to load logging net err content decoding failed 200 errors in the console chrome example url [DES] [EXP] fully operational metabase instance [EXP] [OTH] . [OTH] [REP] . [REP],Metabase behind Traefik fails to load assets
[DES] dashboard cards that reference custom sql questions fail to load when clicking on a dashboard link that includes a [DES] [EXP] cards should load [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] steps to reproduce the behavior 1 create a dashboard with an id parameter filter for a postgres data source 2 crea [REP],Navigating directly to dashboard with custom sql and parameters fails
[DES] i ve connected a new dockerised version of metabase to a mongodb atlas sandbox with a read only user the dataset i [DES] [EXP] i would expect to see my five collections [EXP] [OTH] critical i can t see any of my data and i can t work around it [OTH] [REP] steps to reproduce the behavior 1 add and connect a mongo database 1 click either sync button or just hit save and [REP],No schemas / tables / collection found for MongoDB 4 (Atlas)
[DES] unable to render a card while creating a pulse [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 run lein ring server 2 create a question on sample dataset count of orders grouped by month see screenshot 3 try to configure a pulse with this question 4 see error an error occured while displaying this card [REP],Output of renderable-interval does not match schema
[DES] the checkbox to include current day week month year unchecks itself whenever any of the filter conditions change [DES] [EXP] checkbox for current period remains checked until unchecked by the user [EXP] [OTH] minor ux annoyance i love metabase [OTH] [REP] 1 add a filter based on a timestamp column such as created at previous 30 days 2 check the box to include today 3 change the range from 30 to any other number 4 blur that field 5 checkbox for include today will automatically uncheck itself [REP],Include current [period] option un-checks itself on any change
[DES] we use version v version to design our dashboard but found a problem when loading the region map with filter after [DES] [EXP] the map should work with the filter but it break all other question and none of them apply select filter [EXP] [OTH] blocking usage of metabase entirely [OTH] [REP] . [REP],Region map break the filter after load finish
[DES] in a dashboard that has many fields click the edit button and try to reorder one of the fields it will cause other fields to disappear [DES] [EXP] reorder fields and place them anywhere we want without ever causing the fields to disappear [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior explained in the description above [REP],Reordering fields in dashboard causes fields to disappear in edit mode
[DES] a clear and concise description of what the bug is [DES] [EXP] . [EXP] [OTH] how severe an issue is this bug to you is this annoying blocking some users blocking an upgrade or blocking your u [OTH] [REP] steps to reproduce the behavior 1 go to table 2 join it with 1 2 tables 3 confirm the correct info returns 4 try t [REP],/api/card fails to save with SQLException (0.33-preview / notebook-mode)
[DES] we ve recently updated metabase to its latest version and the ldap auth stopped working for new users users that h [DES] [EXP] new users should be able to log into the application correctly [EXP] [OTH] this issue is blocking new users access through ldap only we are currently manually adding them to bypass it pleas [OTH] [REP] steps to reproduce the behavior 1 setup and enable ldap auth 2 log in with a valid ldap auth user [REP],Ldap auth not working for new users
[DES] specifying a foreign key constraint within the metabase admin panel without the underlying databsase foreign key p [DES] [EXP] the expectation is that these tables can be joined to see columns from both tables under the circumstances that fo [EXP] [OTH] for now it s just annoying but to help give bi tools to our non technical users this will cause frustration and di [OTH] [REP] pre req for behavior 1 create table a with some column foo 2 create table b with some column foo and some column b [REP],metabase only foreign key error when adding column to visualization
[DES] bigquery queries that return a column of array type trigger a backend exception java util arraylist cannot be cast [DES] [EXP] results of the successful query should display [EXP] [OTH] i m comfortable working around this or simply using the bigquery ui although i imagine it d be a blocker for less  [OTH] [REP] steps to reproduce the behavior 1 select a bigquery connection 2 run a native query that returns an array select 1 [REP],BigQuery column of ARRAY type in results causes a casting exception
[DES] when trying to reset the password of another user on the admin panel the popup with the new password is no more displayed [DES] [EXP] a pop up with the new password should appear metabase version e x version [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to people in admin 2 click on reset password [REP],User password reset not working anymore for Admin
[DES] dashboards fail to load some questions showing a message there was a problem displaying this chart it affects diff [DES] [EXP] dashboard should consistently show all the questions properly [EXP] [OTH] we upgraded from version because there was another problem with saving dashboards and we ended up with an unusable [OTH] [REP] i tried to build a generic dashboard and reproduce the error in isolation but unfortunately the error did not show [REP],Sometimes questions fail to load with message _There was a problem displaying this chart_
[DES] showing all series in one tooltip of bar [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 add new sql query like select x as x axis 1 as serie one 2 as serie two 3 as serie three 2 choose chart type bar 3 move mouse to middle bar the tooltip showing all of three seris name should show only one [REP],Tool tip showing wrong series on multi-series charts
[DES] i create a custom query with one metabase filter variable i define this request select case when metabase filter l [DES] [EXP] the asking point should not be replaced by the filter but directly provided to presto [EXP] [OTH] prevent to use regexp features of prestodb [OTH] [REP] . [REP],"""?"" char in literals inside parameterized SQL queries can breaks for PrestoDB/BigQuery"
[DES] date range picker unchecks include today whenever user changes the date range user has to save twice in order to c [DES] [EXP] include today checkbox remains checked upon save [EXP] [OTH] annoying for users must save twice to change date range [OTH] [REP] steps to reproduce the behavior 1 open a report dashboard 2 open date range data filter 3 see that include today i [REP],"Date range picker unchecks ""include today"" when date range is changed"
[DES] unable to upgrade to version from version on heroku using metabase deploy url and following upgrade instructions url [DES] [EXP] successful deployment [EXP] [OTH] low severity just a bunch of bug fixes we want to talk advantage of e g cannot edit segments in version we ve successfully upgraded in the past related but not related url [OTH] [REP] git clone url cd metabase deploy git remote add heroku url git commit allow empty m empty commit git push f heroku master [REP],Unable to upgrade to `0.32.9`; `pom.xml` not found
[DES] certain points on graphs have tooltips that flicker in and out seems to be related to if they re getting cut off by the screen [DES] [EXP] tooltip appears as expected [EXP] [OTH] . [OTH] [REP] 1 open a line graph 2 put your mouse over the point that s the furthest to the right couldn t reproduce when tried on a couple different macs may be windows specific [REP],Tooltips not appearing correctly if they get cut off by the screen
[DES] when clicking on the id of a record in the results view and seeing the full record view the left div pane is a whi [DES] [EXP] the full length of the left div pane should be white [EXP] [OTH] not a big issue no loss of capability just a visual bug [OTH] [REP] steps to reproduce the behavior 1 go to the full record view 2 scroll down 4 see error [REP],Div/pane color Does not fill full record view
[DES] if you want to measure an individual google analytics goal s metrics e g completions it appears to not be possible [DES] [EXP] expected behavior would be for there to be an input field where you can specify which goal you are looking for or  [EXP] [OTH] blocking some dashboards that are desired to be consumed at the executive level and throughout the organization bu [OTH] [REP] steps to reproduce the behavior 1 select a google analytics profile with configured goals 2 select a date range 3  [REP],Unable to use Google Analytics Individual Goal Completions
[DES] in version istio init was changed to use the same image as istio proxy therefore you could infer that setting glob [DES] [EXP] setting global proxy image should set the image for both proxy and init unless global proxy init image is specifie [EXP] [OTH] . [OTH] [REP] . [REP],Istio 1.4.0 proxy and proxy_init variables
[DES] slice node serviceinstances from url l348 is not stable in terms of the order which results in the listener config [DES] [EXP] until nothing changed in listener configuration pilot should send the same listener config to proxies as previousl [EXP] [OTH] helm gke version [OTH] [REP] create 2 services pointing the same pod and the same port e g vip headless pilot logs should show messages about c [REP],Having 2 services with the same port results in connections drop/drain in proxies
[DES] i ve downloaded istio version and took the command straight from url excluding specific kubernetes namespaces but  [DES] [EXP] that the code exampels execute correctly [EXP] [OTH] curl l url sh macos catalin [OTH] [REP] i ve downloaded istio version and took the command straight from url excluding specific kubernetes namespaces but  [REP],Istioctl unable to set cni properties according to the documentation
[DES] in istio version tracing istio system has moved from port 80 to 9411 there is already a zipkin istio system servic [DES] [EXP] consistent service ports between releases or details in release notes explaining the changes or if you re really h [EXP] [OTH] . [OTH] [REP] . [REP],Istio 1.4.0 tracing service moved from port 80 to 9411
[DES] the clusterrole for pilot is a little confusing firstly secrets are defined twice apigroups resources endpoints po [DES] [EXP] the rbac config to be concise and an explanation in the upgrade notes as to any privilege changes [EXP] [OTH] . [OTH] [REP] . [REP],Istio 1.4.0 ClusterRole for Pilot is a bit confusing
[DES] similar to url the status field should be added by the server not in the manifests img width 316 alt screen shot 2019 11 26 at 12 13 17 src url [DES] [EXP] status field to be added by the server [EXP] [OTH] . [OTH] [REP] template version [REP],Istio 1.4.0 templated manifest CRDs contain a status field
[DES] i ve noticed in the templated yaml for istio version a bunch of manifests contain a creationtimestamp field and they probably shouldn t img width 370 alt screen shot 2019 11 26 at 12 05 33 src url [DES] [EXP] creationtimestamp should be added by the server not part of these manifests [EXP] [OTH] . [OTH] [REP] helm template version [REP],Istio 1.4.0 templated manifest contains creationTimestamp
[DES] when using istioctl to generate manifest then the base telemetry telemetry yaml contains duplicate values in the i [DES] [EXP] no duplicate keys should be generated [EXP] [OTH] curl l url sh macos catalin [OTH] [REP] generate manifests and check for grep context proxy version istioctl manifest generate grep context proxy version  [REP],Using istioctl to generate manifests causes duplicate value
[DES] it appears the operator is not processing a kv pair [DES] [EXP] key value pair would not be present in the generated manifest [EXP] [OTH] operator with istiocontrolplane file ik [OTH] [REP] install operator with default profile stevens macbook pro 2 sdake grep if operator log 2019 11 24t22 12 version z  [REP],operator is not processing a key/value pair
[DES] galley s probe always succeeds even though probe is failing this is because galley s probe url l25 command does no [DES] [EXP] galley s probe returns error code and k8s s liveness readiness probe should fail [EXP] [OTH] here is the template url k8s on aws but i believe it does not matter [OTH] [REP] 1 replace probe path by invalid path e g kubectl edit deployments n istio system istio galley readinessprobe exec  [REP],Galley's probe always succeeds even though probe is failing
[DES] sometimes my istio gets into a state where istio telemetry pod shows running but nothing responds on 42422 metrics [DES] [EXP] if istio telemetry pod shows running then 42422 metrics should not be down [EXP] [OTH] operator ibm cloud mixer log url [OTH] [REP] does not happen consistently it has to do with installation ordering in the operator [REP],Mixer telemetry needs liveness check for 42422
[DES] when using istioctl manifest values global disablepolicychecks doesn t seem to have an effect [DES] [EXP] setting disablepolicychecks false configures the mesh data properly in the istio configmap [EXP] [OTH] . [OTH] [REP] create istiocontrolplane config config yaml like yaml apiversion install istio io v1alpha2 kind istiocontrolplane  [REP],istioctl doesn't seem to respect disablePolicyChecks
[DES] istio operator controller icp is the default profile the istio system was stuck in terminating from a previous man [DES] [EXP] the istio operator controller should re attempt reconcile loop after a few minutes 10 when any part of the the pre [EXP] [OTH] operator contoller ibm cloud kube version [OTH] [REP] this is a bit hard to reproduce since you need to get the istio system namespace stuck in terminating this can be  [REP],"controller if reconcile loop finishes and has errors, not attempt a retry"
[DES] with namespace enabled for sidecar injection run the following kube command kubectl run test rm restart never it image ubuntu echo hi this will hang forever this same command works in a namespace without side car injection [DES] [EXP] the command should run display its output and return then the pod should be deleted [EXP] [OTH] istio operator ibm clou [OTH] [REP] run the cmd above [REP],kubectl run test --rm --restart=Never -it --image=ubuntu -- echo HI Hangs
[DES] tried to build istio and sidecar rpms for redhat vm mesh expansion but failed with a lot of errors because the bui [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to build the rpm package clone istio repo url into dir root git src istio and cd into this dir run cmd make  [REP],build istio and proxy RPMs is broken
[DES] i have an existing istio gateway with a list of 6 domains and a simple tls cert these domains all work fine after  [DES] [EXP] editing an existing gateway s host list should work as expected [EXP] [OTH] helm aws ek [OTH] [REP] 1 create a gateway like this apiversion networking istio io v1alpha3 kind gateway metadata name mygateway spec sel [REP],Updating hosts list in existing gateway causes unexpected results
[DES] i configured my existing prometheus to scrape metrics from all of the istio services by copied the jobs from the i [DES] [EXP] the service should expose its metrics to prometheus [EXP] [OTH] gke checkbox gk [OTH] [REP] install istio in gke and configure prometheus [REP],"GKE Istio Telemetry responding with ""connection refused"" on port 42422"
[DES] . [DES] [EXP] prior v version we never noticed this kind of issue so far some components are working totally fine few of them ar [EXP] [OTH] helm 2019 11 20t14 45 version z info received new config creating new envoy epoch 0 2019 11 20t14 45 version z inf [OTH] [REP] install istio v version restart deployment in specific namespace and check if everything is runnning fine [REP],Failed to generate bootstrap config
[DES] when executing istioctl manifest apply commands order matters in an unexpected way but is not mentioned in the doc [DES] [EXP] that after applying the istio manifests described in the documentation that a functioning ingressgateway would be  [EXP] [OTH] curl l url sh then the manifest apply commands minikube v version linux mint 18 [OTH] [REP] the setup documentation at here url install istio using the default profile lists example manifest apply commands  [REP],istio 1.4.0 - istioctl manifest apply not working as expected
[DES] env openshift namespace istio injection enabled as you see when i deploy a image on the openshift what ever image  [DES] [EXP] the sidecar stops as wished [EXP] [OTH] . [OTH] [REP] deploy a image on openshift [REP],istio proxy sidecar doesn't stop when pod completed
[DES] i have to implement authorization policy based on regexp analysis of the url path some part of the url should cont [DES] [EXP] i see once define qqq message in the logs when the filter first loaded i see envoy on request filter on every auth [EXP] [OTH] by istioctl on premise kubernetes version over ubuntu version vm [OTH] [REP] create any http service and envoy filter with provided configuration matching the workflow [REP],Lua EnvoyFilter doesn't call envoy_on_response method during request processing
[DES] my custom mixer adapter that listened on check events is not called anymore when a service is accessed i guess tha [DES] [EXP] an out of process adapter listening on check events should be called on each service call this expected behavior c [EXP] [OTH] on minikube using the demo profile istioctl manifest apply set profile demo minikube for macos [OTH] [REP] create an out of process adapter listening on check events it is never called [REP],mixer adapter listening on check event is never called (since ISTIO 1.4)
[DES] the automatic injection of sidecars is not working manual injection using istioctl works fine the namespace is lab [DES] [EXP] pod should be deployed with corresponding sidecar [EXP] [OTH] istioctl manifest apply gke version version gke 12 additionally please consider attaching a cluster state archive  [OTH] [REP] gke gcloud beta container clusters create cluster1 create subnetwork name sub cluster range version 24 services ip [REP],GKE Istio 1.4.0 istio-sidecar-injector Internal error occurred: failed calling webhook
[DES] kiali configuration for prometheus namespace is not working the configuration is just ignored i m trying to use an [DES] [EXP] to set the namespace or to provide a way to change the url [EXP] [OTH] with this guide url download mac os catalina docker kubernete [OTH] [REP] 1 using istio version try to install with the configuration provided [REP],Kiali config prometheusNamespace istioctl 1.4.0 not working
[DES] when running tests written with new test framework it seems like kind only export logs for control planes e g url url for test written with legacy framework kind exports logs for both control planes and applications url [DES] [EXP] kind exports application and sidecar logs when running test written with new framework [EXP] [OTH] . [OTH] [REP] . [REP],KinD does not export sidecar log when running with new test framework
[DES] all the requirements values in istio version install kubernetes helm istio requirements yaml should be version they are version [DES] [EXP] the dependencies should be of version version so that latest charts are installed [EXP] [OTH] through helm al [OTH] [REP] . [REP],Wrong chart requirements version in Istio 1.4.0 installation charts
[DES] if i change the namespaceselector in the via kubectl istio sidecar injector to namespaceselector matchexpressions  [DES] [EXP] after updating the target state of the namespaceselector via kubectl edit it should keep that state [EXP] [OTH] as a gke add on google cloud gke cluster with istio add on [OTH] [REP] update namespaceselector from namespaceselector matchlabels istio injection enabled to namespaceselector matchexpr [REP],kubectl edit istio-sidecar-injector gets overwritten after short time interval
[DES] upon running the application with docker io istio proxyv2 version on kubernetes v version was the getting the foll [DES] [EXP] response status 200 grpc status code 0 grpc message message success [EXP] [OTH] using helm charts browser rest clien [OTH] [REP] use docker io istio proxyv2 version version in your application deployment plan e g docker io istio proxyv2 versio [REP],"Istio-proxyv2 (>1.3.0), Kubernetes 1.14.x and Canary"
[DES] yaml that istioctl manifest command generates has duplicated map entry and is makes some yaml reader cannot read a [DES] [EXP] istioctl manifest generate grep context proxy version context proxy version [EXP] [OTH] . [OTH] [REP] istioctl manifest generate grep context proxy version context proxy version context proxy version [REP],There are duplicated map field exists in attributemanifest which istioctl manifest generates
[DES] . [DES] [EXP] all istio pods are up and running [EXP] [OTH] homebrew macos x minikube version [OTH] [REP] 1 start minikube cluster minikube start 2 install istio istioctl manifest apply set profile demo [REP],Problem with startinhg istio-sidecar-injector pod due to service account missing
[DES] when install istio using istioctl the image values of istio components deployments had the prefix istio missing fr [DES] [EXP] expect the image values to be set with the prefix istio referring to the previous example it should have been isti [EXP] [OTH] using the command istioctl manifest apply set profile demo gk [OTH] [REP] install istio using the command istioctl manifest apply set profile demo manually updating the images brings up th [REP],Invalid image when installing istio using istioctl
[DES] some times when a pod get restarted the new pod ip not sent to all connected to envoys the old pod ip is removed from the cluster members but the new pod ip does not appear in cluster members only when we restart pilot all envoys get updated endpoint [DES] [EXP] pilot should send the new pod ip to all the envoys and envoys should have it in cluster member list [EXP] [OTH] . [OTH] [REP] this is not easy to reproduce but we need to keep trying to delete the pod [REP],Some times Pilot is skipping sending endpoint updates for a new pod
[DES] based on the doc the jaeger service could not be accessed but when i run the docker run itd restart always name ja [DES] [EXP] when visit url the jaeger could be used [EXP] [OTH] download the version version based on url download and follow the doc based url apply kubectl apply f istio demo y [OTH] [REP] . [REP],The jaeger service could not be accessed via http://localhost:15032 with the version 1.4.0
[DES] using istioctl to set the email value for the cluster issuer of the included cert manager is not possible when ins [DES] [EXP] it should be possible to set the email field of the cert manager values the email value does exist in the template [EXP] [OTH] using istioctl at least tried to install gcp kubernetes engine [OTH] [REP] use istioctl manifest apply ertmanager enabled true et values certmanager email a a com [REP],istioctl cant set email for cert-manager
[DES] istioctl analyze when pointed at a file with a line containing emits a parse error of error processing istio manif [DES] [EXP] istioctl x analyze ignores commented out lines [EXP] [OTH] . [OTH] [REP] create a file named my test file yaml with the below contents note that the actual object doesn t matter much beyo [REP],istioctl analyze fails to parse a file with a commented document separator
[DES] if the workload cert ttl of citadel is longer than the ttl of the intermediate certificate the that is used to iss [DES] [EXP] one would expect that the maximum workload certificate ttl is bounded by the ttl of the intermediate certificate u [EXP] [OTH] helm chart [OTH] [REP] setup istio citadel with a intermediate certificate with a short ttl our configuration is self signed ca false sig [REP],citadel issues longer certificate ttl than the ttl of issuing intermediate
[DES] for version when i describe my product page pod i m getting pod is permissive client protocol unspecified it used  [DES] [EXP] message more intuitive [EXP] [OTH] . [OTH] [REP] install version and follow auto mtls install isntruction url before you begin [REP],improvement to istioctl describe and authn tls-check
[DES] istioctl version 2019 11 15t14 48 version z twarn twill use remote false to retrieve version info due to no istio pods in namespace istio system version [DES] [EXP] . [EXP] [OTH] not installed iks esnible [OTH] [REP] run istioctl version on a cluster which does not have istio installed [REP],`istioctl version` on a cluster without istio shows strange warning
[DES] i installed istio using the new version istio operator i used the example demo profile for the istiocontrolplane a [DES] [EXP] i expected that the adjusted [EXP] [OTH] using the version experimental operator ibm cloud kubernetes service v version [OTH] [REP] . [REP],IstioControlPlane doesn't react to changing hub
[DES] from url enabling auto completion it mentions that there should be a istioctl bash and a istioctl file in the tools directory for bash completion they are missing [DES] [EXP] referenced files should exist [EXP] [OTH] downloaded the artifact maco [OTH] [REP] download and look in the istio version tools1 directory [REP],istioctl bash/zsh completion files are missing
[DES] when supplying multiple route rules as part of an ingress spec apiversion extensions v1beta1 kind ingress metadata [DES] [EXP] given the following ingress spec apiversion extensions v1beta1 kind ingress metadata name echo annotations kuberne [EXP] [OTH] . [OTH] [REP] . [REP],Galley's ingress resource controller incorrectly handles Ingress resource with multiple rules
[DES] in a dual stack k8s env ipv6 traffic cannot get out from pods with sidecar injected after some debugging it seems  [DES] [EXP] ipv6 traffic can get out from pods [EXP] [OTH] version using helm chart and enabling istio cni cento [OTH] [REP] 1 create a k8s cluster with a dual stack cni calico was used in my test 2 create a pod with sidecar injected 3 try [REP],Default ip6tables rules block outgoing ipv6 traffic when using Istio CNI
[DES] 1 istio mixer custom adapter guide uses mixer codegen sh script which invokes protoc with argument docs out xxxx t [DES] [EXP] mixer codegen sh to run smoothly when following istio mixer out of process adapter dev guide at url [EXP] [OTH] istio release version actually version and version too git clone from github istio repo local machine linux ubuntu [OTH] [REP] follow the guide [REP],Script mixer_codegen.sh does not work as per Istio mixer custom adapter dev guide
[DES] using multi clusters single network model cluster 1 service sleep pod sleep in cluster 1 cluster 2 service hellowo [DES] [EXP] destination workload info should not be unknown [EXP] [OTH] istio version k8s version hel [OTH] [REP] . [REP],miss destination workload telemetry info at client side in cross clusters traffic
[DES] after upgrading istio version from version all deployment rollouts via replicasets fail with error warning failedc [DES] [EXP] pods should be able to be created from the replicaset without errors [EXP] [OTH] client version version info major 1 minor 16 gitversion v version gitcommit gittreestate clean builddate 2019 10 1 [OTH] [REP] kubectl rollout restart deployment my deployment [REP],"Istio 1.3.5 - returns function ""structToJSON"" not defined"
[DES] new way to download just istioctl is not working url l20 [DES] [EXP] can use the new curl to get istioctl binary [EXP] [OTH] version beta 4 [OTH] [REP] try new curl cmd [REP],curl -sL does not work yet
[DES] 404 is returned when http calls contain host with a trailing dot for ex url [DES] [EXP] . [EXP] [OTH] istioctl version client version version control plane version url option 1 install with helm via helm template [OTH] [REP] on any kubernetes webservice access the service using the trailing dot url [REP],HTTP calls with host header ending with a dot is blocked by sidecar
[DES] i have deployed istio in kubernetes through the official helm chart but cannot access the nodeport service of the istio ingressgateway i get connection refused any ideas what could be wrong [DES] [EXP] connection to istio ingressgateway service [EXP] [OTH] istio version version kubernetes server version version through the official helm charts redhat enterprise linux 7 x amd6 [OTH] [REP] . [REP],NodePort service of istio-ingressgateway returns connection refused
[DES] most of the istio control pods don t have request limits this means pod could consume memory and cpu resources wit [DES] [EXP] all control plane pods have request size and limits and liveness and readiness probes [EXP] [OTH] version beta 4 istio operator iks with kube version [OTH] [REP] look at the control plane pod deployment yaml [REP],All Istio Control Plane deployments should have request limits for memory and cpu
[DES] the mixer out of process adapter walkthrough guide in the wiki has a typo probably url step 3 link adapter config  [DES] [EXP] the go build command should build succesfully [EXP] [OTH] . [OTH] [REP] follow the wiki istructions [REP],Wiki Page Mixer Out of Process Adapter Walkthrough typo
[DES] i am installing cert manager version version and getting this error error unable to recognize test yaml no matches for kind clusterissuer in version cert manager io v1alpha2 [DES] [EXP] . [EXP] [OTH] version helm template ak [OTH] [REP] 1 helm template install kubernetes helm istio init name istio init namespace istio system set certmanager enabled true kubectl apply f 2 helm template install kubernetes helm istio name namespace system f dev values yaml kubectl apply f [REP],"no matches for kind ""ClusterIssuer"" in version"
[DES] in url we added request host to the expression for destination service labels this was added as a fallback for cas [DES] [EXP] arbitrary nr traffic at ingress should not be able to pollute istio generated metrics with junk destination servic [EXP] [OTH] version beta 2 but any version of istio with the linked pr is affected helm template gke [OTH] [REP] install istio have a gateway for wildcard host on port 80 have a virtual service with an exact match route and not [REP],Using `request.host` in expressions for metrics is problematic at ingress gateway
[DES] i am installing istio ingress gateway using below annotation to use the ip address from the different resource group but it s not considering the change set gateways istio ingressgateway serviceannotations service beta kubernetes io azure load balancer resource group xx xx xx xx [DES] [EXP] it should look for the public ip in given resource group which is [EXP] [OTH] version helm template ak [OTH] [REP] . [REP],ingressgateway is not respecting service annotation
[DES] when deleting all k8s worker nodes any namespace that have istio injection enabled never start up there error we r [DES] [EXP] if a region fails the cluster needs to be able to heal itself once it comes back up [EXP] [OTH] client version version control plane version version client info major 1 minor 16 gitversion v gitcommit gittreest [OTH] [REP] deploy istio enable injection for a particular namespace delete all k8s worker nodes [REP],Cluster unhealthy after failure. never retries after failure.
[DES] i have mtls enabled globally and both of my services are running with sidecar container with mtls enabled with default policy when i try to connect to internal service over https i am getting below error curl 35 error ssl routines ssl23 get server hello unknown protocol [DES] [EXP] it should connect to internal service over https just like it works with http [EXP] [OTH] version helm template aks [OTH] [REP] enable mtls globally and inject sidecar in both services [REP],internal service error over mTLS - protocol
[DES] at last check all 3 of the multi cluster install scenarios are failing on istio io this issue is for changes required in the istioctl tooling there was a beta 3 build last night but i now that the latest installer pr url is not in that it is in the version alpha build which i will test with today [DES] [EXP] documented scenarios should work [EXP] [OTH] . [OTH] [REP] forthcoming with testing later today testing on latest build above there is a sister documentation issue to this url [REP],Multi cluster installs are not working
[DES] normally i do a istioctl manifest apply to install and then a istioctl manifest generate kubectl delete f to remov [DES] [EXP] i should be able to uninstall without an error [EXP] [OTH] a daily version build istio version alpha does contain url from what i am told [OTH] [REP] i ran istioctl manifest apply f install kubernetes operator examples multicluster values istio multicluster gatewa [REP],Cannot remove an install done using istioctl manifest
[DES] follow the kiali task docs the version of the docs that use istioctl url and notice that when installing kiali via [DES] [EXP] the secret the user creates remains intact the demo secret should not be getting installed when using the default  [EXP] [OTH] version beta2 istioctl manifest apply set profile default set values kiali enabled true openshift 4 [OTH] [REP] follow the steps in the istio version kiali task create the secret with custom username and passphrase such as kia [REP],installing kiali overwrites a user-defined kiali secret
[DES] performing a deepcopyobject on generated types in the library istio io client go results in duplication of all rep [DES] [EXP] the deepcopy of the object is an actual deepcopy without duplication of repeated elements [EXP] [OTH] . [OTH] [REP] 1 create an istio resource with repeated elements e g clusterrbacconfig with multiple included namespaces kubectl  [REP],Issue with repeated elements when performing DeepCopyObject
[DES] in istio version go mod file is showing go version but in common scripts gobuild sh it is showing minimum version should be go version [DES] [EXP] if your code uses modules and your go mod files specifies a language version be sure it is set to at least version to get access to these language changes you can do this by editing the go mod file directly or you can run go mod edit go version url [EXP] [OTH] version n a n [OTH] [REP] . [REP],go.mod version and goversion are mismatched in istio 1.4.0
[DES] in debugging session with a few others using an mtls enabled cluster saw a dash like the following image url it didn t seem like the number of certificates signed etc was correct [DES] [EXP] report correct behavior [EXP] [OTH] version beta2 helm it wasn t my cluster cc monkeyanator [OTH] [REP] . [REP],citadel dashboard appears to not show proper data
[DES] query used is sum by typeurl galley runtime state type instances total it should be sum by collection galley runtime state type instances total the legend should be updated appropriately too [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] install version beta [REP],state type instances uses incorrect param name
[DES] when source peer metadata is not present the edges reporting for stackdriver s mesh telemetry api will still gener [DES] [EXP] instead of adding the trafficassertion the edge should either be dropped or appropriate default values for unknown [EXP] [OTH] . [OTH] [REP] requests through a server side proxy without any peer metadata [REP],stackdriver mesh telemetry filter should not report traffic for unknown edges
[DES] when installing istio from the istioctl x manifest apply method with set values tracing enabled true results in a  [DES] [EXP] istio tracing deployment should come up successfully [EXP] [OTH] kubectl version client version version info major 1 minor 14 gitversion v version gitcommit gittreestate clean bui [OTH] [REP] 1 create k8s cluster i used v version iks 2 target cluster and run istioctl x manifest apply set values tracing en [REP],Installing Istio with `istioctl` and tracing enabled results in a non-deployable Jaeger pod
[DES] istioctl analyze prints no validation issues found and returns a 0 exit code on failing to parse all input files [DES] [EXP] nonzero exit code and possibly a less optimistic message [EXP] [OTH] master n a local dev en [OTH] [REP] cd istio istioctl cmd go run istioctl main go x analyze testdata mesh config yaml [REP],Istioctl analyze should fail more visibly when it can't parse files
[DES] we have gke cluster with custom istio installation version with gateway configuration like this spec servers hosts [DES] [EXP] expected successed response [EXP] [OTH] version version manually with our custom specs gk [OTH] [REP] set gw config from this message curl url iv tlsv version but get cert from default host [REP],some problem this SNI when using --tlsv1.3
[DES] . [DES] [EXP] following url sds should be configured to work correctly [EXP] [OTH] version url gk [OTH] [REP] following url the auto injected sidecars do not get the currect sds configuration [REP],SDS doesn't work with version 1.3.4
[DES] after fix on sds done on version version for updating certs 17409 i have been testing with letsencrypt and i m get [DES] [EXP] creating a placeholder secret with temporary values and updating them should result in an update in sds and the ab [EXP] [OTH] helm charts aws [OTH] [REP] install istio version with helm setup a cert issuer letsencrypt install a certificate install bookinfo demo with a [REP],Unstable and unexpected Ingress-SDS behaviour after 1.3.4 upgrade
[DES] we have a use case where there are two tcp services say servicea and serviceb that map to the same pod and port th [DES] [EXP] at a high level the connections should not be destroyed when the listener map is pushed down to the pod sidecar si [EXP] [OTH] istioctl version remote client version unknown citadel version version galley galley pilot unknown pilot unknown p [OTH] [REP] 1 create 2 tcp services prefix port names with tcp that have selectors that match the same pod and port 2 periodic [REP],Unstable inbound listener config when multiple TCP services map to the same Pod and port
[DES] for version beta 2 the operators default control plane tag is still version dev url l5 [DES] [EXP] all profiles in url should be updated with the release tag operator release would use the new istio release image tag version beta 2 [EXP] [OTH] version beta 2 operator [OTH] [REP] install istio with the operator [REP],Operator istio control plane tag not being updated
[DES] the httpretry docs url httpretry link to the relevant envoy docs to define valid values for retryon but the link points to envoy latest docs there is no way to know if the options described there are valid for version of envoy included in your istio version [DES] [EXP] all links to envoy documentation should point to the version bundled with istio not latest [EXP] [OTH] . [OTH] [REP] . [REP],Links to Envoy docs should be versioned
[DES] the docs and the helm install of the demo profile mention that there should be a jaeger agent service with no clusterip after installing the demo profile i see service when using helm but not when using istioctl [DES] [EXP] jaeger agent service created [EXP] [OTH] version beta 2 untar d download ik [OTH] [REP] see url do istioctl manifest apply set profile demo look at services kubectl get svc n istio system [REP],istioctl manifest apply --set profile=demo does not create jaeger-agent service
[DES] received a fatal error prerequisite for egressgateway has completed proceeding with install prerequisite for polic [DES] [EXP] no fatal error [EXP] [OTH] version beta 2 [OTH] [REP] run example from as specified on url setup on cluster 2 has the following command not the force was needed because [REP],istioctl manifest apply yields a fatal error
[DES] go to view logs in the kiali console and you will get an error about missing permission image url [DES] [EXP] you should be able to view logs in kiali [EXP] [OTH] istioctl manifest openshift version to fix this we need to update the installer helm charts to include pods log permissions [OTH] [REP] go to the logs tab for any workloads page and you ll see the error [REP],kiali cannot show logs due to missing permission
[DES] istioctl help verify install shows t t verify that the deployment matches the istio demo profile t tistioctl verify install f istio demo yaml while the file does still exist the use of file to install istio has been removed from docs so i m not sure if this still needs to be documented i m not sure how upgrading works if they installed using file in version [DES] [EXP] possibly not show a file which is no longer documented as an install option [EXP] [OTH] version beta 2 [OTH] [REP] . [REP],istioctl help verify-install mentions no longer used itio-demo.yaml
[DES] istioctl profile list still shows demo auth profile [DES] [EXP] istioctl shouldn t show the demo auth profile which was removed from the docs [EXP] [OTH] version beta 2 doesn t need to be installed [OTH] [REP] istioctl profile list [REP],istioctl profile list still shows demo-auth profile
[DES] 2019 11 05t14 57 version z tinfo tgrpc addrconn createtransport failed to connect to istio citadel istio system sv [DES] [EXP] expect to connect to istio citadel istio system svc cluster local 8060 [EXP] [OTH] . [OTH] [REP] . [REP],citadel cannot work fine within multicluster deployment mode
[DES] envoy too many open files tcp sock connections more than 44k when use istio ingress gateway my service written by  [DES] [EXP] fd less than 7k [EXP] [OTH] client version version control plane version version client info major 1 minor 16 gitversion v gitcommit gittreest [OTH] [REP] 1 install istio version with default values 2 deploy a web service written by go 3 increase the requests to the we [REP],Envoy too many open files ( tcp sock connections)
[DES] various installer templates for example gateways ingress gateway chart have a hardcoded exclusion statements that  [DES] [EXP] installs the in ingress gateway as expected [EXP] [OTH] version installer repo with helm gk [OTH] [REP] git clone url helm template namespace istio system n istio ingress installer gateways istio ingress f installer gl [REP],Installer - Template labelling issues causing deployment failures
[DES] seeing the following bug in the istio operator logs from image url logs and icp content attached [DES] [EXP] no errors like this in log [EXP] [OTH] version beta 1 kube version operator image noted above ik [OTH] [REP] 1 deploy operator 2 apply the icp 3 look at the operator logs [REP],cannot unmarshal string into Go value of type
[DES] go get istio io istio fails due to unzip error the following files have a in the filename which is not os agnostic and hence the unzip fails in go get pilot pkg security authz builder testdata v1alpha1 simple policy user with in yaml pilot pkg security authz builder testdata v1alpha1 simple policy user with out yaml [DES] [EXP] i would expect go get istio io istio to work [EXP] [OTH] . [OTH] [REP] run go get istio io istio [REP],Test data file names not OS agnostic (result in go get failures)
[DES] . [DES] [EXP] ignore the container with no network connectivity [EXP] [OTH] istioctl version remote client version version beta 0 control plane version beta 0 data plane beta 0 9 proxies kub [OTH] [REP] create a pod with two containers one of them with no ports istio proxy won t start and will show an error 2019 11  [REP],"If there is a container that doesn't expose any port, istio-proxy won't start"
[DES] there is an issue in kiali when using configuration wizards available at the service details page i m talking abou [DES] [EXP] kiali wizards should create the virtualservices destinationrules and any other required objects to properly apply  [EXP] [OTH] kubernets version istio version beta 1 tried on both kiali v version currently shipped with istio version and also [OTH] [REP] . [REP],Kiali wizards not working on Istio 1.4-beta
[DES] the operator image ref here url l19 still has the dev tag instead of the beta tag [DES] [EXP] operator image should have tag matching the release [EXP] [OTH] . [OTH] [REP] . [REP],Operator beta-4 and prior install 1.4-dev control plane images instead of beta-4 control plane images
[DES] i m running my jobs in istio mesh which does not expose any ports so i have set the following annotation status si [DES] [EXP] when setting status sidecar istio io port 0 annotation i can still call curl x post version 15020 quitquitquit [EXP] [OTH] istio version kubectl version helm templat [OTH] [REP] 1 set status sidecar istio io port 0 to your k8s job 2 call curl x post version 15020 quitquitquit from main conta [REP],Can't access pilot-agent API when istio probes are disabled
[DES] when installing istio v version using helm version the nodeagent is installed even though it is marked as being di [DES] [EXP] istio is installed without the nodeagent [EXP] [OTH] istioctl not installed not able to log this problem on the same computer that has kubectl installed sorry but the  [OTH] [REP] helm install name istio init namespace istio system in the init chart kubectl apply f url as a work around as desc [REP],node agent being installed even though marked as disabled
[DES] . [DES] [EXP] running mesh manifest generate with a patch that creates a new map entry should work [EXP] [OTH] version version release [OTH] [REP] run mesh manifest generate with the following icp yaml apiversion install istio io v1alpha2 kind istiocontrolplane [REP],operator patch fails on new leaf
[DES] the process described to install a shared control plane in a multi network environment url fails after installing  [DES] [EXP] no errors appear in the citadel logs [EXP] [OTH] client version version control plane version version client info major 1 minor 16 gitversion v gitcommit gittreest [OTH] [REP] simply follow steps as described in url create the corresponding installation using helm helm template name istio  [REP],Shared control plane (multi-network) example not working
[DES] all alpha features must be guarded by a feature flag and must meet specific requirements to exit alpha url alpha please add a feature flag guard for this feature [DES] [EXP] dns certificate provisioning can be turned off [EXP] [OTH] version dev [OTH] [REP] dns certificate provisionign can t be turned off there appears to be a nasty circular dependency with pilot resulting in an inability of istio to start if certificate provisiioning fails see url l145 l147 for more details [REP],Pilot DNS certificate provisioning must be guarded by a feature flag
[DES] upon a grpc server crash the channel state only gets updated 30 minutes after the disconnection [DES] [EXP] when the grpc server is stopped i expect the channel to go instantly in a ready state [EXP] [OTH] istio version grpc version kubernetes on linu [OTH] [REP] i have a service deployed in kubernetes that exposes a grpc server via envoy another service is acting as the grpc [REP],gRPC Channel state not updating immediately after server crash
[DES] . [DES] [EXP] sds finds secret and ingress gateway works [EXP] [OTH] client version version control plane version version client info major 1 minor 16 gitversion v gitcommit gittreest [OTH] [REP] use helm template to define custom ingress gateway with sds enabled and no namespace declaration update helm templ [REP],Secure Gateway (SDS) breaks when changing namespaces
[DES] server side code example func s experimentalservice ping ctx context context req hack empty hack experimentalpaylo [DES] [EXP] client call should retry when unavailable remove grpc setheader in server side the retry policy works [EXP] [OTH] . [OTH] [REP] url l830 l834 the response header frame is separated when err occur [REP],gRPC retry not work when server using SetHeader
[DES] when istiocontrolplane cr is removed most of the control plane is removed there a few resources left over some sec [DES] [EXP] resources created by the operator for the control plane and their children resources are all cleaned up when the c [EXP] [OTH] version and kube version via operator cr [OTH] [REP] install operator create istio control plane resource cr use the control plane run basic smoke test delete istio co [REP],Operator not cleaning up all control plane resources
[DES] i use istio ingress gateway enable https in aws eks and then test my service by locust when testing everything see [DES] [EXP] status 200 [EXP] [OTH] client version version control plane version version client info major 1 minor 16 gitversion v gitcommit gittreest [OTH] [REP] 1 apply an test service 2 bind a https cert to the test service 3 use locust url to run to http test 4 press ctrl  [REP],"no healthy host for HTTP connection pool, ':status', '503'"
[DES] when a serviceentry s resolution type is updated from static to dns after it is created pilot generates ads tads e [DES] [EXP] update of serviceentry including resolution should either work correctly or a validation should prevent from updat [EXP] [OTH] master helm local dc [OTH] [REP] 1 create a serviceentry with resolution as static with fully resolved ipaddresses as end points 2 let it propagate [REP],ServiceEntry Resolution update fails with EDS ACK Errors
[DES] now mesh manifest diff outputs some string like this version version version tolerations [DES] [EXP] version version version we d better remove redundant quotation signs [EXP] [OTH] . [OTH] [REP] istioctl manifest diff [REP],"remove (empty collection/string -> none) output, also fix additional quotation mark"
[DES] when the kubernetes service resource in front of a deployment is exposing a port that doesn t follow the naming co [DES] [EXP] either no egress nor ingress spans should be created or both types of spans should be created [EXP] [OTH] istio version kubernetes v version for i in install kubernetes helm istio init files crd yaml do kubectl apply f i [OTH] [REP] i can consistently reproduce it with this script replacing lines 100 116 with kubectl expose deployment app name u [REP],Inconsistent behavior when ports aren't following the naming conventions
[DES] rbac not working when defining servicerole accessrule services different than fqdn the [DES] [EXP] yaml kind servicerole apiversion rbac istio io v1alpha1 metadata name details reviews viewer namespace bookinfo sp [EXP] [OTH] client version version control plane version version oc oc v 0cbc58b kubernetes v d4cacc0 features basic auth gssa [OTH] [REP] screen recording 12 url [REP],ServiceRole AccessRule Service only works with FQDN
[DES] the ingress sds fails to reload a valid ssl cert secret if the secret is replaced throws a warning warn tsecretfet [DES] [EXP] sds should reload the updated secrets ssl certs [EXP] [OTH] istioctl version remote client version version citadel version egressgateway galley ilbgateway ingressgateway ingr [OTH] [REP] 1 create a new secret type tls httpbin tls 2 create ssl gateway 3 update the secret with kubectl replace command 4 [REP],updated SSL secrets fails to be reloaded by ingress SDS
[DES] istio pods after installation are running but are not ready [DES] [EXP] all pods are running and ready [EXP] [OTH] bash root master kubectl version client version version info major 1 minor 15 gitversion v version gitcommit gittr [OTH] [REP] 1 deploying k8s cluster using kubespray 2 installing istio without helm following this procedure url installation  [REP],Istio pods are running but not ready after installation with Calico
[DES] deployed the bookinfo app and expose the productpage service and generated traffic using the productpage svc route [DES] [EXP] grafana should show the traffic in out of the box workload dashboard [EXP] [OTH] bash version istioctl version remote client version version citadel egressgateway galley ingressgateway pilot poli [OTH] [REP] deploy bookinfo on openshift version on ibm cloud and access the app using productpage svc by exposing it securely [REP],Grafana is unable to show the graph for bookinfo app
[DES] if the envoy process exits outside of pilot agents lifecycle management it currently doesn t restart it it feels like it should [DES] [EXP] pilot agent should revive envoy [EXP] [OTH] version helm gke version [OTH] [REP] start an app shell into istio proxy and kill envoy [REP],"If envoy stops, pilot-agent doesn't restart it"
[DES] i followed the guide from this link url and using enable via helm option globally method to use readiness probe in my application [DES] [EXP] it should check readiness probe and route traffic if it s ready also it should point to the application s healthz path for readiness check as described in deployment settings [EXP] [OTH] istio version version kubernetes version version helm template ak [OTH] [REP] . [REP],Istio readiness Probe rewrite should respect the user specified timeout duration
[DES] . [DES] [EXP] envoy proxy comes right up [EXP] [OTH] gke version gke 24 istio version via helm google cloud gke helloworldv2 log url istio pilot log url [OTH] [REP] deployed istio via [REP],Envoy proxy taking forever to start / Is pilot running? 1 CDC update received successfully
[DES] we are running istio v version this also happend on v version most of our applications are running fine however in [DES] [EXP] cpu not going high [EXP] [OTH] citadel version version version galley version ingressgateway pilot policy sidecar injector telemetry helm chart a [OTH] [REP] unable to reproduce [REP],Istio Sidecar consuming high CPU Istio
[DES] we are running istio v version this also happend on v version most of our applications are running fine however in [DES] [EXP] cpu not going high [EXP] [OTH] citadel version version version galley version ingressgateway pilot policy sidecar injector telemetry helm chart a [OTH] [REP] unable to reproduce [REP],Istio Sidecar consuming high CPU Istio
[DES] we have migrated our legacy application to kubernetes where it uses istio ingressgateway for tls termination and r [DES] [EXP] return the same certificate for each host [EXP] [OTH] istio version version kubernetes version v version gke 24 deployment yaml gke [OTH] [REP] pass san certificate to ingressgateway [REP],Istio defaults to SNI when using an SAN certificate for ingressgateway
[DES] working through the kubernetes services for egress traffic example at url under the use a kubernetes service with  [DES] [EXP] example should pass [EXP] [OTH] version alpha 0 since the installation specified in the example is broken i used helm template install kubernetes  [OTH] [REP] follow the instructions for the task at url [REP],Kubernetes Services for Egress Traffic fails on 1.4.0-alpha.0
[DES] following azure s tutorial url at [DES] [EXP] is to deploy some objects but what i get instead is this error error release istio failed deployment apps istio ga [EXP] [OTH] . [OTH] [REP] . [REP],"release istio failed - AKS, Istio, Helm"
[DES] i am trying to install istio with curl l url istio version version sh but getting below error curl 6 could not resolve host github production release asset 2e65be s3 amazonaws com [DES] [EXP] it should download specific version of istio [EXP] [OTH] . [OTH] [REP] . [REP],could not resolve host while installing specific istio version
[DES] istioctl experimental analyze k command throws an error istioctl istioctl x analyze k 2019 10 22t17 29 version z t [DES] [EXP] istioctl x analyze k should display some useful output [EXP] [OTH] istioctl istioctl version client version unknown control plane version version alpha data plane alpha 3 proxies ku [OTH] [REP] bash create a new kubernetes cluster minikube start kubernetes version v version clone version release temp dir mk [REP],istioctl x analyze -k \\\\'unable to start watcher for
[DES] after enabling mtls grafana doesn t show data from custom dashboards [DES] [EXP] grafana shows data from the dashboards [EXP] [OTH] istioctl version client version version control plane version kubectl client info major 1 minor 15 gitversion v gi [OTH] [REP] istio was installed using helm template some options were omitted to make it shorter helm template install kuberne [REP],Custom Grafana dashboards not showing data when mTLS enabled
[DES] helm version fails to properly enumerate values global arch in affinity tpl when the values are integers this resu [DES] [EXP] istio helm charts should produce useable charts with the latest stable helm version version [EXP] [OTH] istio version kubectl version client true client version version info major 1 minor 16 gitversion v gitcommit gitt [OTH] [REP] helm repo add istio url helm fetch untar untardir charts istio istio helm template charts istio namespace system o [REP],Helm Charts don't work with helm 2.15.0
[DES] hi buddies i faced a problem about istio mesh when i get the metric istio requests total data through prometheus i [DES] [EXP] i hope i can found the all data through prometheus tks [EXP] [OTH] pre code root 61 149 kubectl version client version version info major 1 minor 13 gitversion v version gitcommit g [OTH] [REP] . [REP],istio-mesh metrics data was partly lost
[DES] imo the binaries should match the operating system uname on linux this is linux on osx this is darwin the images a [DES] [EXP] url those images should be named istioctl goos goarch tar gz not some other derived form of these platforms this i [EXP] [OTH] . [OTH] [REP] . [REP],the istioctl binary is tagged as `osx` while uname lists `darwin`
[DES] the operator is not starting a proxy for pilot the last i was aware this was mandatory sdake beast 01 go src istio [DES] [EXP] istio installs pilot [EXP] [OTH] master see above for reproducer bare metal k8s metallb for load balancer [OTH] [REP] from istio operator directory kubectl apply k deploy kubectl apply f deploy crds istio v1alpha2 istiocontrolplane  [REP],operator master does not appear to start a proxy for pilot
[DES] example from doc url an example of a pod that uses pod affinity the mapping url l20 l22 appears to be wrong fails  [DES] [EXP] the k8s affinity settings to be applied to the pod the mapping should be for the deployments pods to get correct a [EXP] [OTH] latest operator master operator controller ibm public clou [OTH] [REP] cr apiversion install istio io v1alpha2 kind istiocontrolplane metadata name managed istiocontrolplane namespace i [REP],operator IstioControlPlane k8s:affinity: mapped to wrong level
[DES] . [DES] [EXP] service entry domain should resolve to an ip [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] apiversion networking istio io v1alpha3 kind serviceentry metadata name keycloak dns spec hosts keycloak sunbird d [REP],IstioCoreDNS is not resolving any domain other than *.global
[DES] we have this on all of our clusters pilot seems to push config every 5 minutes and i m just wondering why this is  [DES] [EXP] proxies to remain connected and only receive config when required [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] install istio [REP],Pilot pushes every 5 minutes despite no config change
[DES] this is a follow on from url as it s technically a different issue when envoy needs to reload listeners this can r [DES] [EXP] in flight requests should just be drained and not result in a 503uc [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] make a change that results in the inbound listeners to drain and reload and sometimes you ll get a 503uc from the  [REP],Listener reload can cause 503UC errors
[DES] we are seeing intermittent 503 s on long running requests we have an endpoint that takes around 4 minutes to respo [DES] [EXP] not to see 503 s on these long running requests [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] very difficult to give you an exact reproducible state as it s inconsistent more than happy to screen share and li [REP],Mysterious 503's on long running requests
[DES] . [DES] [EXP] normal http to https redirection [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] connect 31380 port at the backend of http s load balancer but at tcp load balancer its work fine [REP],Behind GCP L7 LoadBalancer istio redirection stuck in infinite loop
[DES] serviceentries with wildcards are only matched as exact matches instead of trying to use the wildcard information  [DES] [EXP] wildcards are matched [EXP] [OTH] x user experience [OTH] [REP] yaml apiversion networking istio io v1alpha3 kind serviceentry metadata name service entry bookinfo namespace defa [REP],DestinationHost analyzer does not handle wildcards
[DES] when x request id is provided in request header the request can no be displayed in jaeger is there any format requ [DES] [EXP] request can be displayed in jaeger trace [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] take bookinfo sample as example when accessing api by curl url i request can be shown in jaeger with correct trace [REP],No Jaeger trace if X-Request-ID is manually set in request
[DES] while using istio version i encountered a bug that sometimes sidecar send check request but sometimes not this cau [DES] [EXP] sidecar should follow the mechanism of sending check request even under high load [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] deploy a rate limiting definitions apiversion config istio io v1alpha2 kind handler metadata name quotahandler nam [REP],Sidecar did not send check request correctly under load
[DES] kiali is unable to capture the traffic for bookinfo app on openshift version on ibm cloud deployed the bookinfo ap [DES] [EXP] kiali should show the traffic for bookinfo app [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] deploy bookinfo on openshift version on ibm cloud and access the app using istio ingress svc by exposing it secure [REP],Kiali is unable to capture the traffic for bookinfo app.
[DES] facing issue setting up nifi using istio both nifi and envoy proxy containers comes up successfully but unable to  [DES] [EXP] access nifi on the http port 8080 [EXP] [OTH] x configuration infrastructure docs x installation x networking performance and scalability policies and telemetry [OTH] [REP] . [REP],Unable to launch NiFi with envoy sidecar injection
[DES] we have situations where pods need to perform a cleanup sequence during shutdown that requires all of the followin [DES] [EXP] the inbound listener is not removed and the pod is able to accept inbound traffic until the main container stops [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] create a chaos namespace apply this file url in separate windows kubectl logs f the server and istio proxy contain [REP],inbound listener is removed during pod shutdown sequence
[DES] installing istio sidecar deb version is not working with the following error message sudo dpkg i istio sidecar deb [DES] [EXP] package shoud install correctly operation works with the previous version version [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] shell curl l url istio sidecar deb sudo dpkg i istio sidecar deb dpkg deb error istio sidecar deb is not a debian  [REP],istio-sidecar.deb (1.3.3) is not a debian format archive
[DES] istioctl version remote is broken if the istio is installed via operator url [DES] [EXP] istioctl version remote gives the client information [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] see installation [REP],`istioctl version` does not show build info it istioctl installed via HomeBrew
[DES] istio post install jobs are missing if istio is installation via operator url [DES] [EXP] istio installed with post install jobs via the control plane profile [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] see installation [REP],mesh manifest apply missing and jobs
[DES] istiocontrolplane is a namespaced crd however the deploy directory doesn t work when istiocontrolplane is namespac [DES] [EXP] the istiocontrolplane crd is namespace scoped if a namespace istio operator is set on the crd deployment fails [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] clone url apply manifest properly manifest does not apply [REP],istio operator has a namesapced scope IstioControlPlane that doesn't work
[DES] examples of istioctl dashboard are outdated istioctl dashboard grafana help grep a1 examples examples istioctl exp [DES] [EXP] examples are modified like below examples istioctl dashboard grafana [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] istioctl dashboard xxx help [REP],examples of `istioctl dashboard` are outdated
[DES] istioctl dashboard zipkin causes an error istioctl dashboard zipkin error no zipkin pods found [DES] [EXP] kubectl get svc zipkin o jsonpath spec selector map app jaeger kubectl get pods l app jaeger o jsonpath items 0 me [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] 1 install istio 2 run istioctl dashboard zipkin [REP],`istioctl dashboard zipkin` causes an error
[DES] after deploy istio on openshift version and version using helm demo profile with cni enabled i can see all apps al [DES] [EXP] i should see all spans through the full call chain for bookinfo app [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] use oc cluster up to launch openshift version on local machine or crc url to launch openshift version use helm to  [REP],Only see istio-ingressgateway traces in Jaeger when deploy Istio 1.3.2 on Openshift w/ CNI enabled
[DES] i failed to access url inside mesh and error is [DES] [EXP] pass valid chunked message to downstream [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] enter any application container with sidecar and execute following command curl v url raw [REP],sidecar can not decode chunked message
[DES] when applying istio operator manifest the operator does not install istio and instead spews errors [DES] [EXP] istio operator installs istio control plane and doesn t spam errors [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] 1 apply the deploy directory from master in the correct order 1 watch the logs spam 2019 10 10t17 49 version z tin [REP],"error\\\\tunknown value ""ERROR"" for enum"
[DES] . [DES] [EXP] when istio scale up or down it s integration should keep working policy pilot telemetry [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability x policies and telemetry s [OTH] [REP] instal multicluster istio trhough istio io documentation and scale kubernetes nodes to 0 then scale it up again wh [REP],Multi-cluster Installation (Scale and connection problems)
[DES] when using the mixer zipkin adapter with jaeger collector as zipkin service mixer sends its generated spans to the [DES] [EXP] mixer should load balance its requests evenly across zipkin instances [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability x policies and telemetry s [OTH] [REP] use mixer based tracing with the zipkin adapter deploy a test application that sends many spans i tested around 2k [REP],Mixer poorly load-balances to zipkin service
[DES] when using version request pod application header can get x forwarded for after upgrading to version x forwarded f [DES] [EXP] the pod application can get x forwarded for [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],"Upgrade from 1.3.1 to 1.3.2, x-forwarded-for lost"
[DES] hi developers we are developing a tool to find potential bugs in kubernetes configuration files i found out a pote [DES] [EXP] . [EXP] [OTH] client version version info major 1 minor 14 gitversion v version gitcommit gittreestate clean builddate 2019 09 1 [OTH] [REP] kubectl apply f kubernetes handbook examples projected volume yaml dry run true [REP],"Missing required field ""selector"" in in file"
[DES] when configuring rate limiting it is not possible to configure an accurate rate when using a low valued validdurat [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] eg assume i d like to limit rate to 5 requests sec if i configure the rate limiting handler with maxamount 5 valid [REP],Rate Limiting does not accurately respect rate = maxAmount / validDuration
[DES] in redis ratelimiting tests we see ingressgateway becomes unresponsive and needs to be restarted for it to become  [DES] [EXP] ingressgateway is responsive all the time [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] send a lot of traffic through ingressgateway [REP],Seeing non responsive ingressgateway in mixer tests
[DES] in istio version when we create the envoyfilter external auth the istio pilot fails to push the config to the envo [DES] [EXP] the envoyfilter configuration should be passed down to the envoy sidecar [EXP] [OTH] configuration infrastructure x docs installation x networking performance and scalability policies and telemetry x [OTH] [REP] i applied the following envoyfilter apiversion networking istio io v1alpha3 kind envoyfilter metadata name 1 3 ext [REP],With Istio-1.3 the envoyFilter for external-Auth (INBOUND) doesn't work.
[DES] after upgrading to istio version also occurs on version we will get random ssl connection errors to resources behi [DES] [EXP] all requests to the ingressgateway should return a valid certificate information [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 create a new eks cluster 1 install istio version using the value gateways istio ingressgateway sds enabled true  [REP],istio-ingressgateway randomly doesn't return certificate for request after 1.3.x upgrade
[DES] istio cni e g set istio cni enabled true prevents remote connections via nodeport for example opening telnet to no [DES] [EXP] remote connections over nodeport will be accepted just as always [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 install istio with cni plugin enabled 2 enable automatic sidecar injection 3 deploy pod make sure sidecar inject [REP],Istio CNI prevents remote connections via NodePort
[DES] when a proxy returns multiple instance ips in node metadata but the with the same container port pilot complains o [DES] [EXP] pilot should not complain about this as duplicate cluster [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] deploy a service with multiple instance ips [REP],Duplicate Inbound cluster errors in Pilot logs
[DES] to test the readinessprobe with istio mtls enabled i m following the instructions of url however when i move the r [DES] [EXP] both containers should be in ready status [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] follow instructions in url for separate port run kubectl apply f istioctl kube inject f samples health check liven [REP],"readinessProbe failing with ""separate Port"" setup"
[DES] i set up a shared control plane multi network environment setup the bookinfo example after applying the default de [DES] [EXP] i should be able to apply drs and follow the bookinfo examples [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 create a shared control plane multi network environment using url you can deploy example service if you want to  [REP],"Shared control plane (multi-network), BookInfo, fails when DRs are applied"
[DES] at icelolly we re using eks to host our kubernetes cluster we re running istio version with mtls enabled we re in  [DES] [EXP] if a grpc server is stopped and it is outside of the cluster a client application running inside the cluster shoul [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] create a grpc server host it outside of the cluster set up a grpc client application host that inside the cluster  [REP],"gRPC client unaware of connection failure, never reconnecting"
[DES] i have a db in namespace ns restriction demo 2 and a nodejs application that is using that db from namespace ns re [DES] [EXP] the source attributes should show information about the nodejs application accessing the db for example sourcename [EXP] [OTH] . [OTH] [REP] . [REP],Why istio's mixer logs are working differently for my case?
[DES] i got this setup auth mydomain com resolves to version and the ip is handled by metalb using arp mode istio ingres [DES] [EXP] a mydomain com should be able to contact auth mydomain com even if auth mydomain com runs on a different node than [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] try accessing a service that is hosted on the cluster but via the lan ip at least i think that should be enough to [REP],Access to k8s service via LAN only possible if via same node
[DES] if an http request is cancelled aborted on client side the request is reported with http status code 500 in mixer  [DES] [EXP] http requests cancelled by client should be reported with 4xx status code to distinguish them from real server fai [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] see example code and description on url [REP],Cancelled http requests are reported with http status code 500 in prometheus
[DES] i have two deployments with labels version v1 and version v2 under the same kubernetes service when creating a vir [DES] [EXP] istioctl should show ok instead [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] assuming you have two deployments with pod labels version v1 and version v2 and a service selecting by those two l [REP],istioctl authn shows conflict when there isn't
[DES] all of our applications are configured and deployed using the same helm template we have mtls globally enabled and [DES] [EXP] i would expect them all to be url as that s the short formed url they all use [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] . [REP],Inconsistent http.url reported in Jaeger traces
[DES] if the retrieval of the public key fails when applying an authentication policy for example when the network is do [DES] [EXP] i would expect the pod to eventually get the certificate and start working [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] 1 install istio 2 install httpbin gateway from samples 3 turn off network 4 apply an authentication policy for ori [REP],JWT validation fails forever if public key retrieval fails
[DES] when servicea connecting serviceb we are seeing 503 uaex navailable upstream connect error or disconnect reset before headers [DES] [EXP] . [EXP] [OTH] networking istio version regular deployment not with helm k8 version version additionally please consider attaching a cluster state archive url generating a cluster state archive by attaching the dump file to this issue [OTH] [REP] install istio version connect svca to svcb using host and port [REP],503 UAEX UNAVAILABLE:upstream connect error or disconnect/reset before headers
[DES] following on from what i raised on the test and release call today we re approximately 3 days into version x and w [DES] [EXP] no 504s when the upstream isn t timing out [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] unsure as of yet only seeing so far on version [REP],Increase in 504 timeouts from source envoy since 1.3.x upgrade
[DES] i have 2 domains in different gateway 1 example com 2 api example com [DES] [EXP] it should point to appropriate domains but when i try to access api example com i am getting 404 not found when i  [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] . [REP],Gateway works as wildcard even if it's not defined like that way
[DES] hey the behavior of exportto is quite confusing and inconsistent for example url states that setting exportto can  [DES] [EXP] behaviour that matches the documentation [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],exportTo behaviour inconsistent and unclear from documentation
[DES] as you can see pilot is complaining about conflicting listeners vds acceptor f8lzq vds acceptor proxy vds acceptor [DES] [EXP] we shouldn t get conflicts or listeners being configured for ports that we don t want istio to care about [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] replicate as above [REP],despite annotations to tell envoy to ignore the port
[DES] i am not being able to connect with mysql using mtls enabled from another application which is a simple crud appli [DES] [EXP] when mtls is enabled on both the application it should be able to connect easily [EXP] [OTH] istio version kubernetes version kindly help me understand what i am doing wrong or where should i look for the lo [OTH] [REP] . [REP],Can't connect to MYSQL when mtls is enabled
[DES] istio init is not installing certmanager crd and because of that getting this error unable to recognize stdin no m [DES] [EXP] upon istio init it should install certmanager crds [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],istio-init is not installing certmanager CRD
[DES] i have the following virtualservice yaml apiversion networking istio io v1alpha3 kind virtualservice metadata name [DES] [EXP] routing of the endpoints to the correct services and 404 on end points that do not match the list [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] on a cluster with istio add the above virtual service definition and try to access endpoints through the gateway e [REP],Non-strict validation of VirtualService and other resources leads to confusing behavior
[DES] cross cluster calls ignore virtualservices in destination clusters ex an in mesh call from servicea clusterx to se [DES] [EXP] i would expect cross cluster calls to be routed the same way for cluster internal and cluster external calls inste [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 create two istio clusters and configure them to use the replicated control plane multi cluster topology 2 config [REP],Multi-Cluster calls (replicated control plane) ignore virtual services in destination clusters
[DES] i am trying a network policy example to allow the traffic from specific namespace everything works good until i in [DES] [EXP] whether its sidecar is injected or not when a call is coming from whitelisted namespace it shouldn t block it [EXP] [OTH] kubernetes version istio version please help me understand what should i need to do to make it work or do i have t [OTH] [REP] simple go through this url example just inject nginx application with the istio s side car [REP],Network Policy Ingress is not working after sidecar injection
[DES] after upgrade to istio version we have found a weird behavior in the ingress sds related to the last changes in sd [DES] [EXP] creating a placeholder secret with temporary values and updating them should result in an update in sds and the ab [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 create a sample gateway 2 create secrets with placeholder values 3 update the secret with valid values [REP],Unstable and unexpected Ingress-SDS behaviour after 1.3.0 upgrade
[DES] i am following the guide at url and cannot get it to work i have tried on gke and minikube and always run into the [DES] [EXP] i expect the hello application to work and not return 404 when i follow this guide [EXP] [OTH] configuration infrastructure x docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] 1 install istio init as per documentation 2 follow the tutorial linked above [REP],"Tutorial ""Kubernetes Ingress with Cert-Manager"" only produces 404"
[DES] our application use nginx to redirect request to different service nginx is also running in a pod when i add desti [DES] [EXP] https traffic for service redirected by nginx also works [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 deploy a nginx pod 2 deploy a https app two deployment v1 and v2 create a service appservice for this app 3 conf [REP],traffic shifting not working for https service behind nginx
[DES] i m currently running a v version cluster with certmanager and ingress sds enabled i have recieved an email from j [DES] [EXP] a version of certmanager which will not be disabled soon is installed [EXP] [OTH] configuration infrastructure docs x installation x networking performance and scalability policies and telemetry x [OTH] [REP] install istio with certmanager enabled version version will be installed [REP],bundled certmanager will be blocked on 1st November
[DES] use remote address and xff num trusted hops applied using envoyfilter do not apply [DES] [EXP] as described here url x envoy internal when i set use remote address true and xff num trusted hops 0 using the new [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] apply the following following yaml kind envoyfilter metadata name hcm tweaks namespace istio system spec workloads [REP],EnvoyFilter with use_remote_address and xff_num_trusted_hops set is not being applied
[DES] . [DES] [EXP] sum of backends for destination rule should be based on max connections but we see the limit per backend at 16 cx  [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] cat eof kubectl apply f apiversion networking istio io v1alpha3 kind destinationrule metadata name ingestion front [REP],cx_active per backend maxes out at 16 even with higher maxConnections
[DES] i m trying to mirror traffic to an external service but it seems that the content of the mirror block in the virtu [DES] [EXP] when i configure a virtualservice to mirror the traffic to another service the traffic should be replicated to tha [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 install istio on a kubernetes cluster i m using docker for mac in this case 2 follow the instructions on url to  [REP],Mirror to external service does not work
[DES] locality lb does not work after upgrading istio from version to version [DES] [EXP] locality lb works normally [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] config is like this yaml localitylbsetting enabled true distribute from cn hangzhou cn hangzhou g to cn hangzhou c [REP],Locality LB does not work after upgrading istio
[DES] lots of dockerfiles in this repo are installing custom ca certificates via add ca certificates tgz i can t tell if [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] based off reading source code haven t actually verified in a running version [REP],Don't manage custom ca-certificates in Dockerfiles
[DES] the destination service name label for tcp metrics is set to unknown when either of these clusters are used [DES] [EXP] the destination service name label for tcp metrics should be set to blackholecluster or passthroughcluster in thes [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] run tcp traffic through your cluster and hit blackhole or passthrough cluster observe the destination service name [REP],The destination_service_name label for TCP metrics is not set for BlackHole & Passthrough cluster
[DES] we are trying to use istio to track the request our existing application use https to communicat between each othe [DES] [EXP] https request for container can also be tracked [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] take istio task create an https service with the istio sidecar and mutual tls disabled url create an https service [REP],No tracing collected in Jaeger for https request
[DES] metrics istio tcp connections closed total and istio tcp connections opened total have destination service label s [DES] [EXP] destination service label is set to the destination service host attribute [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] install istio and run tcp traffic through the merge query istio tcp connections closed total and istio tcp connect [REP],The destination service label for tcp connection opened/closed metrics are inconsistent
[DES] i am trying to connect to a postgres server using psql in a pod in kubernetes cluster that has istio proxy as a si [DES] [EXP] i should be able to connect to postgress successfully [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] this is weird we only see this in our of our clusters the other works fine [REP],Cannot connect to a Postgres Server in a Kubernetes pod with Istio-Proxy as sidecar container
[DES] istio doesn t respect endpoint locality when traffic is routed via the egress in a multi cluster replicated contro [DES] [EXP] when 2 serviceentry instances are created for a single host having the locality set traffic should be routed by co [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 set the istio locality label for the istio egressgateway pod deployment when deploying 2 create 2 serviceentry i [REP],Endpoint locality ignored when routing via egress (multi cluster)
[DES] i want to use rate limit with redisquota and i wrote the following rule with double it does not work istio returns [DES] [EXP] the rating service returns status 429 after rate limit evoked [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] . [REP],Can I use `*` more than once in rule matching
[DES] ip whitelist does not work for a specific ip [DES] [EXP] ip whitelist works for a specific ip [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] whitelist works normally for the following configs yaml apiversion config istio io v1alpha2 kind handler metadata  [REP],IP whitelist does not work for a specific IP
[DES] if you have a working mesh with no named networks in the meshnetworks file and then add an entry to that same file [DES] [EXP] pilot continues serving discovery requests from existing sidecars [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] on any running mesh with no named networks create a named network and restart pilot [REP],Adding First meshNetwork entry creates outage
[DES] installation of version does not complete with generated sds config ingress pilot policy and telemetry pods are st [DES] [EXP] all the pods in running state [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] generate sds config helm template install kubernetes helm istio name istio namespace istio system values install k [REP],Installation of 1.3.0 does not complete with SDS config
[DES] hi i have configured the serviceentry virtualservice destinationrule s as per the istio documentation url control  [DES] [EXP] should be able to configure the tcp traffic from sidecar egressgateway redis [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],TCP traffic from sidecars to the egress gateway not working for External Redis
[DES] with the option grafana persist true grafana pod failed to start crashloopbackoff k n istio system logs grafana nq [DES] [EXP] gf paths data data grafana is writable and grafana pod starts successfully [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] installation steps below [REP],grafana failed to start when helm install --set grafana.persist=true
[DES] i updated one of our clusters to version using helm we enabled k8s ingress resources with the ingress controller a [DES] [EXP] according to url l26 the default values for ingressclass is istio and the istiocontrollermode is strict therefore  [EXP] [OTH] configuration infrastructure x docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] 1 install istio with k8singress enabled set to true 2 create an ingress resource with the kubernetes io ingress cl [REP],Unable to use Kubernetes ingress records in 1.3.0 without additional config
[DES] i would like to be able to configure retries only for idempotent methods i have applied this in the virtual servic [DES] [EXP] retries should be executed for idempotent method calls get and timeout in about 5 6 seconds for the test call as p [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] deploy httpbin url in k8s istio cluster install a virtual service see below pointing to the httpbin deploy execute [REP],Selective retries (on Idempotent methods) not working right
[DES] when creating stackdriver telemetry handler instance and rules to send metrics logs and tracespans to stackdriver  [DES] [EXP] mixer to send metric logs and tracespan to stackdriver [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] i followed the instruction from this blog post istio and stackdriver url also tried to use example yaml manifest f [REP],Stackdriver handler apiKey authentication doesn't work
[DES] istio envoy proxy is ready before finishing fetching all the configurations this can result 503 when scaling up th [DES] [EXP] no 503 when scaling up istio ingressgateway [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] 1 send large traffic to istio ingressgateway 2 scale up the pods of ingressgateway at the same time e g from repli [REP],Unsafe Envoy readiness check can result 503s during scaling up and rolling update
[DES] . [DES] [EXP] new installs of istio use the most recent image as indicated by global hub and global tag [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry x s [OTH] [REP] install istio on a cluster delete the namespaces e g istio system that were installed then install again after a d [REP],"Change global.imagePullPolicy in the old installer to ""Always"""
[DES] when you create a service with endpoints [DES] [EXP] there should be istio endpoints for the kubernetes service with endpoints [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] perform the commands above [REP],Missing Istio Endpoints for Kubernetes Service with Endpoints
[DES] . [DES] [EXP] adding ports by name as protocol prefix succeeds [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] istioctl experimental add to mesh external service n int rabbitmq x x x x tcp 5671 tcp 5672 tcp 15672 error failed [REP],istioctl experimental add-to-mesh external-service fails with duplicate protocols
[DES] currently when using a custom cluster domain and generating the template using helm the mtls does not respect the  [DES] [EXP] generated destination rule for mtls respects custom cluster domain [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] checkout this repo have helm version installed update url l150 to your custom domain ex my custom domain run helm  [REP],helm template - mtls with custom cluster domain
[DES] set the global priorityclassname but that value is not passed to mixer [DES] [EXP] priorityclass should be set in mixer [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry security test and release user experience developer infrastructure version [OTH] [REP] set priorityclassname in the global config and install mixer [REP],Helm Tracing Chart does not use global priorityClassName
[DES] i have set up one custom gateway per environment on our cluster each of them contains the gateway virtual service  [DES] [EXP] map prefix to the destination and be able to rewrite or redirect [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] apiversion networking istio io v1alpha3 kind gateway metadata name istio gateway stg namespace istio system spec s [REP],Route rules have no effect on ingress gateway requests
[DES] i noticed istiocl x manifest installed demo profile varies differently than our istio demo yaml we need to have th [DES] [EXP] consistent behavior on a given profile regardless how i installed it [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] follow this to install the demo profile url [REP],sync demo profile from operator to classic installer
[DES] istio is prone to missed configuration where the missed configuration works perfectly in kubernetes environment bu [DES] [EXP] 1 if no container ports defined istio sidecar proxy should reject deny all connections so that consumers sees conn [EXP] [OTH] configuration infrastructure x docs installation x networking performance and scalability policies and telemetry x [OTH] [REP] 1 install istio w mtls turned on mesh wide strict mode turn on injection in default namespace 1 run nginx kubectl  [REP],"Easier way to surface/debug state of Istio (ports actually proxied, etc)"
[DES] starting from a vanilla install of the hipster demo app running istioctl analyze currently takes about 8 seconds t [DES] [EXP] go much faster [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] 1 install the hipster demo in a cluster url 2 from a checked out istio istio repo synced to master run make istioc [REP],`istioctl experimental analyze` runs too slowly
[DES] this is observed in perf test against istio release version rc 3 the perf test use file mount to provide certifica [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] change spec ports name to a random string in url follow readme in url to start test [REP],Observed periodical memory spike during proxy hot restart in perf test against release-1.3 rc.3
[DES] when using the demo profile which has trace sampling 100 configured i m not seeing any trace spans from my req in  [DES] [EXP] see correlated trace spans for each request [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] deploy an app that worked in version then move to version rc 3 i believe brianavery also tried book info and hit t [REP],Not able to see any traces from my req in jaeger
[DES] documentation doesnt mention how to configure multiple matches for uri and header with and behavior [DES] [EXP] i have a regular service mock and a canary service i have a simple routing rule for both regular production and ca [EXP] [OTH] configuration infrastructure y docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] when i want the traffic to go to regular when header doesnt have istestuser it doesnt work the traffic always goes [REP],Improve documentation for multiple match with AND behavior
[DES] i am trying to handle stickysession for my web app using istio s destination rule like below 3 replicas of web app [DES] [EXP] session persistence should be maintained instead of expring quick and service should route to the same pod as long [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability policies and telemetry sec [OTH] [REP] hit the url of web app in multiple windows session keeps expiring [REP],Sticky session using consistentHash isn't working as expected in Istio 1.2.2
[DES] when gateway resource and virtual service pod are deployed different namespaces i have deployed my gateway resourc [DES] [EXP] i would expect to be able to see the gateway resource as well [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] deploy httpbin in its own namespace deploy vs for httpbin in that namespace deploy gateway resource in istio syste [REP],Not seeing gateway info during istioctl describe
[DES] istio envoy 504 gateway timeouts after 15 seconds for outbound connections [DES] [EXP] for all outbound without egress gateway and allow all policy it should not timeout [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] deploy istio version with default helm profile then form any pod with istio proxy try to make a curl request that  [REP],Istio envoy 504 gateway timeouts after 15 seconds for outbound connections
[DES] using a simple sidecar config for a given namespace namespace a mostly following the sidecar reference doc example [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 deploy service a in namespace a 2 deploy service b in namespace b 3 create service b s external name service in  [REP],Sidecar config doesn't work when using port in egress
[DES] galley validating webhook configuration replica set and pods are periodically garbage collected by kubernetes this [DES] [EXP] validating webhook configuration should not have a namespace scoped owner galley validating webhook configuration  [EXP] [OTH] x configuration infrastructure docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] turn on verbose logging in kube controller manager force the kube controller manager lease to be changed by stoppi [REP],"Galley validating webhook configuration, replica set and pods are periodically garbage collected by Kubernetes"
[DES] some e2e tests fail on go version for the error flag provided but not defined test v run with go version instead w [DES] [EXP] go test should works fine [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] run make e2e simple run or directly run go test with standard flags set for example v or timeout it would gives er [REP],go test fail for undefined flags on go 1.13
[DES] it seems the error is returned by go tool cover html coverage cov o coverage html in codecov sh maybe also related [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] cover unknown import path istio io istio galley pkg config analysis cannot find module providing package istio io  [REP],istio-codecov-master fails with unknown import path
[DES] in istio install kubernetes helm istio charts gateways templates preconfigured yaml the certificate mount path is  [DES] [EXP] it seems to me that it should reflect the configuration values in istio install kubernetes helm istio charts gatew [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] install istio with helm according to the documentation and install the ingress example [REP],Secret name mismatch in K8S ingress gateway
[DES] when used in aws eks the release version version of istio installed using helm causes a continuous https redirect  [DES] [EXP] should not cause https redirect loop [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] start an aws eks cluster and deploy istio version [REP],httpsRedirect at Gateway causes redirect loop when used in AWS EKS with ACM cert
[DES] sds config values in the default values yaml are empty and invalid only the default values in values istio sds aut [DES] [EXP] users shouldn t have to install a specific profile to get valid default configuration values [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry x s [OTH] [REP] . [REP],SDS Helm config default values should be set in values.yaml
[DES] unable to load prometheus and grafana services through aws alb [DES] [EXP] through route53 url aws alb prometheus service should load in browser url [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 change the istio ingress gateway type to nodeport and installed istio helm template set gateways istio ingressga [REP],Unable to access prometheus and grafana services
[DES] when running an authentication service inside the service mesh for usage in the ext auth url configuration example [DES] [EXP] external authentication should work over grpc when the authentication service runs inside the service mesh [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry x s [OTH] [REP] try and set up an authentication service which runs over grpc and attempt to setup the previously described envoyf [REP],External Auth not functional when auth service inside mesh
[DES] istio couldn t handle full url request also reported a year ago on so link url kubectl n istio system exec it isti [DES] [EXP] result should be the same [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] the same as in description [REP],Istio couldn't handle full URL request
[DES] when istio is configured with yaml outboundtrafficpolicy mode registry only and an http request is made to url the [DES] [EXP] the label destination service should be set to blackholecluster [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] fetch istio version rc0 url change outboundtrafficpolicy in install kubernetes istio demo yaml from mode allow any [REP],BlackHoleCluster telemetry for HTTP istio_requests_total is missing destination_service
[DES] istio policy and istio telemetry going into crashloop when scheduling on d32 size vm [DES] [EXP] install istio version on d32 vm type [EXP] [OTH] x configuration infrastructure docs x installation networking x performance and scalability x policies and telemet [OTH] [REP] install istio version with on d32 and d8 type vm istio policy and istio telemetry going into crashloop when schedu [REP],Istio-policy and istio-telemetry going into crashloop when scheduling on D32 size vm
[DES] if a service is deployed with port 8080 kiali reports the source as unknown this only affects the port and only po [DES] [EXP] the source field gets reported even on port 8080 [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] deploy a service with port 8080 targetport may be different [REP],port 8080 in services leads to unknown source
[DES] following the instructions on url at the step kubectl apply f sleep injected yaml get an error as follows kubectl  [DES] [EXP] . [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry x s [OTH] [REP] following the instructions on url at the step kubectl apply f sleep injected yaml an error is returned [REP],"Community Testing, deployment error in Istio Vault CA Integration"
[DES] citadel health check doesn t work with plug in certs with intermediate certs log 2019 08 27t21 58 version z tinfo  [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] helm template install kubernetes helm istio name istio namespace istio system values install kubernetes helm istio [REP],Citadel health check doesn't work with plugin cert
[DES] the istio cni daemonset fails to start in the istio system namespace on k8s v version due to permission issues [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs x installation x networking performance and scalability policies and telemetry s [OTH] [REP] follow the helm installation instructions in the istio installation docs url istio cni enabled tab install the ist [REP],Istio CNI doesn't start on k8s v1.15.3
[DES] when deploying a custom ingress gateway using a standard deployment and not a canary i get the following error 201 [DES] [EXP] custom ingress gateway to be working properly [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] connect a custom ingress gateway to a regular deployment [REP],"2, gateway has no associated service instances results in a 404 error"
[DES] most of our platforms services are paas based services which requires dns endpoint and its public ip may change fr [DES] [EXP] dns resolution based entry should work for any https tls endpoint with the location mesh external [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] create dns based entry as shared above and try to perform curl call for the https endpoint [REP],"Istio serviceetntry HTTPS DNS resolution with Location: MESH_EXTERNAL, is not working"
[DES] . [DES] [EXP] connections from pods with an injected sidecar to a postgresql database running inside a different pod with an inj [EXP] [OTH] client version version citadel version version egressgateway dirty galley ingressgateway dirty pilot policy sideca [OTH] [REP] 1 install istio on kubernetes cluster with activated mtls 2 deploy postgresql with an injected sidecar proxy 3 dep [REP],PostgreSQL connection not working when using Istio mTLS
[DES] in our uat cluster not used a week approximately we noticed some strange behavior with istio proxy first 3 to 5 re [DES] [EXP] service mesh responsible irrelevant to time not using particular container [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],"503 ""upstream connect error or disconnect/reset before headers"" v1.1.8 on low traffic"
[DES] the istio operator pod will deploy the jaeger collector and jaeger query deployments based on the openshift docs 1 [DES] [EXP] the specified image tag version in this case version should really be pulled not the default tag version instead w [EXP] [OTH] x configuration infrastructure docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] these steps are taken from the install docs 3 4 oc new project observability create the project for the jaeger ope [REP],Wrong image version of jaeger-collector and jaeger-agent being pulled
[DES] when you change istio s configmap pilot is not being redeployed [DES] [EXP] changing istio configmap should invoke new pilot s deployment [EXP] [OTH] x configuration infrastructure docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] change one of istio s configmap values e g set enabletracing to false or completely remove any values from configm [REP],Pilot's automatic roll deployments do not work
[DES] . [DES] [EXP] as claimed by the istio documentation access to external services e g www google com should be allowed by default  [EXP] [OTH] x configuration infrastructure x docs x installation x networking performance and scalability policies and telemet [OTH] [REP] install istio demo profile by following the istio setup guide and try to access any external service by following  [REP],Istio demo profile on AWS K8S cluster do not allow external access by default
[DES] the root cause is istio system is the root config namespace by default so we get 2 one from root ns and one from g [DES] [EXP] so as we haven t prevented from setting istio system as root config namespace we can workaround by removing duplic [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],EnvoyFilter patched 2 same filters to ingress-gateway
[DES] java 11 core httpclient optionally supports http 2 and as per official http 2 spec rfc7540 url discover http it se [DES] [EXP] a port named as http must work as http on an incoming istio sidecar any other optional ignoreable http 2 headers s [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] a fully reproduceable test case with ready kubectl apply yamls are here url [REP],Istio breaks java.net.http.HttpClient introduced as incubating in Java 9 and stable in Java 11
[DES] i try to apply istio in my own project but it doesn t work and in the same environment the sample bookinfo works s [DES] [EXP] the route set the right port number [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],istioctl proxy-config routes doesn't show the port in the yaml
[DES] when i apply a file to k8s kubectl apply f bookinfo gateway yaml error from server internalerror error when creati [DES] [EXP] the validatingwebhook can work normally [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] . [REP],"The ValidatingWebhook failed, remote error: tls: bad certificate"
[DES] after upgrading to version from version we see occasional segfaults on many istio proxy pods all of which have a f [DES] [EXP] envoy does not crash [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] very intermittent so hard to reproduce creating issue to alert people of potential problem we will continue to inv [REP],envoy segfaults occasionally on istio-proxy pods
[DES] istio pilot failed to fetch pubkey sometimes this will bring jwt verify fail 401 2019 08 15t17 47 version z terror [DES] [EXP] pilot should get public key from s3 for jwt verify if fail once should retry istio proxy should have a way to get  [EXP] [OTH] security version helm aws coreos note that we can customizing istio proxy code it will be great if you can give me [OTH] [REP] 1 run kubernetes and istio 2 enable jwt verify 3 we found sometimes the public key cannot be get by istio pilot fr [REP],Istio pilot failed to fetch pubkey sometimes.
[DES] we have a elasticsearch service is running inside the cluster outside of the mesh on http on port 9200 port is nam [DES] [EXP] the call to an external url should work irrespective of the ports used on the cluster and how they are named espec [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] have a service running a eg elasticsearch running on port 9200 and named http have allow all mode set for egress c [REP],Port conflict on egress when ALLOW_ALL is used
[DES] upon deploy of istio version using helm out of the box other than added image pull secrets and custom image repo t [DES] [EXP] istio pilot successfully networks with istio galley allowing for all other pods to deploy correctly [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] redeploying consistently occurs on helm install [REP],Istio Pilot cannot connect to Galley and fails ingress-gateway + in mesh istio services
[DES] running traffic on istio version with workloadcertttl 1h there is traffic failed the test case is sending traffic  [DES] [EXP] traffic will not be impacted during renew the certificate [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability policies and telemetry sec [OTH] [REP] set workloadcertttl 1h running traffic for hours to see if there is traffic failed [REP],Traffic failed during renew the certificate
[DES] set global proxy accesslogformat start time start time results in accesslogformat start time start time whereas it [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] helm template install kubernetes helm istio name istio namespace istio system set gateways istio egressgateway ena [REP],helm create wrong accessLogFormat in Istio cm. Istio 1.2.3.
[DES] changing the port definition in istio ingressgateway service effect outbound traffic to https targets [DES] [EXP] istio ingress gw service definition should not affect outbound traffic at all [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 remove https port and change http2 to be name http2 nodeport 31380 port 443 protocol tcp targetport 80 2 now you [REP],Changes to ingress-gw ports effect outbound traffic
[DES] hey we noticed some problems when implementing header based routing with istio when creating a virtual service to  [DES] [EXP] header based routing rules allow underline in the header name or kali is showing a validation error warning [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] 1 deploy a virtual service as shown above [REP],"virtual-service header based routing with ""_"" in header-name does not work"
[DES] see url lei tang would you mind to take a look the customer is reporting it s failing in version not sure if it al [DES] [EXP] cors preflight requests should work when a jwt policy is configured on the istio ingressgateway target [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] see the original report [REP],Cors preflight does not work when Jwt Policy targets the Istio Ingress Gateway
[DES] isito version helm upgrade does not update meshpolicy few examples 1 manually delete the default created meshpolic [DES] [EXP] running helm upgrade should also update the meshpolicy and correct destinationrules when mtls is set from false to [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] 1 set mtls enabled from false to true mtls enabled true run helm upgrade helm upgrade install force istio install  [REP],Helm upgrade not updating meshpolicy for mtls
[DES] when a gateway gets added which used port instead of port the istio pilot will crash here is the istio pilot log 2 [DES] [EXP] istio pilot to not crash and some kind of user input validation [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] apiversion networking istio io v1alpha3 kind gateway metadata name istio autogenerated k8s ingress namespace gke s [REP],istio-pilot crashes with port in capital P
[DES] i have a simple routing in a virtual service that does the following if queryparam apikey and route go do service  [DES] [EXP] . [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] this is done via match queryparams apikey exact version2 uri prefix route destination host dash svc port number 80 [REP],HTTPRoute queryParams seem to always return true
[DES] when creating a custom metric i m attempting to use a cexl expression to manipulate an attribute and truncate it t [DES] [EXP] conditional returning an empty string be handled as empty by the and moving on to the next block [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability x policies and telemetry s [OTH] [REP] conditional request url path startswith api tx api tx unknown returns instead of unknown when url path does not st [REP],CEXL pipe (non-empty handling) and conditionals
[DES] we had some strange behavior with a few applications this morning i tried to debug it but didn t get anywhere so w [DES] [EXP] not to error to be deterministic in its behavior to use a consistent amount of memory [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] i cannot figure out how to reproduce it the only thing i can think is that it happened when we drained four nodes  [REP],Istio-proxy complaining about envoy missing listeners
[DES] i have 2 gateway objects one for external and one for internal traffic both of these are set to for the hosts on b [DES] [EXP] port 443 should be listened on in both gateways [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Gateway does not register port 443 if another gateway does with the same hosts
[DES] i have a three pod installation of redis each pod is running redis and sentinel the master redis node is showing 2 [DES] [EXP] the expected behavior is that the redis master knows the ip addresses of its connected slaves [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],redis with sentinel misreporting as
[DES] follow up on a closed issue in an unknown state url this is fixed in envoyproxy envoy 7505 i think this issue can  [DES] [EXP] reaching the public ip [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] try accesing the istio ingressgateway public ip [REP],"14, upstream connect error or disconnect/reset before headers. reset reason: connection failure"
[DES] i tried to expose my services on aks with istio ingress but i think i misunderstand something when routing service [DES] [EXP] i expect it works with ingress ip ingress port api my function method post however it returns error 500 bus proxy  [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] deployment files is attached below [REP],Expose service on AKS via Istio Ingress
[DES] my app needs to make a request to another service when it starts then due to iptables rule the request is redirect [DES] [EXP] the app can start normally [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],The request of the application container was rejected by sidecar when sidecar was not ready
[DES] we have development cluster deployed with istio version and all the outbound traffic from applications are reroute [DES] [EXP] the http2 requests with prior knowledge should be forwarded as http 2 requests [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] run some curl request with http2 prior knowledge on port 8080 [REP],HTTP2 request on port 8080 with prior knowledge is being forwarded as HTTP1.1 by istio-proxy.
[DES] got denied after connection check and the actual rbac rule passed however we did not turn on any network filter an [DES] [EXP] istio sidecar should allow the connection since rbac rule is passed [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Getting RBAC denied for connection check without network filter
[DES] i am unable to have a vm in my expanded mesh behave as an egress gateway the example gateway http traffic reaches  [DES] [EXP] i expect to have traffic leaving my vm to be earmarked as example gateway traffic [EXP] [OTH] x configuration infrastructure x docs installation networking performance and scalability policies and telemetry s [OTH] [REP] add a vm to the mesh follow the egress gateway tutorial url but have the egress gateway and relevant service be th [REP],Cannot apply gateway resource to VMs in expanded mesh
[DES] . [DES] [EXP] the example url globally enabling istio mutual tls should work [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] run the example and see incorrect status codes returned [REP],The authentication example on istio.io seems to be broken in 1.2.2
[DES] run manifest diff command to compare manifests generated from helm vs operator cli there are some fields which are [DES] [EXP] manifest diff command should not output any difference between helm generated manifests vs operator cli generated  [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Inconsistency between operator CLI generated manifest and helm generated manifest
[DES] url and url conflict resulting in broken builds [DES] [EXP] build succeeds [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry security x test and release user experience x developer infrastructure [OTH] [REP] go get istio io istio cd gopath src istio io istio go mod tidy go mod vendor make [REP],Broken Build after go mod vendor
[DES] . [DES] [EXP] tests should pass [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] from tests integration run go test istioctl istio test env kube log output level tf debug and it fails 2019 08 01t [REP],integration test (istioctl at least) running locally against Kube is failing
[DES] we re using prometheus version with this scrape config url as you can see one must supply the pods scrape job with [DES] [EXP] succeed scraping all pods automatically both securely tls and insecurely [EXP] [OTH] x configuration infrastructure x docs installation x networking performance and scalability x policies and telemet [OTH] [REP] supply prometheus with official scrape config on a cluster running istio sds [REP],Scraping all cluster pods using Prometheus + SDS
[DES] when i edit the istio sidecar injector config map to set policy disabled after a few minutes the config map revert [DES] [EXP] edited istio sidecar injector config map should not revert changes to the policy property [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] 1 create a new gke cluster with istio enabled check that it installs the same version of istio components like spe [REP],istio-sidecar-injector Config Map automatically reverts to `policy: enabled`
[DES] when using rate limiting redis without defining an override the key used to look up the current amount in redis do [DES] [EXP] even without providing an override the dimensions defined in the instance quota template should generate unique ke [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] 1 create a deployment and service called test in the namespace default 2 scale this deployment to 1 replica 3 appl [REP],Rate limiting does not respect dimensions without override
[DES] istio provides annotations sidecar istio io proxycpu sidecar istio io proxymemory which can be used to override th [DES] [EXP] annotations to be documented as they are useful in providing per workload overrides [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Missing documentation for per-workload resource requests for proxy
[DES] the istio helm chart has a global value to insert imagepullsecrets into deployments jobs but istio init does not e [DES] [EXP] the istio init chart would have a global value to insert imagepullsecret names like the istio chart [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry x s [OTH] [REP] examine values yaml for the istio init chart and or use helm template to render it [REP],istio-init Helm chart does not support setting imagePullSecrets
[DES] the istio regression patrol is showing a regression in throughput and response time on all 3 configurations full i [DES] [EXP] no performance regression from build to build [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability policies and telemetry sec [OTH] [REP] compare throughput and latency of app using an istio build prior and after 07 25 [REP],Performance regression detected starting on build 07/25
[DES] when using loadbalancersourceranges in istio service with load balancer in aws with 1 security group attached if t [DES] [EXP] if cidrs 50 entries it should create another sg with limit of 5 sg per load balancer [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] kubectl n istio system edit svc istio ingressgateway loadbalancersourceranges x x x x xx [REP],ISTIO Service loadBalancerSourceRanges not working with more than 50IPs in AWS Security Group
[DES] we have seen in many scenarios that the pilot is scaling up without an obvious reason therefore we did some perfor [DES] [EXP] the horizontal autoscaler uses a metric which reflects the actual load of a pilot cpu and or memory usages are not [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability policies and telemetry sec [OTH] [REP] issue tar gz url run create resources sh from attachment once run update resources sh measure performance bash kub [REP],Horizontal autoscaling of pilot not working properly
[DES] enable ip address based configuration in serviceentry and virtualservice [DES] [EXP] istio enabled application should be able to call external apis published on given ip address and retry timeout sho [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] i have application a inside k8s cluster which is istio enabled application a needs to call many external apis for  [REP],Missing support of IP Address in calling External APIs via Egress
[DES] i have about 20 pods running on kubernetes cluster after about 3 days they begin to refuse readiness prob http req [DES] [EXP] readiness probs will work as intended [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] i not doing anything special running pod on kubernetes with http readiness prob enabled [REP],Service stops receive readiness prob requests from Kubernetes
[DES] service x which is grpc client connecting to service y which is stateful grpc server doesn t recover when server s [DES] [EXP] after the pod of service y starts service x should automatically reconnect to new pod and should be able to call g [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] mentioned above [REP],Connection to headless service doesn't recover
[DES] the daily build process should process sha256 files for each of the istioctl archives that are published during th [DES] [EXP] the completed build process should in the generation of 3 sha256 files one for each of the published istioctl arch [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] observe the published artifacts located at url [REP],Daily build process only publishes the sha256 files for 1/3 of the istioctl archives.
[DES] . [DES] [EXP] source istio charts mixer templates deployment yaml apiversion extensions v1beta1 kind deployment metadata spec re [EXP] [OTH] . [OTH] [REP] creating configs by helm template istio root install kubernetes helm istio name istio namespace istio system f val [REP],installation - helm chart - tolerations
[DES] how do i use set gateways istio ingressgateway nodeselector [DES] [EXP] specify ingressgateway scheduling on nodes labeled ingressgateway true [EXP] [OTH] configuration infrastructure x docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] error render error in istio charts gateways templates deployment yaml template istio charts gateways templates dep [REP],How do I use -- set gateways. istio - ingress gateway. nodeSelector
[DES] . [DES] [EXP] there shouldn t be any sporadic automatically appearing disappearing connection issues with istio proxy to externa [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] i am not sure there is any particular pattern for reproducing this in my case 1 of the pods with istio proxy conta [REP],"pods with istio-sidecar container , cannot reach the external services (sometimes)."
[DES] if you try to start productpage v1 version with a different uid such as 1001 python will error with keyerror getpw [DES] [EXP] start productpage with different security context user non root such as 1001 and it starts up correctly [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] docker run it user 1001 istio examples bookinfo productpage v1 version sh python productpage py 9080 [REP],productpage v1:1.15.0 wont run with different uid
[DES] when we define the following service entry where mesh hostnames are resolved with istiocoredns and virtual service [DES] [EXP] the dns resolution eds should be consistent between istio ingressgateway and other sidecar proxies and should reso [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] see the bug description [REP],Service entry not behaving the same for sidecar and istio-ingressgateway
[DES] restarting the sidecar injector pods does not produce matching ca certificates [DES] [EXP] when experienceing x509 certificate related errors steps are performed according to url x509 certificate related e [EXP] [OTH] x configuration infrastructure x docs x installation networking performance and scalability policies and telemetry [OTH] [REP] kubectl get istio sidecar injector o yaml o jsonpath webhooks 0 clientconfig cabundle md5sum kubectl n istio syste [REP],sidecar-injector pods does not produce matching CA certificates
[DES] . [DES] [EXP] the traffic in case of a pod to pod request must be influenced by virtual service and sent 100 to v2 version of ap [EXP] [OTH] configuration infrastructure docs x installation x networking performance and scalability x policies and telemetry [OTH] [REP] create a k8s cluster may be kind cluster with 3 nodes and 2gb of ram to docker kind create cluster config kind con [REP],istio 1.2.2 request routing does not work
[DES] . [DES] [EXP] it is expected to install istio with helm [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry security test and release user experience developer infrastructure istio v version kubectl v version after i used the command with istio io in it the cloud is gke my machine is a fedora 30 [OTH] [REP] follow the documentation [REP],"Update ""helm install"" command in docs"
[DES] the certificate of url has been expired please replace [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] helm repo add url error looks like url is not a valid chart repository or cannot be reached get url x509 certifica [REP],The certificate of https://gcsweb.istio.io/ has been expired.
[DES] validatecidr is implemented in common go but not used by any non test code add validation for ip values in operator s validate phase [DES] [EXP] if use specify a profile with invalid ip address the cli will return corresponding errors to indicate the issue label area environments operator [EXP] [OTH] . [OTH] [REP] . [REP],Add validation for IP values in operator's validate.go
[DES] example usage url of the stackdriver adapter is out of date unable to recognize kubernetes manifests istio stackdr [DES] [EXP] should not be using deprecated crds [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] install istio version attempt to install url [REP],Mixer > Stackdriver > Example does not work
[DES] preface this is without galley mcp pilot is directly interacting with k8s not sure if moving to galley would chang [DES] [EXP] pilot should be able to recognize pods with hostnetwork true as separate and not constantly battle over the same c [EXP] [OTH] x configuration infrastructure docs installation networking x performance and scalability policies and telemetry s [OTH] [REP] create multiple pods with hostnetwork true that end up on the same node both of those pods will have the ip leadin [REP],Pilot performance issue with host networked Pods
[DES] i m trying to collect metrics url with latest version v version but when i execute kubectl apply f samples bookinf [DES] [EXP] prometheus handler will be create [EXP] [OTH] x configuration infrastructure x docs x installation networking performance and scalability policies and telemetry [OTH] [REP] . [REP],"23 crds created but no matches for kind ""prometheus"" when trying to collecting metrics"
[DES] istio policy pods call out to our custom adapters for policy checks we notice that every time an adapter pod is ki [DES] [EXP] 100 of policy checks succeed during a rolling update of adapter pods [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] will update shortly [REP],mixer produces errors during graceful shutdown of adapter pods
[DES] move circleci jobs to prow [DES] [EXP] all ci jobs run in prow [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry security test and release user experience x developer infrastructure [OTH] [REP] . [REP],migrate cni circleci jobs to prow
[DES] . [DES] [EXP] can not access external url without serviceentry [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 set outboundtrafficpolicy registry only istioctl proxy config listener mypodname port 15001 o json name virtual  [REP],REGISTRY_ONLY but I can access external url
[DES] a slack conversation below img width 866 alt screen shot 2019 07 18 at 6 49 17 am src url [DES] [EXP] injection always honors the annotation regardless of whether the namesapce is marked for injection or not [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],"with sidecar annotation injection enabled, but namespace injection disabled, sidecar is not injected"
[DES] istio proxy cannot route to service on serviceport 80 but after i changed the port proxy could route normally [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] when port is 80 proxy logs image url image url when i changed the port proxy logs image url image url when port is [REP],Istio proxy cannot route to service on service port 80
[DES] when trying out the https via egress gateway tasks i notice they only work from the namespace the virtual service  [DES] [EXP] expect the keyword mesh not to require a namespace prefix [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] follow the steps on url egress gateway for https traffic but try the sleep example from a different namespace [REP],Destination Rule is not applied to traffic from all namespaces it's exported to
[DES] helm delete does not remove istio system namespace helm delete purge istio helm delete purge istio init [DES] [EXP] istio system is active after helm delete and purge [EXP] [OTH] x configuration infrastructure docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] helm delete purge istio helm delete purge istio init k get po n istio system [REP],helm delete - does not remove namespace
[DES] after enabling the istio ion gke i am not able to get all traces in stackdriver the logs in mixer shows unknown wo [DES] [EXP] the trace information should be sent to stackdriver [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] just regular calling the app api [REP],Getting unknown workload instance type on after enabled on GKE
[DES] envoyfilter cr object is not being applied to the virtual listener of a workload sidecar no logs are visible neith [DES] [EXP] the configured filter get inserted into the matching virtual listeners filterchain and shows up in the dynamic lis [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] deploy sleep app in sidecar injection enabled labeled namespace default create envoyfilter cr object with the foll [REP],"EnvoyFilter not being applied to the workload sidecar ""virtual"" listener"
[DES] brief overview in our current implementation of istio the ingress gateway sits behind one of our partner s reverse [DES] [EXP] x forwarded for headers containing the source ip of the client that made the request [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] publish a web application via istio for better accuracy use an intermediate proxy to reach the web application fid [REP],Source IP not preserved in HTTP headers
[DES] consul cpu usage reached to 300 while service changes in my test environment the high cpu usage of consul is cause [DES] [EXP] consul registry should cache the services to avoid too many remote calls to consul server [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability policies and telemetry sec [OTH] [REP] 1 install istio with consul 2 register 200 services to consul 3 change registered services for example deregister  [REP],Consul high CPU usage when services change
[DES] we support url however it only contains the latest charts version see [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] it is not possible to install old versions of istio charts nor upgrade the charts from the same location see url f [REP],All Istio charts should be consolidated into one release directory
[DES] developer quick start url installation from istio operator points to invalid git repo and doesn t provide dependen [DES] [EXP] running git clone url should bring down the operator repo but does not the repo should also mention how dependenci [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] run git clone url or git ls remote url attempt to follow developer quickstart as written [REP],istio/operator broken developer quick start instructions
[DES] all istio helm repositories contain the same version of istio cni chart [DES] [EXP] a version of istio cni helm chart is updated for every release of istio cni [EXP] [OTH] x configuration infrastructure docs x installation networking performance and scalability policies and telemetry security test and release user experience developer infrastructure [OTH] [REP] for example url version url version [REP],Version of istio-cni helm chart is not updated
[DES] envoy is only trying to resolve ipv4 address so all ipv6 external services can t be reached with resolution dns mo [DES] [EXP] it should either use envoy auto mode by default or provide a plilot agent command line argument to change the mode [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],ServiceEntry.Resolution DNS lookup only ipv4 address
[DES] if a kubernetes cluster undergoes a scenario where all pods are destroyed and then rescheduled the istio control p [DES] [EXP] on a full cluster restart the istio control plane should be able to successfully recover itself back to functional [EXP] [OTH] configuration infrastructure x docs installation x networking performance and scalability x policies and telemetry [OTH] [REP] 1 create a kubernetes cluster on say gke should also work on local cluster like minikube etc 2 install istio with  [REP],pilot and rest of control-plane not starting after full restart
[DES] i have single gateway and two virtual services i am sending requests to ingress gateway but with different hostnam [DES] [EXP] i have single gateway and two virtual services two services are sending to ingress gateway but with different host [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] gateway apiversion networking istio io v1alpha3 kind gateway metadata name sip gateway namespace istio system spec [REP],Single Gateway with multiple Virtual Service
[DES] istio does not allow domain name with more than 64 characters [DES] [EXP] since there is no such limitation on domain name istio should be able to create them [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] cat vs yaml apiversion networking istio io v1alpha3 kind virtualservice metadata name test spec gateways istio sys [REP],Istio does not allow domain name with more than 64 characters
[DES] on scale when creating 600 pods with virtual services that are connected through web socket connections get broken [DES] [EXP] no dropped connections when adding new pods with their virtual service [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] install istio version on aws k8s cluster side car injection disabled max pilot and ingress instances 15 create 800 [REP],Dropping websocket connections on scale (800+ pods)
[DES] my destination rule resides in default namespace where my service resides in ns1 namespace in the destination rule [DES] [EXP] it is in contravention to the documentation as below url note for kubernetes users when short names are used e g e [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] this does not work http version 503 service unavailable even though fqdn of service is provided apiversion network [REP],"Bug in destination rule\\\\'s ""host"" interpretation even if FQDN of service is provided"
[DES] for endpoints service discovery multiple mcp sources should be supported in multi cluster environment to sync serv [DES] [EXP] service discovery integration between istio and consul using mcp endpoints [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Support for multiple MCP sources for endpoints
[DES] after enabling istio cni and the side car proxy never came up bcz of readiness failing the root cause is ip6tables [DES] [EXP] if there is any ipv6 addresses configured on the node we shouldn t drop all ipv6 inbound traffic [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],istio CNI is not working correctly with IPv6
[DES] gateways from meshnetworks are not picked up when using serviceentries i would like to route every request from a  [DES] [EXP] requests to mycompany io should be routed via the gateway specified in the meshnetworks settings when the resolved [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 i created the following entries yaml values yaml global meshnetworks remote endpoints fromcidr version 24 gatewa [REP],gateways from meshNetworks are not picked up when using ServiceEntries
[DES] on the url global options page the default value for global proxy concurrency is set to 2 but the description says [DES] [EXP] description should say default is 2 which i believe it is [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Documentation on default global concurrency incorrect
[DES] . [DES] [EXP] deployment manager template should be able to install the version that has been released to with all it s componen [EXP] [OTH] version x or version x using deployment manager template on the release all gke versions that support istio the ji [OTH] [REP] try to use the template by changing to any version x or version x version [REP],Deployment manager template does not work with latest releases.
[DES] i ve created a policy as follows apiversion authentication istio io v1alpha1 kind policy metadata creationtimestam [DES] [EXP] no 401 unauthorized on endpoint credit category [EXP] [OTH] configuration infrastructure x docs installation x networking performance and scalability x policies and telemetry [OTH] [REP] install a similar policy as above for some endpoint and verify that included paths and excluded paths don t seem t [REP],Policy not respecting excluded_paths and included_paths
[DES] when an e2e test fails we save tons of cluster info which is great but we save it to stdout in a non parseable for [DES] [EXP] junit xml contains actual test case information build log is manageable k8s logs are stored separately [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] . [REP],"e2e SaveLogs overloads the build-log, and corrupts the junit report."
[DES] sidecar egress configuration is not honored when global outboundtrafficpolicy mode is set to allow any i think it  [DES] [EXP] workload is only able to access the services defined in the egress host list of sidecar resource [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] 1 ensure url envoy passthrough to external services global outboundtrafficpolicy mode set to allow any 2 install b [REP],Sidecar egress configuration is not honored when mode is ALLOW_ANY
[DES] if the cni plugin is installed and istio is configured with istio cni enabled true then injected pods cannot valid [DES] [EXP] injected pods should either validate against a psp or fail with a meaningful error message [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry x s [OTH] [REP] 1 install istio and istio cni on gke version version gke 8 1a configure istio with istio cni enabled true 2 enable [REP],Pods injected with istio_cni.enabled=true cannot validate against any PSPs on GKE
[DES] the operator docs provide a confusing command for building the iop tool instead of outputting to gopath bin iop as [DES] [EXP] docs have commands that output to a usable iop binary [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Operator docs have incorrect build command
[DES] prow integ security k8s presubmit tests sh showed as passed in pr url but actually it s aborted in prow url the pr [DES] [EXP] aborted test should be treated as failed test [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] . [REP],ABORTED test is reported as passed on Github
[DES] the serviceentry validator in pilot pkg model validation go only accepts ipv4 subnets for addresses ipv4 addresses [DES] [EXP] being able to specify ipv6 subnets for addresses ipv6 addresses for endpoints in a serviceentry yaml file [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] specify one or more ipv6 subnets for addresses ipv6 addresses for endpoints in a serviceentry yaml file attempt to [REP],ServiceEntry does not accept IPv6 Addresses and Endpoints
[DES] isito version application can get source ip version cannot be get the web application gets the visitor s ip simila [DES] [EXP] the application gets the source ip of the visitor [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] set interceptionmode tproxy kubectl apply f istio demo yaml [REP],"Isito 1.2.0 application can get source IP, 1.2.2 cannot be get"
[DES] couldn t deploy application on namespace which is istio injection label enabled when this error occurs no log mess [DES] [EXP] kubectl get namespace l istio injection name status age istio injection default active 8d enabled kubectl apply f  [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] but when i was trying kubectl apply f url error from server internalerror error when creating url internal error o [REP],Automatic sidecar injection failing after re-installed
[DES] rbac namespace level access control not working [DES] [EXP] followed the instructions in the section enforcing namespace level access control url enforcing namespace level ac [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] install bookinfo kubectl label namespace default istio injection enabled kubectl apply f samples bookinfo platform [REP],rbac namespace-level access control not working
[DES] there are some bad values for env vars for the proxy images istio proxy version is hardcoded to version url l44 is [DES] [EXP] if there is metadata being collected it should be accurate we probably also should not have two different ways of  [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] build a proxy image and use it [REP],Bad environment variables in proxy lead to misleading metadata
[DES] i was following perform tls origination with an egress gateway url perform tls origination with an egress gateway  [DES] [EXP] serviceentry telemetry is being reported e g time serie for istio tcp sent bytes total destination service edition [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] 1 follow perform tls origination with an egress gateway url perform tls origination with an egress gateway example [REP],No telemetry reported for External ServiceEntry with Gateways
[DES] the case where there is a single route with weight 0 there might be need to add some validations and logic fixes p [DES] [EXP] 1 the code reflects the yaml configuration set by user not silently overriding it 2 validation for the case where  [EXP] [OTH] configuration infrastructure networking performance and scalability policies and telemetry user experience latest  [OTH] [REP] add a virtual service with one route and weight 0 although it s probably will work the same with any value 100 [REP],VirtualService HTTPDestination weight = 0 value overriden in code to 100
[DES] i m trying to apply fault injection rules to external services that my cluster is accessing i m able to successful [DES] [EXP] apply service entry to external service say url then apply a fault injection virtual service after that is done wh [EXP] [OTH] configuration infrastructure x docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] 1 set outboundtrafficpolicy mode to allow all 2 apply a service entry to some https host say url 3 apply a fault i [REP],Fault Injection on External Https Service Not Working
[DES] . [DES] [EXP] expect release tarballs to contain not contain yaml with empty values [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] download release tarball look at or attempt to apply install kubernetes istio demo auth yaml weirdly i notice that [REP],istio-demo-auth.yaml contains invalid yaml (empty values)
[DES] istioctl proxy config anything hangs indefinitely on version eg istioctl proxy config endpoint platform testing c7ht2 platform testing [DES] [EXP] istioctl proxy config to work [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry security x test and release x user experience x developer infrastructure istio version gke version helm gke [OTH] [REP] use version and it won t work tested on 3 different clusters [REP],istioctl proxy-config command hangs in 1.2.0
[DES] to determine whether or not a given namespace should be citadel managed if the listened namespaces flag is not use [DES] [EXP] citadel should retrieve an object s namespace and inspect its labels to determine whether or not a namespace shoul [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] run citadel with configuration flag explicit opt in true and put a log statement in the failure case url l223 wher [REP],Citadel requires k8s namespace read permissions but does not have them
[DES] i set up a virtual service and destination rule like below i expect the first httproute will be triggered only whe [DES] [EXP] . [EXP] [OTH] x configuration infrastructure x docs installation x networking performance and scalability policies and telemetry [OTH] [REP] deploy demo nginx servers apiversion v1 kind service metadata name nginx namespace demo labels app nginx spec port [REP],Virtual service HTTPMatchRequest with queryParams or headers doesn't work.
[DES] this is found when i am modifying the perf test helm file in a extra helm values yaml i set global sds enabled to  [DES] [EXP] ideally pilot needs to check global sds udspath before generating sds config or clear sdsudspath in meshconfig so  [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] . [REP],Pilot does not check global.sds.enabled when creating SDS config.
[DES] enabling galley and mcp results in mixer components crash looping until galley is fully available and able to hand [DES] [EXP] mixer shouldn t crash on initial start up failing to get to galley it should just perhaps be unready until it s ma [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability x policies and telemetry s [OTH] [REP] scale galley to 0 restart mixer [REP],Mixer crash loops until Galley is available
[DES] istio version and version ip based whitelists or blacklists cleanup mixer rule deny ip yaml takes 4 minutes to see [DES] [EXP] user should be able to access the bookinfo productpage again after the deletion of ip based whitelists or blacklis [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] 1 installation istio system 2 deploy bookinfo sample application with gateway and destinationrules 1 3 apply virtu [REP],IP-based whitelists or blacklists deletion takes 4+ minutes to see the cleanup effect
[DES] whilst upgrading a larger 508 services 566 pods cluster the istio installation failed the tiller logs showed that  [DES] [EXP] installations to work [EXP] [OTH] configuration infrastructure docs x installation networking x performance and scalability policies and telemetry s [OTH] [REP] you d need to do an istio upgrade from version version on a pretty big cluster [REP],Timeout during istio upgrade due to galley validation
[DES] i m seeing connections being closed in galley due to too many pings from the client 2019 06 24t10 51 version z tin [DES] [EXP] i don t know how much of an issue this is but i am guessing it probably shouldn t be disconnecting [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] this isn t a particularly large cluster nor does it have particularly high churn 158 services with 197 pods [REP],"Too many pings to galley, connection closed"
[DES] i was following the doc about perform tls origination with an egress gateway url perform tls origination with an e [DES] [EXP] it should return http version 200 ok instead of http version 502 bad gateway [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] follow instructions on url perform tls origination with an egress gateway up to step 5 everything before that step [REP],"""Perform TLS origination with an egress gateway"" not working"
[DES] i have an istio installed version and i m evaluating upgrading it to version i m using fabrikate flux to configure [DES] [EXP] bookinfo exposed through ingress gateway works [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] install istio version with cni enabled install bookinfo expose bookinfo [REP],Enabling CNI breaks ingress connection to bookinfo sample
[DES] we re seeing a version of 12985 specifically the istio sidecar injector is invalid metadata resourceversion invali [DES] [EXP] kubectl apply applies the configuration delta leaving the configured istio sidecar injector webhook as is [EXP] [OTH] x configuration infrastructure docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] kubectl apply on a cluster with a pre installed version of istio version with a sidecar injector pre configured [REP],Upgrade failing with Invalid value
[DES] external https traffic always fill telemetry for a existing serviceentry even if it doesn t match for example if i [DES] [EXP] i would expect not to see any data for istio tcp sent bytes total destination service name www apple com perhaps d [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] 1 add serviceentry www apple com yaml apiversion networking istio io v1alpha3 kind serviceentry metadata name exte [REP],External HTTPS traffic always fill telemetry for a existing ServiceEntry
[DES] when a meshconfig file is not found or could not be loaded pilot resorts to reading from the istio configmap direc [DES] [EXP] pilot never polls the kubernetes api to load the configmap but only reads the meshconfig from a file [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] reading code see pilot pkg bootstrap server go 408 url l408 [REP],Pilot loads initial mesh config directly from K8s ConfigMap
[DES] after upgrading to version using helm template installation i ve got tls error secret is not supplied by sds messa [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs x installation x networking performance and scalability policies and telemetry x [OTH] [REP] upgrade to version from version using helm template with sds set up in your gateway [REP],Upgrade from 1.1.8 to 1.2.0 breaks SDS
[DES] in our virtualservices we have a cors policy that specifies alloworigin if a request comes in with an origin heade [DES] [EXP] when is included in alloworigin send a vary header with a value that includes origin [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 create a virtualservice with a cors policy allowing any origin and a maxage of 24h 2 send requests to that virtu [REP],Origin when CORS policy allows origin *
[DES] both the circleci tests and the build make test fail for the installer for quite some time error during test frame [DES] [EXP] a working ci and at least some basic validation like make test should work [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] call make test in the installer repo [REP],circleci test AND `make test` fail for installer because of `presubmit` label
[DES] the source code assets and the os specific assets of the same release contains different helm charts [DES] [EXP] all assets of the same release should contain identical helm charts [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],Source-code and os-specific assets of the same release contains different helm charts
[DES] . [DES] [EXP] data is expected in istio requests total when using a serviceentry with protocol https instead i only see data in  [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] 1 create a serviceentry using a protocol https yaml apiversion networking istio io v1alpha3 kind serviceentry meta [REP],External ServiceEntry with HTTPS protocol appears as TCP
[DES] pilot resource limit in version is less than the request namespace name cpu requests cpu limits memory requests me [DES] [EXP] limits should be less than requests [EXP] [OTH] y configuration infrastructure docs y installation networking performance and scalability policies and telemetry s [OTH] [REP] install using helm [REP],Pilot resource limit in 1.1.8 is less than the request
[DES] . [DES] [EXP] we would like to stop the retry we will configure retry if we need it right now from documentation it is not clear [EXP] [OTH] y configuration infrastructure docs installation y networking performance and scalability y policies and telemetry [OTH] [REP] configure a http service and make it run for more than 1 min the istio will timeout and retry will get triggered w [REP],Istio retrying even though i havent configured retry
[DES] cirlceci seems to think that a create followed by an apply is a problem this is not desireable in kubernetes what  [DES] [EXP] test cases pass [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] run the gate a bunch of times [REP],circleci racing between ns create via cli and via aply
[DES] when installing istio version rc1 via helm mixer policy enabled false is not honored the property is still documen [DES] [EXP] if mixer policy enabled false the resulting helm charts should not contain policy service deployments etc [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability x policies and telemetry s [OTH] [REP] download istio version rc1 run opt istio version rc 1 helm template install kubernetes helm istio set mixer policy [REP],mixer.policy.enabled not honored by helm in 1.2
[DES] we use a bash command to determine the latest istio version before executing the command from the documentation to [DES] [EXP] istio version is consistently marked as a version higher than previously released [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] try to follow current documentation to install istio version marked as latest [REP],Latest version went from 1.1.8 down to 1.0.8
[DES] wildcard destination rules defined in a namespace for services in a different namespace with exportto are not glob [DES] [EXP] globally exported destination rules that match a host based on wildcards would have their configuration propagated [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability x policies and telemetry s [OTH] [REP] 1 install bookinfo in the default namespace 2 create a new namespace foo 3 apply the following destination rule ya [REP],Wildcard destination rules are silently ignored when Spec.Host specifies a different namespace from its definition
[DES] proxy status and authn tls check commands fails with the following error istioctl proxy status error error execing [DES] [EXP] proxy status and authn tls check should function for istioctl [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] run the following command istioctl proxy status or istioctl authn tls check httpbin default svc cluster local [REP],Istioctl proxy-status and authn tls-check commands when global.monitoringPort != 15014
[DES] destinationrule doesn t accept subset labels with slashes [DES] [EXP] using labels with slashes for subsets should be allowed [EXP] [OTH] x configuration infrastructure docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] create a destination rule with a subset label that contains a slash in the key name admission webhook pilot valida [REP],DestinationRule subsets don't allow slashes in label selectors
[DES] in gateway connectivity url doc the following command generates a conflict in the yaml file cat install kubernetes [DES] [EXP] yaml file having no conflict [EXP] [OTH] configuration infrastructure x docs installation networking performance and scalability policies and telemetry sec [OTH] [REP] run cat install kubernetes helm istio init files crd home istio yaml [REP],CRD YAML conflict when when going through Gateway Connectivity doc
[DES] from the mixer adapter stackdriver operatorconfig stackdriver yaml the trace spans always report zero bytes screen [DES] [EXP] useful data in the spans it appears it s using the attributes request size and response size which extract their d [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] run in mixer adapter stackdriver operatorconfig stackdriver yaml and observe traces [REP],Stackdriver Traces Always Report Request/Response size '0'
[DES] we installed istio via helm default config prod and try to simulate a high load environment according to our produ [DES] [EXP] istio pods should be functional [EXP] [OTH] configuration infrastructure docs x installation x networking x performance and scalability policies and telemetry [OTH] [REP] . [REP],Istio-pilot crash due to high memory leak
[DES] the documentation for istio cni was reviewed and a problem was found wrt the lack of released helm charts see url [DES] [EXP] an artifact exists to install cni [EXP] [OTH] configuration infrastructure docs x installation x networking performance and scalability policies and telemetry s [OTH] [REP] follow installation cni guide here url installation there is no artifact available for step 3 [REP],Istio CNI tarball is not built nor released
[DES] in data panel the final socket address of inbound xds is version generated by pilot it works if user process listen to version but some case user process listen to the specific pod ip the traffic route will not work [DES] [EXP] server which listen to pod ip should get traffic from istio proxy pellucidly see discuss url [EXP] [OTH] . [OTH] [REP] . [REP],User process listen to pod ip result to traffic failure
[DES] i totally follow the url guide and then start bookinfo but the pilot reports proxystatus pilot conflict outbound l [DES] [EXP] bookinfos can be ran under consul [EXP] [OTH] configuration infrastructure docs x installation x networking performance and scalability policies and telemetry s [OTH] [REP] follow the guide url to start consul follow the guide url to start bookinfo example visit productpage you will see [REP],when start bookinfo example in Consul
[DES] this is a bug related to the productpage microservice of the istio bookinfo example when run as a non root userid  [DES] [EXP] . [EXP] [OTH] bookinfo examples [OTH] [REP] docker run user 1001 istio examples bookinfo productpage v1 version touch cannot touch opt microservices microserv [REP],Bookinfo productpage microservice crashes when run as non-root userid
[DES] kubectl apply f istio demo yaml when upgrading isito kubernetes has restart of isito proxy pod business interrupti [DES] [EXP] the service can be accessed normally during the upgrade [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] kubectl apply f istio demo yaml [REP],"When istio is upgraded, the pod restarts and cannot be accessed"
[DES] the dnsconfig field of certmanager s deployment in helm is not indented correctly btw the reason i discovered this [DES] [EXP] when configuring the poddnsconfig for certmanager the resulting dnsconfig field should be indented properly [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] add the following to values yml certmanager enabled true poddnspolicy none poddnsconfig nameservers version now ru [REP],dnsConfig is not correctly indented in certmanager helm deployment
[DES] istioctl verify install incorrectly determines that k8s version v version gke 10 as lower than version cd istio ve [DES] [EXP] istioctl verify install should accept version v version gke 10 as higher than version [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] run istioctl verify install against a version gke cluster [REP],istioctl verify-install fails to compare K8s versions with minor version as xx+(12+)
[DES] the err label of the metric pilot xds cds reject sets a value with an arbitrarily large error message one particul [DES] [EXP] ideally error messages in prometheus metrics would be an enum or a short bounded string we can get the full error  [EXP] [OTH] configuration infrastructure docs installation networking x performance and scalability x policies and telemetry s [OTH] [REP] look at the metrics when pilot rejects csd configs [REP],Pilot metrics should not use unbounded strings as label values
[DES] original user report hey guys we were testing the jwt auth and noticed that jwt tokens are required to have the ex [DES] [EXP] it looks like we can align with the envoy jwt filter allow jwt token without exp claim and this could be a quick c [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] . [REP],JWT tokens without exp claim are rejected by Istio
[DES] if you download releases from url bug version in the chart yaml are not bumped so istio version chart yaml apivers [DES] [EXP] chart versions are bumped for at least the chart app version should probably be used properly or removed as well [EXP] [OTH] x configuration infrastructure x docs x installation networking performance and scalability policies and telemetry [OTH] [REP] download the release and explode look at url l3 l4 or just look at url l3 l4 easy to see version is version [REP],Chart's bug version should be bumped for Releases
[DES] . [DES] [EXP] file should be gzipped [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] sdake beast 01 pil tar xzvf pilot tar gz gzip stdin not in gzip format tar child returned status 1 tar error is no [REP],tar.gz file is not actually gzipped
[DES] running make e2e simple e2e args skip cleanup auth enable installer helm using images built using golang version c [DES] [EXP] tests should pass for all golang version builds [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry x sec [OTH] [REP] 1 create a set of istio images using golang version in my case i could this with goos linux make clean init test b [REP],"Citadel fails readyness check for citadel images built using Golang 1.12, causing e2e-simple to fail"
[DES] ingress gateway does not works well when the service has multiple ports [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 add a port 9081 for the productpage service in bookinfo apiversion v1 kind service metadata name productpage lab [REP],ingress-gateway does not work when the service has multiple ports
[DES] getting pilot total xds internal errors pilot rds expired nonce metric errors in prometheus but cannot find any er [DES] [EXP] if there are pilot total xds internal errors pilot rds expired nonce then we should see some error or warning logs [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] installed istio with following values yaml global tag version logging level default warn proxy resources requests  [REP],Cannot see any error logs in pilot but getting errors in prometheus metrics
[DES] define a service with following definition ports name http port 443 protocol tcp targetport 80 this definition wil [DES] [EXP] one misconfiguration should not impact existing networking behavior [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] 1 deploy one service with sidecar injected 2 deploy another service with above service configuration the service d [REP],A service configuration can make all the egress HTTPs service inaccessible
[DES] the certificate in the of the sidecar injector cabundle expired and did not auto renew internal error occurred fai [DES] [EXP] i expect the sidecar injector to manage it s cabundle appropriately [EXP] [OTH] configuration infrastructure x docs x installation x networking performance and scalability policies and telemetry [OTH] [REP] set cabundle in the of the sidecar injector to be out of date [REP],Istio sidecar-injector certifcate does not auto-renew
[DES] as of istio version serviceentry locality feature for adding additional external endpoints for a service only supp [DES] [EXP] the locality based routing feature of serviceentry needs to support dns resolution so that a service can specify i [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] follow the same steps as in issue 14495 [REP],External endpoints setup for failover using ServiceEntry locality feature must support DNS resolution
[DES] when enabling sds with a gateway content of secrets will be printed at debug level on stdout and there is no way t [DES] [EXP] no secret content should be logged ever log level should be configurable through the helm chart default level shou [EXP] [OTH] istio version ingressgateway version version buildinfo version release 09 15 gitrevision user root host 664a4ed7 7 [OTH] [REP] install chart version activate sds gateways istio ingressgateway sds enabled true set a service to use sds url [REP],prevent secret content to be sent to stdout
[DES] i compiled the envoy binary from the source code and then built the proxyv2 image with this envoy binary but the pods with this sidecar were all get 503 in istio proxy logs i can find this grpc config for type googleapis com envoy api v2 listener rejected error adding updating listener s version 9080 didn t find a registered implementation for name mixer [DES] [EXP] the sidecar is running [EXP] [OTH] the istio version the envoy version [OTH] [REP] . [REP],the sidecar with my own envoy get 503
[DES] i m trying to make https calls to an external resource using urllib2 in python version and they fail with connecti [DES] [EXP] calls with urllib2 work as expected it would be nice to at least find the reason for this [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry x s [OTH] [REP] . [REP],External HTTPS requests with Python urllib2 not working
[DES] ingressgateway component is failing with following error bash kubectl log istio ingressgateway 868fc8d7fd 9n4cv n  [DES] [EXP] istio ingressgateway pods to get to ready state upon installation [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] simply try docker run it istio proxyv2 version proxy router proxycomponentloglevel misc error or follow installati [REP],IngressGateway fails to start with unknown proxyComponentLogLevel flag
[DES] istio tracing and side car injector pods are not starting details i installed istio on kubernetes cluster using th [DES] [EXP] pods should be started automatically [EXP] [OTH] . [OTH] [REP] . [REP],istio tracing and sidecar pods are not starting
[DES] when a serviceentry object like above is applied there are no errors but pilot begins to choke and is unable to di [DES] [EXP] the validating admission controller should prevent this manifest from being applied [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability x policies and telemetry [OTH] [REP] apply the manifest above and then apply literally any other change nothing will happen [REP],"ServiceEntry objects allow `localhost` as a hostname, but shouldn't"
[DES] following this document url we would like to force all egress through the gateway the istio egressgateway service  [DES] [EXP] . [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] apiversion networking istio io v1alpha3 kind virtualservice metadata name infra sl namespace opsdemo spec hosts my [REP],multiple filter chains with the same matching rules are defined
[DES] when restarting a cluster istio cni doesnt setup correct routing depending on pod start time traffic is not proxie [DES] [EXP] traffic should be routed through sidecars after cluster restart even without restarting the pods [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] cluster with calico version setup istio with istio cni add some pod with sidecar injection restart all cluster hos [REP],Istio CNI race condition on cluster restart
[DES] when attempting to install istio version using the helm chart index it fails as the version doesn t exist installi [DES] [EXP] using the version chart index i expect to be able to install the version version of the chart [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] add istio io repo with the chart index from the version release and install istio as version version [REP],Istio 1.1.7 chart index only lists 1.1.0
[DES] i have installed istio and download latest istio using curl l url sh script and move that latest istio to istio la [DES] [EXP] it should be inject and create sidecar to deployment istio istioctl kube inject f samples sleep sleep yaml kubectl [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] 1 install istio using helm 2 download latest istio and move it to istio latest 3 after that execute command istioc [REP],Can not create sidecar using istioctl
[DES] root mastermint go src istio io kb exec nistio system istio pilot 6dd595fdd5 4v499 c discovery lsof i grep ipv4 pi [DES] [EXP] all ports should be listening on ipv6 in pure ipv6 k8s cluster [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] install k8s install istio [REP],pilot is listening on ipv4 for istioctl in ipv6 k8s cluster
[DES] after upgrading istio from version to version mixer is crashing in both istio policy and istio telemetry pods pani [DES] [EXP] mixer was able to start up [EXP] [OTH] istio is version version inside the cluster but as mixer is not running remote will not report it istioctl version [OTH] [REP] currently unclear [REP],Mixer container crashes with 'invalid memory address or nil pointer dereference' after upgrading to 1.1.6
[DES] by not explicitly defining runasuser all istio components are set to run as uid 0 root by default with the excepti [DES] [EXP] nothing should be running as root the default deployments should specifically define a non 0 uid runasuser in secu [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry x s [OTH] [REP] . [REP],All containers run as root by default
[DES] when global outboundtrafficpolicy mode is set to registry only there are no logs showing up in istio proxy that a  [DES] [EXP] i would expect the proxy to log that it rejected an external request [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] 1 enable outboundtrafficpolicy 2 enable accesslogs 3 exec into a running pod that is sending traffic through the p [REP],No Access Log when Istio Blocks External Request
[DES] this issue starts to occur frequently right after upgrading istio from version to version external service databas [DES] [EXP] external service should be accessible whenever the app container starts running [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] . [REP],"External service not accessible shortly, most of time when a pod is just created."
[DES] installing istio with cni isn t possible in the way described in documentation here is source url because istio cn [DES] [EXP] after downloading realese archive i can install istio with cni plugin following official documentation [EXP] [OTH] configuration infrastructure x docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] just download any release newer than version unpack and check for any istio cni chart available [REP],CNI plugin chart in releases newer than 1.1.2
[DES] i m trying to add additional http headers to understand the backend that is being load balanced the follow rule se [DES] [EXP] i expected to see x backend something header [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] . [REP],Rule not matching with match: true; no actions
[DES] i m using mysql chart along with a php app that has a pod and connect to mysql if i disable to istio proxy sidecar [DES] [EXP] i d expect to be able to have queries with more than 90 rows return without an issue not just cause the connection [EXP] [OTH] configuration infrastructure docs installation x networking x performance and scalability policies and telemetry s [OTH] [REP] deploy mysql chart i disabled istio proxy sidecar here deploy mysql client enable istio proxy sidecar kubectl exec [REP],Istio is breaking mysql client for queries returning more than 100 rows
[DES] error failed to download istio io istio init hint running helm repo update may help url does not exist but is refe [DES] [EXP] google cloud storage uri should not 404 the istio io istio init chart should be available for download [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] 1 helm repo add istio io url 2 helm repo update 3 helm upgrade install istio init istio io istio init force [REP],1.1.6 helm repository missing istio-init chart
[DES] when setting the following traffic policy on a grpc destination requests are still round robin and evenly weighted [DES] [EXP] the requests are routed to a single backend consistently based on the hashed source ip see istioctl proxy config e [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability x policies and telemetry s [OTH] [REP] create a virtual service with a grpc port and destination with the above traffic policy [REP],ConsistentHash loadbalancing not working for gRPC
[DES] using the x or i option in istio iptables sh with a valid ipv6 address range e g 1111 a2a2 b3b3 c4c4 d5d5 e5e5 f6f [DES] [EXP] script works correctly [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry x s [OTH] [REP] . [REP],istio-iptables.sh doesn't handle IPv6 address ranges correctly
[DES] if using the option i or x in istio iptables sh with a comma separated list of ip ranges the script doesn t use th [DES] [EXP] script works correctly [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry x s [OTH] [REP] . [REP],istio-iptables.sh doesn't handle multiple excludes and include correctly
[DES] kubectl get pod n istio monitor02 name ready status restarts age test default qjgrr 2 2 running 0 2d kubectl top pod n istio monitor02 name cpu cores memory bytes test default qjgrr 12m 788mi but hpa can t get mem cpu info kubectl get hpa n istio mointor02 name reference targets minpods maxpods replicas age test default deployment test default unknown 90 unknown 80 1 3 1 1h [DES] [EXP] when enable istio hpa could work correctly [EXP] [OTH] k8s v version istio v version [OTH] [REP] . [REP],HPA will not work because istio-proxy missing request for memory?
[DES] i have pulled latest master branch which include fix for 13117 and 13027 but still inbound cluster for bookinfo pr [DES] [EXP] it should use ipv6 localhost instead i think we can reuse fuction in cluster go [EXP] [OTH] configuration infrastructure docs installation x networking performance and scalability policies and telemetry sec [OTH] [REP] 1 install istio 2 enable isito inject 3 install bookinfo 4 get istio proxy config from productpage [REP],inbound cluster is not listening on IPv6 localhost
[DES] image url image url inadvertently posted the wrong configuration causing two domain names inside the route curl an [DES] [EXP] return allow any registry only 200 502 [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] publish double gateway virtualservice [REP],When Duplicate entry of domain curl any domain return 404
[DES] prometheus metrics via http api query don t report the citadel galley and pilot components via prometheus queries  [DES] [EXP] all istio labeled components should show up with their status and metrics [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] 1 port forward to the bundled p8s k port forward n istio system prometheus 5fffdf8848 482pz 59090 9090 2 fetch the [REP],"P8s metrics don't report the citadel, galley and pilot components as detailed as other components."
[DES] i am unable to add per filter config to virtual service so that i can manage kind envoyfilter i want to use this f [DES] [EXP] i created a kind envoyfilter and able to route the traffic to external auth service however my kubernetes readines [EXP] [OTH] x configuration infrastructure x docs installation networking performance and scalability policies and telemetry s [OTH] [REP] create a sample app in kubernetes create a envoyfilter create a virtualservice to route traffic to that service tr [REP],How to implement perFilterConfig on Istio VirtualService?
[DES] the network of container cant connect when spring clound start with istio sidecar [DES] [EXP] the spring cloud service can connect to config server and get config to start up [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability policies and telemetry secur [OTH] [REP] i have one project with a config server and more than 10 spring clouod service when enable auto inject sidecar i d [REP],the network of container cant connect when spring clound start with istio sidecar
[DES] when disablepolicychecks is set to false inbound tcp connections do not generate check requests to istio policy an [DES] [EXP] check requests should be sent to istio policy and be handled according to mixer s config [EXP] [OTH] configuration infrastructure docs installation networking performance and scalability x policies and telemetry sec [OTH] [REP] set disablepolicychecks to fasle create a tcp service setup a denier handler in mixer with a rule that covers the  [REP],Precondition check requests are not sent to Mixer by TCP services
[DES] rolling upgrade of the worker nodes results in brief outage of application pods there is no documentation which sp [DES] [EXP] rolling upgrade of the worker nodes should not affect the application pods [EXP] [OTH] x configuration infrastructure docs installation networking x performance and scalability policies and telemetry s [OTH] [REP] ingress gateway egress gateway and side car have replica set of 2 rest all istio pods have 1 minimum replica sets [REP],Rolling upgrade breaks sidecar-injector webhook on EKS (failed calling admission webhook context deadline exceeded)
[DES] galley push crds to pilot when there is no change which causes pilot push config to sidecars [DES] [EXP] push only when crd change happens [EXP] [OTH] dev env latest master branch pilot was built by addding below logs to apply func url l120 func c controller apply  [OTH] [REP] 1 kubectl apply f install kubernetes istio yaml 2 create sample apps kubectl apply f go out linux amd64 release is [REP],Galley push CRDs(to pilot) when no change happens
[DES] according to url the telemetry pod for version should only require version vcpu this is less than pilot which requ [DES] [EXP] . [EXP] [OTH] x configuration infrastructure x docs x installation networking x performance and scalability policies and telemet [OTH] [REP] create cluster gcloud container clusters create cluster name enable autoupgrade enable autoscaling enable network  [REP],v1.1.4 Telemetry pod will not schedule on GKE n1-standard-1 (1 vCPU) nodes
[DES] loadbalancer stays in pending [DES] [EXP] loadbalancer is provisioned [EXP] [OTH] x configuration infrastructure docs x installation x networking performance and scalability policies and telemetry security test and release user experience aws coreos [OTH] [REP] install istio [REP],Load balancer does not come up on AWS
[DES] in version istio init with helm template doesn t create all the necessary crds helm template install kubernetes he [DES] [EXP] more crds created 53 for cert manager not enabled [EXP] [OTH] configuration infrastructure docs x installation networking performance and scalability policies and telemetry sec [OTH] [REP] helm template install kubernetes helm istio init name istio init namespace istio system kubectl apply f [REP],istio-init - helm template does create all the necessary CRDs 1.1.4
[DES] helm release name istio is used while installing istio command helm install install kubernetes helm istio name ist [DES] [EXP] same helm releasename should be used [EXP] [OTH] configuration infrastructure x docs x installation networking performance and scalability policies and telemetry s [OTH] [REP] install istio and do mesh expansion using doc urls with helm tiller options [REP],wrong helm release in istio docs while enabling mesh expansion
[DES] i have the following yaml that defines a retry policy the retry policy is not being applied when a service returns [DES] [EXP] when calling the end point via gateway or from another service within a mesh i would expect istio to apply a retry [EXP] [OTH] x configuration infrastructure docs installation x networking performance and scalability policies and telemetry s [OTH] [REP] hit the end point that returns a 503 and expect istio to apply a retry policy [REP],Retry policies not being triggered as expected
[DES] given this outlier detection config spec host customer rating service trafficpolicy outlierdetection baseejectiont [DES] [EXP] all two replicas of the application should be evicted from the pool and the 503 response should be returned [EXP] [OTH] istio version client version version info major 1 minor 11 gitversion v version d4cacc0 gitcommit d4cacc0 gittrees [OTH] [REP] setup a destinationrule as shown above and configure it service to have two replicas that always answer with a 502 [REP],Outlier detection with maxEjectionPercent 100 minHealthPercent 0 not allowing to evict all replicas
[DES] when calling apps neworfail during native tests i m only and to get the latter half of that promise fail version s prioritized test go 106 apps neworfail timeout while waiting last error invalid character e looking for beginning of value fail [DES] [EXP] app is created [EXP] [OTH] . [OTH] [REP] comment out this line url l90 and run the tests in native mode go test v istio test env native istio test hub gcr io istio release istio test tag master latest daily [REP],Test framework needs support for Mac Envoy builds
[DES] tests under security pkg nodeagent caclient providers vault tests integration security sds vault flow fail because [DES] [EXP] these tests pass before the cluster hosting the test vault server was deleted [EXP] [OTH] . [OTH] [REP] run the above tests [REP],Fix test failures caused by the deleted Vault server
[DES] the helm chart for galley fails to deploy the object when galley is deployed to a namespace other than istio syste [DES] [EXP] the helm chart should configure galley with arg deployment namespace release namespace [EXP] [OTH] istio version kubectl version via helm using canonical values yaml file amazon eks with kubernetes version local k [OTH] [REP] 1 deploy istio to a namespace other than istio system 2 use kubectl get and see that the istio galley object does  [REP],galley validatingwebhook not deployed when namespace isn't istio-system
[DES] the full description is on this stackoverflow question url summing up given this configuration [DES] [EXP] the circuit breaker should be open [EXP] [OTH] istio version kubernetes version okd version following the official documentation openshift setup normal installation aws ec2 instances [OTH] [REP] configure a circuit breaker as shown above [REP],Istio circuit breaker not opening the circuit when downstream service throws 500 error
[DES] application which is created on gke can t connect to gce s redis with istio sidecar by creating serviceentry but w [DES] [EXP] connect to redis successfully by using serviceentry [EXP] [OTH] istio version client version v version dispatcher server version v gke 10 without auth google kubernetes engine an [OTH] [REP] after pod created by statefulset error eadiness probe failed read connection reset by peer [REP],can't connect to GCE's redis with istio sidecar by creating serviceentry
[DES] with global sds enabled false and a sdsudspath set as non empty such as global sds sdsudspath some path causes gat [DES] [EXP] when global sds enabled false it should not matter what the values of the following values are yaml sds sds enable [EXP] [OTH] istio version helm template docker for mac gke [OTH] [REP] set the following yaml sds sds enabled if set to true mtls certificates for the sidecars will be distributed throu [REP],setting sdsUdsPath when sds is disabled breaks functionality of gateways when deployed
[DES] specifying address version in a gateway section works for us that endpoint shows up appropriately when going cross [DES] [EXP] the address would resolve to the ip address we ve verified that from the pilot discovery container host can resolv [EXP] [OTH] client version version buildinfo version version gitrevision user root host fbd493e1 5d72 11e9 b00d golangversion  [OTH] [REP] try using a hostname for the gateway address [REP],Using FQDNs for meshNetworks gateways silently fails
[DES] currently policies with jwt scopes only support an array that is actually not how the scope claim is to be implemented by spec url page 23 the official way is via a single string that is space delimited this causing issues with token issuers that only support generating tokens via space delimited such as auth0 [DES] [EXP] scope claims with space delimited scopes work same as array [EXP] [OTH] . [OTH] [REP] . [REP],JWT scope support does not support space delimted format
[DES] while setting up a kind e2e tests from a macos machine if i set goos linux and run goos linux make docker hub kind [DES] [EXP] build should not break [EXP] [OTH] n a n a macos version istio master branch [OTH] [REP] cd istio istio goos linux make docker hub kind tag e2e [REP],Cannot build linux binaries (GOOS=linux) on a MacOS
[DES] mesh expansion does not work due to 13291 1 iptable starts sh stops on a mesh expansion vm instance 1 cluster env  [DES] [EXP] istio sidecar deb package after installed on a vm we are able to start envoy side car [EXP] [OTH] . [OTH] [REP] 1 build sidecar debian package install it on a vm 1 iptable start sh will fail at isvalidip function bash function [REP],Fix the breakage of mesh expansion due to IsValidIP in iptables-start.sh
[DES] i thought building a new envoy binary from istio proxy branch release version and putting it into a new image woul [DES] [EXP] expected the proxyv2 image built from istio proxy release version would give the same result as the official versi [EXP] [OTH] root haih istio1 kubectl version client version version info major 1 minor 13 gitversion v version gitcommit gittr [OTH] [REP] build envoy binary from istio proxy run make docker proxyv2 in istio istio to make a new proxyv2 image modify glob [REP],Significant performance degradation with custom build of istio-proxy
[DES] adding a slash after the hub url when defining image values breaks compatibility with certain docker registries ex [DES] [EXP] the user defined hub url should work when pulling images [EXP] [OTH] version helm additionally please consider attaching a cluster state archive url generating a cluster state archive [OTH] [REP] define a hub url use satellite as a docker repository the images url will have a value [REP],Do not include slash after hub URL
[DES] . [DES] [EXP] i m expecting namespace to be set to unknown as well [EXP] [OTH] istioctl version version version gitrevision user root hub docker io istio golangversion go version buildstatus cl [OTH] [REP] repro in default istio quickstart deployment [REP],"Attributes source.namespace and destination.namespace are ""default"" instead of ""unknown"" when and are ""unknown""."
[DES] i updated to version by the istio demo yaml but when i applied this yaml to k8s the pilot the ingressgateway and t [DES] [EXP] the pilot the ingressgateway and the egressgateway are running normally [EXP] [OTH] version buildinfo version version gitrevision user root host fbd493e1 5d72 11e9 b00d golangversion go version dock [OTH] [REP] install the version with istio demo yaml [REP],The istio-demo.yaml in 1.1.3 will cause OOMKilled
[DES] i am trying to use my own set of certificates for mtls citadel does not push my external certificates to the envoy [DES] [EXP] i would expect my external certificates to be synced into envoy proxies [EXP] [OTH] can be found here link url also i notice the istioctl proxy status is at 50 url installed using link url on gke gk [OTH] [REP] 1 install istio as described in the documentation using helm templates this installs istio version 2 enable mesh w [REP],Istio citadel does not push external certs to envoy proxies
[DES] presence of a destinationrule with mutual mode breaks routing for external clients when sni passthrough for ingres [DES] [EXP] destinationrule should only be applied to in mesh clients and exclude istio ingressgateway when sni passthrough is [EXP] [OTH] kubectl version istio version using helm templates with kubectl on prem [OTH] [REP] configure an sni passthrough mtls enabled application gateway apiversion networking istio io v1alpha3 kind gateway [REP],DestinationRule getting used for an external client for SNI and MTLS enabled application
[DES] the documentation in multiple places says there is a 15s timeout with requests by default i can confirm that this  [DES] [EXP] documented default timeout is actually what s used not sure if this is a documentation issue or an istio issue its [EXP] [OTH] istio version kubernetes version helm with basic settings aws kop [OTH] [REP] 1 make requests to a service with 20s response time with no request timeout overrides 2 observe that the request c [REP],Documented default request timeout of 15s is not applied
[DES] error shown in kiali when accessing a workload logs failed to fetch pod logs pods xxxxx is forbidden user system s [DES] [EXP] show the pod log [EXP] [OTH] istio version kubernetes v version kubectl client version version info major 1 minor 9 gitversion v gitcommit gitt [OTH] [REP] go to kiali and navigate to a workloads namespace workload workload info and click on logs [REP],Kiali fails to fetch pod logs
[DES] i am using aws elasticache with encryption in transit enabled mtls is enabled sidecar injection is enabled my serv [DES] [EXP] connection should not be reset if i disable encryption in transit in redis cluster then protocol tcp works fine [EXP] [OTH] bin istioctl version remote client version version buildinfo version gitrevision user root host 4c6c 11e9 813c gol [OTH] [REP] . [REP],ECONNRESET with external Redis with encryption in transit
[DES] we are in a process of adopting istio and have recently upgraded to istio version from version once we upgraded th [DES] [EXP] ingress and envoy logs appear for all the incoming requests that reach ingress and envoy proxies [EXP] [OTH] version buildinfo version version gitrevision user root host 4c6c 11e9 813c golangversion go version dockerhub doc [OTH] [REP] install isto version using default instructions setup ingress gateway and a restful service running in a pod route [REP],Logs missing after new ISTIO installation
[DES] i am trying to call the service running on default namespace which is istio tls enabled from another namespace tes [DES] [EXP] i can reach another namespace istio not enabled service through test but can t reach services running on default [EXP] [OTH] its istio version client version version info major 1 minor 11 gitversion v version gitcommit gittreestate clean b [OTH] [REP] call service from non istio enabled namespace to istio enabled service i am getting error curl user default svc cl [REP],Call istio enabled container service from another namespace without istio
[DES] i setup istio version version with default config outboundtrafficpolicy mode allow any i call wget url in a pod in [DES] [EXP] wget success get data from url [EXP] [OTH] client version version buildinfo version version gitrevision user root host fbd493e1 5d72 11e9 b00d golangversion  [OTH] [REP] i cleanup istio version and setup istio version version deploy a pod in injected sidecar namespace and using ssh t [REP],ALLOW_ANY but I can access to external url
[DES] . [DES] [EXP] expected to route to the database specified by the dns name and getting rejected from connecting to www google com [EXP] [OTH] . [OTH] [REP] have 2 external postgres dbs have some way to tell them apart such as table called db1 in first db and table calle [REP],1.1.1 Sidecars routing all 5432 traffic to single place regardless of hostname used.
[DES] . [DES] [EXP] what did you expect to happen return 200 status code [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior i turned on an 8888 port monitor via gin and the pod worked from alpine copy user client usr local bin user client expose 8888 cmd user client image url [REP],I created a simple demo.But get 404 Not Found.
[DES] . [DES] [EXP] every request to haproxy gets delayed by 10s and ends with timeout after 5s [EXP] [OTH] . [OTH] [REP] create similar configuration for istio and check example request [REP],Timeout defined for requests coming to external service does not work
[DES] . [DES] [EXP] grafana and prometheus ui should work on non root contextpath [EXP] [OTH] . [OTH] [REP] expose grafana and prometheus services to an external ip one way to do that would be to use nodeport kubectl expos [REP],Grafana and Prometheus UIs do not work with non-root contextpath
[DES] . [DES] [EXP] expected the ssl connection to complete successfully [EXP] [OTH] . [OTH] [REP] from a container in the cluster i used kubectl run it rm dummy image dockerqa curl ubuntu trusty bin bash run curl [REP],SSL Error 35 for kubernetes api server
[DES] . [DES] [EXP] explicitly define the resource so it can be tracked [EXP] [OTH] . [OTH] [REP] code on a fresh kubernetes cluster using steps from url helm tiller setup kubectl apply f install kubernetes helm helm service account yaml helm init service account tiller istio install via install install kubernetes istio init name istio init namespace istio system kubernetes name namespace system delete release delete purge attempt to again name namespace system [REP],Istio fails to install after a Helm delete
[DES] . [DES] [EXP] in the documentation you mention that the wildcard prefix is accepted but it throws this error hosts must be fqdn  [EXP] [OTH] . [OTH] [REP] 1 create new serviceentry apiversion networking istio io v1alpha3 kind serviceentry metadata name egress network s [REP],1.1.2 - Cannot use wildcard in prefix hosts in ServiceEntry
[DES] . [DES] [EXP] connection to work fine [EXP] [OTH] . [OTH] [REP] in our case istio was upgraded from version to version no config changes basically and it started to happen [REP],Pod with istio sidecard can't connect to external service with TCP + TLS
[DES] . [DES] [EXP] run following with many egress serviceentries and virtualservice entries and it should suceed kubectl apply f egress control yml [EXP] [OTH] . [OTH] [REP] this happens once we upgrade with helm and soon try re running the egress rules [REP],Timeout error when re running egress rules post upgrade of istio 1.0.6 to 1.0.7
[DES] . [DES] [EXP] docker kubectl is within the docker targets i should be able to have the container image built successfully [EXP] [OTH] . [OTH] [REP] 1 build docker images goos linux make docker hub kind tag e2e [REP],docker.kubectl target is broken on MacOS
[DES] . [DES] [EXP] it to work as designed begin switching traffic from one subset to another [EXP] [OTH] . [OTH] [REP] add the two manifests above and two separate deployments and use kubectl to change the subset of the virtualservice from blue to green or vice versa [REP],Virtual Service updates are not propagating via `kubectl`
[DES] . [DES] [EXP] i expect the authentication policy to take precedence over the mixer authorization check a 401 should be returned  [EXP] [OTH] . [OTH] [REP] 1 install bookinfo application 2 configure opa mixer adapter with a basic opa policy 3 configure an istio origin a [REP],Mixer Check Occurring Before Origin Authentication Security Policy
[DES] . [DES] [EXP] 503s with upstream connect error or disconnect reset before headers are retried by default [EXP] [OTH] . [OTH] [REP] not completely sure but some key information no virtual services or destination rules 560 pods in 200 services node services mostly which i understand have some keepalive related defaults in some istio issues [REP],"503 ""upstream connect error or disconnect/reset before headers"" in 1.1 with low traffic"
[DES] . [DES] [EXP] i can access the service with the url in other pods [EXP] [OTH] . [OTH] [REP] workload sidecar tar gz url 1 deploy a workload of nginx listening to unix tmp backend socket 1 create a sidecar o [REP],Sidecar object with `defaultEndpoint: unix:///..` doesn't work.
[DES] . [DES] [EXP] since k8s externalname service is a native k8s feature i expect istio side car should support it this affects knat [EXP] [OTH] . [OTH] [REP] 1 go to url branch istioexternalnameissue 2 ko apply f yaml url to reproduce the issue 3 ko apply f yaml url to se [REP],Call to K8s ExternalName service fails when using Istio sidecar
[DES] . [DES] [EXP] both original and mirrored requests should have landed on the same pod applying the consistent hash [EXP] [OTH] . [OTH] [REP] this issue was reproduced by slightly modifying the example giving in istio mirror url trafficpolicy loadbalancer  [REP],mirrored requests doesn't apply consistent hashing (destination rules not applied)
[DES] . [DES] [EXP] the ssl certificate gets dynamically created without reseting the connection so on the first connection to port 443 the cert is made available and ssl tls just work [EXP] [OTH] . [OTH] [REP] setup caddy running in a pod i m fairly new to caddy but can def share some configs if needed [REP],TLS Passthrough with Caddy autogenerating Certificate is broken
[DES] . [DES] [EXP] we expect spans to show as per the example [EXP] [OTH] . [OTH] [REP] we created a new kubernetes version cluster on gke with network policy enabled we install istio with the settings listed below using helm template we installed the bookinfo sample bookinfo ingress we curled the endpoint multiple times as per the sample curl request [REP],Tracing bookinfo sample doesn't work with fresh istio 1.1.1 install on GKE
[DES] . [DES] [EXP] gateways implementation should work [EXP] [OTH] . [OTH] [REP] deploy kubernetes via stackpoint io gcp leads to k8s version with screenshots in 2nd comment deploy kubernetes via stackpoint io gke leads to k8s version with screenshots in 3rd dcomment [REP],Gateways doesn't work with GCP + Kubernetes 1.13.2
[DES] . [DES] [EXP] running the latest istio examples bookinfo productpage v1 url docker image produces a site without broken glyphico [EXP] [OTH] . [OTH] [REP] docker run p 9080 9080 istio examples bookinfo productpage v1 version navigate to url check console for errors if  [REP],Sample bookinfo product page doesn't load Glyphicons fonts
[DES] . [DES] [EXP] the request should stop in about 1 second instead of 2 and the reviews should be unavailable [EXP] [OTH] . [OTH] [REP] follow the bookinfo tutorial and the task url [REP],VirtualService timeout parameter doesn't work in Istio 1.1.2
[DES] . [DES] [EXP] istio version should work [EXP] [OTH] . [OTH] [REP] 1 go to grafana 2 go to istio service dashboard 3 choose one service 4 click the title client request duration 5 choose share embedded and then copy the iframe source to a empty html file e g test html 6 open test html using chrome 7 the page reports invalid dimensions for plot width 422 height 0 please notice panels like client request volume don t have similar issues [REP],"istio grafana issue ""Invalid dimensions for plot, width = 422, height = 0"""
[DES] . [DES] [EXP] the end user authentication should have worked for istio enabled private gke cluster as well [EXP] [OTH] . [OTH] [REP] in gcp create a private gke private master and node with istio enabled as strict and deploy an application with gateway virtualservice and policy to validate the jwt token using okta [REP],EndUser Authentication failure in private GKE
[DES] . [DES] [EXP] what did you expect to happen 2019 04 08t05 56 version z terror tfailed to update lock operation cannot be fulfilled on configmaps istio ingress controller leader istio the object has been modified please apply your changes to the latest version and try again [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior kubectl scale deploy istio pilot replicas 2 n istio system [REP],Operation cannot be fulfilled on configmaps
[DES] . [DES] [EXP] i expected to get 200 response without providing the jwt token [EXP] [OTH] . [OTH] [REP] configure servicerole targeting a service and bind with servicerolebinding as above setting subject user to and add authentication policy with origin as above then try to access the service without a valid jwt token [REP],ServiceRoleBinding subject user: allUsers no longer working
[DES] . [DES] [EXP] i expect istio to accept connections [EXP] [OTH] . [OTH] [REP] helm template install kubernetes helm istio name istio namespace istio system set gateways istio ingressgateway type nodeport kubectl apply f have a gateway definition like apiversion networking io v1alpha3 kind gateway metadata name my gateway namespace blah spec selector ingressgateway servers port number 31380 name http2 protocol http hosts blah blah com then try to connect to port 31380 on the node [REP],1.1.1 Connection Refused - Fresh Install
[DES] . [DES] [EXP] the galley dashboard to be populated [EXP] [OTH] . [OTH] [REP] 1 install istio 2 setup grafana for my case i do not use local storage but remote storage 3 visit the galley dashboard [REP],Istio galley dashboard's data is not fully populated
[DES] . [DES] [EXP] successful integration test run [EXP] [OTH] . [OTH] [REP] create a new cluster bind account to cluster admin role cd test integration go test istio test env kube [REP],Unable to get successful integration test run on GKE
[DES] . [DES] [EXP] istio proxy pilot should intercept and route traffic for services [EXP] [OTH] . [OTH] [REP] install istio version on gke create a deployment with a service using a named port of grpc to route back to the pods configure sidecar injection such that the sidecar is only injected via pod annotation send grpc traffic from another pod in the same namespace to the service s address servicename svc cluster local [REP],istio-proxy not intercepting traffic in 1.1.1
[DES] . [DES] [EXP] the request should return http 200 with some json array of articles [EXP] [OTH] . [OTH] [REP] set up istio locally url set up https sample services and ingress url kubectl apply f url get a valid jwt token i  [REP],End User Authentication with JWT in Istio gives 'upstream connect error'
[DES] . [DES] [EXP] an ip address is allowed for a service entry our mesh is configured with registry only and our application needs t [EXP] [OTH] . [OTH] [REP] unable to create the following service entry which worked in istio version apiversion networking istio io v1alpha3 [REP],IP no longer allowed in ServiceEntry host field
[DES] . [DES] [EXP] missing the destination rule from documentation [EXP] [OTH] . [OTH] [REP] enable mtls using meshpolicy as requested in pre conditions and follow until this image url rating will be unavailable [REP],Documentation bug - Authorization for TCP services - missing DR for Mongo
[DES] . [DES] [EXP] if mtls is enabled the citadel is critical component who s failure can result in traffic disruption it would be appropriate to have citadel s metrics scraped by default at least with mtls on [EXP] [OTH] . [OTH] [REP] install istio with mtls enabled search prometheus for a any citadel metric e g citadel secret controller secret deleted cert count [REP],No citadel metrics available in prometheus
[DES] . [DES] [EXP] helm repo add works correctly [EXP] [OTH] . [OTH] [REP] sdake beast 01 istio version helm init service account tiller helm home has been configured at home sdake helm til [REP],Helm charts not following idiomatic versioning
[DES] . [DES] [EXP] as the tutorial says it should show the ratings [EXP] [OTH] . [OTH] [REP] just follow the tutorial while enabling the global mtls kubectl apply f eof apiversion authentication istio io v1alpha1 kind meshpolicy metadata name default spec peers mtls eof [REP],TCP authorization is not working to mongoDB
[DES] . [DES] [EXP] the envoyfilter workloadselector should select pods not services [EXP] [OTH] . [OTH] [REP] create a test application with this deployment yaml apiversion apps v1 kind deployment metadata name testcurl name [REP],EnvoyFilter with workloadSelector only matches Services
[DES] . [DES] [EXP] no looging messages with response code 400 [EXP] [OTH] . [OTH] [REP] edit rule in namespace istio system apiversion config istio io v1alpha2 kind rule metadata name stdio namespace istio system spec actions handler handler stdio instances accesslog logentry match response code 400 [REP],"Unable to compile match condition expression ""unknown function GEQ"""
[DES] . [DES] [EXP] wget success get data from url [EXP] [OTH] . [OTH] [REP] i cleanup istio version and setup istio version version deploy a pod in injected sidecar namespace and using ssh to this pod and call wget url [REP],ALLOW_ANY but I can access to external url
[DES] . [DES] [EXP] cluster aware gateway should have come up fine [EXP] [OTH] . [OTH] [REP] use kops to create k8s clusters with kubernetes version set as version kops version version git istioctl buildinfo gitrevision user root host 4c6c 11e9 813c golangversion go dockerhub docker io istio buildstatus clean gittag 17 [REP],istio-galley service calling failed in Istio 1.1.1
[DES] . [DES] [EXP] the ingress gateway in cluster 1 would forward requests to the remote service at endpoint outbound 4433 birdcage p [EXP] [OTH] . [OTH] [REP] assuming a standard installation according to the cluster aware guide url create a gateway definition with the fol [REP],Gateway definition created in control cluster causes failure in remotes for cluster-aware installation.
[DES] . [DES] [EXP] i was expecting that the sidecarinjector to still add the right annotations to the pods as described here url traffic redirection details [EXP] [OTH] . [OTH] [REP] install istio cni istio via helm charts enable istio cni try to set includeipranges from helm chart [REP],Switching from init-container to istio-cni
[DES] . [DES] [EXP] the istio policy pod starting to run successfully [EXP] [OTH] . [OTH] [REP] install istio using helm helm install istio init helm install istio with the following custom values istio prometheus enabled false kiali enabled true servicegraph enabled true [REP],Unknown flag used in istio-policy sidecar mixer
[DES] . [DES] [EXP] expected the crds deployment of istio init to be upgraded to version as the same process is successful in upgrading istio itself [EXP] [OTH] . [OTH] [REP] 1 download the package for version 1 install version via helm upgrade install istio init install kubernetes helm istio init namespace istio system 1 download the package for version 1 repeat the same command to try and upgrade helm upgrade install istio init kubernetes helm init namespace system error is returned [REP],helm upgrade --install istio-init fails for upgrade when going from 1.1.0 to 1.1.1.
[DES] . [DES] [EXP] envoy access logs [EXP] [OTH] . [OTH] [REP] new installation of istio version with the helm template method on gke version can we get a version compatibility table then do a kubectl logs n namespace pod name grep v deprecated the grep there is necessary because there is a lot of log spam 12642 [REP],Envoy access logs are not showing up
[DES] . [DES] [EXP] metric is accurately reported to the dashboard [EXP] [OTH] . [OTH] [REP] i m using the bookinfo example so i assume this is true for any situation everything else looks good on the board [REP],"""Incoming Success Rate (non-5xx responses)"" by Source percentages are wrong"
[DES] . [DES] [EXP] well i expected it to work [EXP] [OTH] . [OTH] [REP] 1 create fresh aws eks cluster v version 2 follow istio installation steps deploy default profile 3 follow booking application steps deploy it [REP],1.1.x isn't appears to work with AWS EKS 11.5
[DES] . [DES] [EXP] correct the typo to copy to clipboard [EXP] [OTH] . [OTH] [REP] navigate to any documentation web page in the istio io and hover over the copy to clipboard icon [REP],Spelling mistake in tool-tip(Copy to Clipoboard) in Docs pages
[DES] . [DES] [EXP] readiness probe should work per url mentions at least curl localhost 8080 ready shouldn t time out with this ipv4 cluster [EXP] [OTH] . [OTH] [REP] clean install istio 1 [REP],Pilot discovery readiness probe not working
[DES] . [DES] [EXP] all envoy proxies are stable and do not keep reloading [EXP] [OTH] . [OTH] [REP] documented in the gist url install istio version using exactly the commands in install istio md the workloads yaml file has the basic deployment service sidecar while tailing istio proxy container logs in one window execute create services sh command in another you will see container logs flaking out at some point after 600 services have been created [REP],envoy proxies keep dying when there are TCP services in a cluster
[DES] . [DES] [EXP] traffic should work just fine within the same namespace when no policies have been applied [EXP] [OTH] . [OTH] [REP] create gke cluster with network policy enabled apply istio init version and istio version with istio cni enabled true and istio cni cnibindir home kubernetes bin apply cni restart pods in namespace with automatic injection enabled default namespace in my case pod traffic now fails [REP],1.1.0 Traffic is weird on GKE when using CNI
[DES] . [DES] [EXP] installed istio and created 3 deployments using istioctl kube inject apiserver status keeps changing between error stopped and running state very frequently host running kubelet running apiserver error expectation is to ensure curl commands works for the service that was exposed always getting connection refused [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior [REP],Istio Curl commands connection refused error
[DES] . [DES] [EXP] grafana and kiali continue to show data [EXP] [OTH] . [OTH] [REP] run the following kubectl apply f samples bookinfo platform kube bookinfo yaml kubectl apply f samples bookinfo ne [REP],Grafana/Kiali don't show data with overlapping global DestinationRule enabling mTLS
[DES] . [DES] [EXP] i should be able to make both http and https requests to the elb for the httpbin example com host have them routed [EXP] [OTH] . [OTH] [REP] follow the steps on securing ingress gateway using sds task url in my case i completed up through configure a tls  [REP],Routing issues with Ingress + SDS
[DES] . [DES] [EXP] what did you expect to happen when port 80 is not opened the ingressgateway is mapped to node port such as 3xx80 i [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior [REP],Galley valid virtualservice(and other crds) error when the host contain port
[DES] . [DES] [EXP] the client should reconnect to the server when it restarts [EXP] [OTH] . [OTH] [REP] have a grpc client and server running in kubernetes restart the server and see if the client can still access the server [REP],Istio sidecar upstream pod reconnection issue
[DES] . [DES] [EXP] pods should be able to communicate with other pods in same mesh [EXP] [OTH] . [OTH] [REP] we have several developers in the team all of us apparently have the same environment however i m the only one who [REP],"TCP connections inside mesh - ""Connection closed by foreign host"""
[DES] . [DES] [EXP] liveness probe requests should not regularly get failures i definitely did not have this problem on an environment [EXP] [OTH] . [OTH] [REP] deploy the following modified productpage deployment just a simple well known starting point apiversion v1 kind se [REP],"Frequent ""Client.Timeout exceeded while awaiting headers"" in kubectl events (1.1.0-rc.6)"
[DES] . [DES] [EXP] i believe that setting proxyconfig interceptionmode to none should disable the init container and therefore iptables redirect configuration url l20 [EXP] [OTH] . [OTH] [REP] 1 configure interceptionmode none in url l177 1 observe that a sidecar injected pod has the istio init initcontainer injected [REP],of NONE does not disable iptables interception
[DES] . [DES] [EXP] i expected all of the containers to run i have another cluster where everything is working normally [EXP] [OTH] . [OTH] [REP] i am not sure of the exact steps to reproduce [REP],galley log says resource type not found
[DES] . [DES] [EXP] after defining and configuring an egressgateway to allow http traffic to hit the edition cnn com politics url as i [EXP] [OTH] . [OTH] [REP] when testing the serviceentry with endpoints scenario we ran through the egress gateway for http traffic url egres [REP],HTTP Routing through EgressGateway via the endpoint method doesn't work.
[DES] . [DES] [EXP] have a way to let a service communicate outside of the mesh [EXP] [OTH] . [OTH] [REP] well this is not a bug but more a question advice [REP],Outbound traffic for a metadata recovery service
[DES] . [DES] [EXP] istioctl should return proxy config and sync diff with proxy config and proxy status respectively for remote proxies [EXP] [OTH] . [OTH] [REP] 1 provision a single control plane multi cluster mesh 2a run istioctl proxy status remote proxy pod namespace 2b run istioctl proxy config clusters remote proxy pod namespace [REP],Istioctl unable to reach proxies in remote clusters
[DES] . [DES] [EXP] i expected the fields to all be recognized and appropriately passed to my grpc adapter which will perform the appropriate adjudication [EXP] [OTH] . [OTH] [REP] 1 check out the latest istio code base 2 build and compile mixs 3 run mixs gopath out linux amd64 release mixs server configstoreurl fs pwd mixer adapter panpolicyenforcer testdata [REP],"Authorization template config does not recognize fields supplied in config such as ""request.auth"""
[DES] . [DES] [EXP] mixer server change the handler address to a new one that config yaml specifies [EXP] [OTH] . [OTH] [REP] define an out of process adapter like this yaml handler for adapter mygrpcadapter apiversion config istio io v1alp [REP],"When only address is changed, mixer handler isn't refreshed"
[DES] . [DES] [EXP] liveness readiness probes should exhibit the same behavior in both local cluster and remote cluster [EXP] [OTH] . [OTH] [REP] 1 install istio multicluster on a cluster with m tls disabled 2 deploy an app with liveness and readiness probes o [REP],Liveness/Readiness Probes Fail in Remote Cluster
[DES] . [DES] [EXP] i would expect to see eds instead of eds etc also i would expect blackholecluster to be static not nil [EXP] [OTH] . [OTH] [REP] run istioctl proxy config clusters pod [REP],istioctl cluster list type is wrapped in &{}
[DES] . [DES] [EXP] connection should be possible by using gateway and virtual service from istio [EXP] [OTH] . [OTH] [REP] deploy url create nodeport service for the deployment create istio gateway create istio virtual service pointing to application service trying to connect to application [REP],Connection Issue to simple Hello World App / 404
[DES] . [DES] [EXP] able to run e2e tests on my own gke cluster [EXP] [OTH] . [OTH] [REP] try running the e2e pilot test with your own gke cluster be sure to set the cluster wide flag [REP],Unable to run e2e tests on my own cluster with generate_e2e_yaml changes.
[DES] . [DES] [EXP] i would expect the rc3 control plane to accept the edit successfully [EXP] [OTH] . [OTH] [REP] create a sidecar resource using the rc3 branch with the configuration above [REP],Sidecar validator port parsing regression between 1.1 rc2 and rc3.
[DES] . [DES] [EXP] not to process the invalid secret but keep pilot and mixer work well [EXP] [OTH] . [OTH] [REP] cat eof n2 k8s config apiversion v1 kind config clusters cluster certificate authority data server name contexts context cluster user name current context users name user token eof kubectl create secret generic n2 k8s secret from file n2 k8s config n istio system kubectl label secret n2 k8s secret istio multicluster true n istio system [REP],when create a invalid multicluster secret
[DES] . [DES] [EXP] the current state of available pods ips per service to be correctly distributed in the mesh [EXP] [OTH] . [OTH] [REP] sometimes update of the deployment as described above [REP],New external pods not propagated in mesh
[DES] . [DES] [EXP] no regression in pod sidecar startup time [EXP] [OTH] . [OTH] [REP] measure the time to start a pod with sidecar from the deployment command until it responds a request [REP],Regression on injected pod startup time.
[DES] . [DES] [EXP] the calls to the services should always be allowed or denied in a deterministic way [EXP] [OTH] . [OTH] [REP] apiversion rbac istio io v1alpha1 kind servicerole metadata name saturn services role namespace saturn spec rules  [REP],Service returns random 403 RBAC Access denied
[DES] . [DES] [EXP] connection should be successfull [EXP] [OTH] . [OTH] [REP] clustered oracle db with scan single client access name application to try to connect through scan name to db [REP],Istio Serviceentry with Oracle clustered DB
[DES] . [DES] [EXP] gateway objects with differing port dictionaries should be respected within their own namespaces in the example above url should fail as only http traffic is allowed [EXP] [OTH] . [OTH] [REP] 1 create service 001 in the indicated namespace from the above examples 2 verify that url works 3 create service 002 in the indicated namespace from the above examples 4 test endpoint at url and review results [REP],Changes to Gateway objects affect other Gateway objects in different namespaces
[DES] . [DES] [EXP] dns should not fail to resolve in a default setup especially with an outboundtrafficpolicy of allow any [EXP] [OTH] . [OTH] [REP] 1 spin up a kubernetes v version cluster 1 deploy the version rc 2 helm chart 1 create an a record set with 30 entries 1 deploy a pod with host installed i used this manifest url use host v to resolve your record set [REP],Large DNS Entries Cause DNS Connection Errors in Proxied Containers
[DES] . [DES] [EXP] i expected the fqdn basic trtis deployment trtlab svc k8s lab to be the value for host [EXP] [OTH] . [OTH] [REP] install k8s using kubespray and change the default cluster domain install metallb install istio version with helm using the default settings [REP],VirtualService fails to route using non-default cluster domain
[DES] . [DES] [EXP] upgrade should not fail [EXP] [OTH] . [OTH] [REP] sdake beast 01 more helm deploy sh helm repo add istio io url y charts sleep 1 sleep 10 kubectl delete f home isti [REP],upgrade fails when gateways for addons are enabled
[DES] . [DES] [EXP] galley starts normally telemetry starts normally and finally there is only one version of pilot running [EXP] [OTH] . [OTH] [REP] 2025 sudo kubeadm reset 2026 dep2 sh 2027 vi install kubernetes helm istio charts mixer templates deployment yaml  [REP],helm upgrade results in a failed upgrade
[DES] . [DES] [EXP] when the envoy sidecar receives an update service is not interupted [EXP] [OTH] . [OTH] [REP] set up a cluster with mongo or redis have this service send requests periodically to database once the in the midd [REP],Updates to envoy proxies destroying tcp connections
[DES] . [DES] [EXP] telemetry gateway sub chart should not be installed if default ingress gateway is disabled [EXP] [OTH] . [OTH] [REP] helm install install kubernetes helm istio set gateways enabled false name istio namespace istio system [REP],telemetry-gateway chart is installed if default ingress gateway is disabled
[DES] . [DES] [EXP] destinationrules should respect the sidecar scope in this case no destinationrule should be used for the reviews service unless we add it to the sidecar scoping [EXP] [OTH] . [OTH] [REP] see config above [REP],DestinationRules don't follow Sidecar scope isolation
[DES] . [DES] [EXP] given the below output hostname ansible kubectl version client version version info major 1 minor 13 gitversion v  [EXP] [OTH] . [OTH] [REP] running the istio ansible playbook on centos version ansible tower versions both above version python 3 valid kube [REP],Version comparison: LooseVersion instance has no attribute 'version'
[DES] . [DES] [EXP] getting the istio ingressgateway service external ip should succeed [EXP] [OTH] . [OTH] [REP] url deploy bookinfo example across clusters in the section deploy bookinfo example across clusters get the istio ingressgateway service external ip [REP],preliminary 1.1 doc for Multicluster fails at getting istio-ingressgateway service
[DES] . [DES] [EXP] a plain helm installation should result in a running pilot of course anybody can update the configmap himself but  [EXP] [OTH] . [OTH] [REP] install istio helm install istio istio version rc 1 install kubernetes helm istio init name init namespace system  [REP],Incorrect mesh config in Istio 1.1.0-rc.1
[DES] . [DES] [EXP] the official k8s docu url accessing the api from a pod recommends kubernetes default svc and a lot of applications [EXP] [OTH] . [OTH] [REP] ca cert var run secrets kubernetes io serviceaccount ca crt auth authorization bearer cat var run secrets kubernet [REP],kubernetes-api only accessible via FQDN in 1.1.0-rc.0+
[DES] . [DES] [EXP] the number should be version [EXP] [OTH] . [OTH] [REP] 1 git clone from git hub 2 git checkout version 3 make build 4 istioctl version to check the version [REP],Version number shows wrong after building from code
[DES] . [DES] [EXP] creating control plane for the master cluster should succeed [EXP] [OTH] . [OTH] [REP] url creat control plane for the master cluster in the section install the istio control plane [REP],preliminary 1.1 doc for Multicluster fails at creating control plane for master cluster
[DES] . [DES] [EXP] client side should be able to talk to server [EXP] [OTH] . [OTH] [REP] install istio enable sidecar auto inject remove meshpolicy default to exclude mtls effect bash kubectl delete mesh [REP],Redis client can't connect to server when sidecar is injected on both sides
[DES] . [DES] [EXP] pods of one app from two clusters are registered in different pilot services entries [EXP] [OTH] . [OTH] [REP] deploy an app simultaneously in two clusters visit the k8s service of the app from an injected pod [REP],Pods of one app from two clusters are registered in one pilot service entry
[DES] . [DES] [EXP] should be able to setup [EXP] [OTH] . [OTH] [REP] follow instructions and the following issues are found install instructions vary from the helm template install do [REP],Documentation for multi-cluster via Gateway install is broken
[DES] . [DES] [EXP] i would have thought only a single timeseries would result for this [EXP] [OTH] . [OTH] [REP] the basic steps to replicate are 1 install latest istio and the latest bookinfo demo and the latest kiali 2 instal [REP],multiple timeseries are generated in telemetry when going to istio-ingressgateway from inside mesh
[DES] . [DES] [EXP] metrics are reported [EXP] [OTH] . [OTH] [REP] use the telemetry example url and replace reporter conditional context reporter kind inbound outbound client server by reporter test or by reporter test after this change the query in prometheus url 5b 7b 22range input 22 3a 221h 22 2c 22expr 22 3a 22istio double request count 22 2c 22tab 3a1 7d 5d doesn t return any new results [REP],Using literals for metric dimensions doesn't work as expected
[DES] . [DES] [EXP] curl o dev null s w http code url gateway url productpage 200 [EXP] [OTH] . [OTH] [REP] when installating the all the crds and the bookinfo app yaml file the target configuration is not enabled where all sidecar proxies communicate with ingress gateway to forward traffic requests [REP],istio-1.0.5 - Bookinfo app - unable to access to the app via the ingress-gateway
[DES] . [DES] [EXP] update egress https url part docs to tell us that we should use new objects to replace the old ones [EXP] [OTH] . [OTH] [REP] just follow the egress https url part docs for istio version [REP],"""Egress https"" part docs for 1.0 is still an old version"
[DES] . [DES] [EXP] per instructions 58 should be printed [EXP] [OTH] . [OTH] [REP] follow url choosing option 1 till verify that all 58 istio crds were committed to the kubernetes api server using the following command [REP],Istio 1.1 helm Installation instructions don't verify
[DES] . [DES] [EXP] istio should not overcommit and request an excessive amount of cpu from kubernetes [EXP] [OTH] . [OTH] [REP] 1 create an aws kubernetes cluster with 6 m4 xlarge s 3 reserved for kubernetes 2 install istio version rc0 from nightly see url option 2 install with helm and tiller via helm install 3 install the default book demo 4 once completely launched run kubectl describe nodes notice how each node is now overcommitted by 370 [REP],Istio 1.1.0-rc0 requests and limits in kubernetes makes cluster unscheduable/unready
[DES] . [DES] [EXP] istio sidecar injection should be concurrent with k8s pod creation [EXP] [OTH] . [OTH] [REP] 1 create a k8s cluster and install istio 2 deploy a flask app to an istio enabled namespace 3 force delete the pod and the new one will be in crashloopbackoff status for the first seconds [REP],Istio sidecar injection is not concurrent with k8s pod creation
[DES] . [DES] [EXP] logging of metrics to stdio is possible [EXP] [OTH] . [OTH] [REP] kubectl apply f eof configuration for metric instances apiversion config istio io v1alpha2 kind metric metadata na [REP],Metrics are not written to stdio
[DES] . [DES] [EXP] client sends x b3 sampled 0 istio and underlying receiver [EXP] [OTH] . [OTH] [REP] gke with istio and stackdriver tracespan configured based on stackdriver yaml url and underlying receiver using opencensus b3 propagation [REP],Istio Not Setting 'x-b3-sampled: 1' when sampling
[DES] . [DES] [EXP] to either works smoothly or at least mention that the egress gateway has to be restarted seperating it into 2 steps should be enough [EXP] [OTH] . [OTH] [REP] follow the example description until version url setup cluster 2 [REP],Example 'Cluster-Aware Service Routing' fails due to timing
[DES] . [DES] [EXP] the templated istio remote auth yaml is created [EXP] [OTH] . [OTH] [REP] set local gw addr to an arbitrary hostname and execute step version url setup cluster 2 helm template [REP],Cluster-Aware Service Routing: Hostnames not supported
[DES] . [DES] [EXP] the reviews part of the page displays with no rating stars no matter how many times you refresh [EXP] [OTH] . [OTH] [REP] follow the tutorial here url apply weight based routing [REP],Pilot using wrong Destination Rule when there is no Sidecar resource
[DES] . [DES] [EXP] jaeger console detects and displays bookinfo services [EXP] [OTH] . [OTH] [REP] follow doc steps install istio using step 2 from here url option 2 install with helm and tiller via helm install [REP],"preliminary 1.1 doc ""Jaeger"" results in jaeger instance that does not detect bookinfo services"
[DES] . [DES] [EXP] i d expect that after installing istio and then the nginx ingress controller that all the nginx ingress controller pods had the envoy proxy sidecar injected [EXP] [OTH] . [OTH] [REP] deploy cluster install istio install nginx ingress controller [REP],Auto envoy injection to nginx-ingress-controller not working.
[DES] . [DES] [EXP] mixer should not reference a nil address memory [EXP] [OTH] . [OTH] [REP] deploy istio deploy any operator which has a complex workflow with istio sidecar eg url make operator k8s deployment would do the work the mixer will block connections on the mesh and answers with 500 [REP],invalid memory address or nil pointer dereference
[DES] . [DES] [EXP] pilot shouldn t push xds configuration to envoy if no changes established downstream connections shouldn t be destroyed by envoy unless the upstream service closes the connection itself [EXP] [OTH] . [OTH] [REP] no special steps to reproduce the bug just run the application with istio and check the application log [REP],Established TCP connection destroyed when Envoy receives configuration from Pilot
[DES] . [DES] [EXP] mixer traces to be part of the distributed traces for the parent requests [EXP] [OTH] . [OTH] [REP] rate limit task w tracing enabled fortio to generate traffic [REP],istio-policy tracespans show up without root spans
[DES] . [DES] [EXP] all tcs should pass [EXP] [OTH] . [OTH] [REP] install go and helm mkdir p gopath src istio io cd gopath src istio io git clone url cd istio git checkout version cd gopath src istio io make build make test [REP],Istio-1.0.5 TC failures are observed on Intel
[DES] . [DES] [EXP] the page should show the v1 review page every time [EXP] [OTH] . [OTH] [REP] run script above replace with your project though it also failed on a cluster i had previously installed istio on i repeated on a fresh cluster to ensure it wasn t some weird interaction [REP],(1.1 rc0) BookInfo traffic Request Routing does not work when using istio-demo-auth.yaml
[DES] . [DES] [EXP] kubectl apply f install kubernetes istio citadel with health check yaml succeeds [EXP] [OTH] . [OTH] [REP] follow steps kubectl apply f install kubernetes istio demo auth yaml [REP],"preliminary 1.1 doc ""Citadel Health Checking"" fails when deploying citadel health checking"
[DES] . [DES] [EXP] prometheus data should be stored in a persistent volume by default [EXP] [OTH] . [OTH] [REP] helm install istio kubectl delete n istio system kubectl get pod n istio system l app prometheus field selector status phase running o name this simulates pod rescheduling [REP],Default Prometheus Config drops data on rescheduling
[DES] . [DES] [EXP] the documented command see below should cause a conflict kubectl n istio system apply f eof apiversion networking istio io v1alpha3 kind destinationrule metadata name bad rule spec host httpbin foo svc cluster local trafficpolicy tls mode disable eof [EXP] [OTH] . [OTH] [REP] follow before you begin steps kubectl apply f install kubernetes istio demo auth yaml [REP],"preliminary 1.1 doc ""Mutual TLS Deep-Dive"" has incorrect command to cause CONFLICT"
[DES] . [DES] [EXP] it gets complicated but the simple answer that helps me most is to have a match count if it matches any header wit [EXP] [OTH] . [OTH] [REP] deploy a virtualservice that routes based on http header eg match headers myheadername exact my value send a reque [REP],Istio Routing Rules won't match with Duplicate HTTP Headers
[DES] . [DES] [EXP] helm dep update should work [EXP] [OTH] . [OTH] [REP] cd istio version snapshot 6 install kubernetes helm istio helm dep update error no repository definition for istio io please add them via helm repo add [REP],helm dep update not working for istio 1.1.0-snapshot6
[DES] . [DES] [EXP] the annotation values shall be double quoted [EXP] [OTH] . [OTH] [REP] create a helm values yaml file with following configurations yaml gateways istio ingressgateway serviceannotations foo bar and then run helm template install kubernetes helm istio name istio namespace istio system home yaml according to setup documentation in the generated yaml file you can see the annotation value bar is not double quoted and this will result some annotations not working properly [REP],Missing double quotes for annotation values in Istio helm chart gateways template service.yaml file
[DES] . [DES] [EXP] either the above files folder should be in tar or some snippet should be there from where user and easily download them [EXP] [OTH] . [OTH] [REP] download url extract tar files security folder doesn t exist [REP],packaging or documentation error for JWT authentication
[DES] . [DES] [EXP] sidecar container istio proxy should open up the tcp port for the service so traffic can reach to the service via sidecar [EXP] [OTH] . [OTH] [REP] this bug seems to be racy and istio sidecar behavior is back to normal by itself i am trying to find a way to reproduce this issue [REP],Sidecar does not open TCP port and ends up failing the service and liveness probes
[DES] . [DES] [EXP] istio skips invalid hostname or crashes with severe error [EXP] [OTH] . [OTH] [REP] create a service entry with the following content apiversion networking istio io v1alpha3 kind serviceentry metadata name db spec hosts db ports number 6543 name pg protocol tcp [REP],Invalid service entry hostname causes istio to stop endpoint discovery
[DES] . [DES] [EXP] kiali to be able to access istio pilot s previous version endpoint so it can figure out what version of istio it i [EXP] [OTH] . [OTH] [REP] go to kiali s api status endpoint and notice a failure you should see some json with status information including  [REP],kiali needs to be told about the new istio-pilot port for /version
[DES] . [DES] [EXP] automatic sidecar injection work like the manual injection using the following command istioctl kube inject f sleep yaml o sleep inject yaml oc create xa8cf sleep inject yaml oc get pod name ready status restarts age sleep 2wmrd 2 2 running 0 10s [EXP] [OTH] . [OTH] [REP] oc create namespace test oc label namespace test istio injection enabled oc create f sleep yaml doesn t work oc create f sleep inject yaml works [REP],Automatic sidecard injection doesn't work
[DES] . [DES] [EXP] doc should reference install kubernetes istio demo yaml or install kubernetes istio yaml should be added to release [EXP] [OTH] . [OTH] [REP] follow before you begin steps at url [REP],Preliminary 1.1 Security doc references missing file
[DES] . [DES] [EXP] applications with tls mode simple and passthrough should work in the same cluster [EXP] [OTH] . [OTH] [REP] install application with tls mode simple url 1 and with passthrough url 1 tried to adjust gateways to make port na [REP],TLS modes PASSTHROUGH and SIMPLE do not work in same cluster
[DES] . [DES] [EXP] rendering to k8s manifest should finish successfully [EXP] [OTH] . [OTH] [REP] 1 download istio version snapshot export export istio version version snapshot 6 curl l url sh 2 install all the i [REP],Rendering core components to kubernetes manifest fails
[DES] . [DES] [EXP] if sampling is enabled the mixer adapter check results should also appear in the logs [EXP] [OTH] . [OTH] [REP] install istio with tracing enabled then apply a configuration that requires call of the istio policy mixer yaml ap [REP],Mixer tracing does not work with 1.1.0-snapshot.6
[DES] . [DES] [EXP] the jwt validation should always be working with relatively low qps [EXP] [OTH] . [OTH] [REP] run 20 pods 1 rotation per minute use citadel to provision certs run for 1 day [REP],Citadel fails to talk to apiserver after running for long time
[DES] . [DES] [EXP] grafana to work like in version [EXP] [OTH] . [OTH] [REP] helm template istio version install kubernetes helm istio name istio namespace istio system set grafana enabled true set grafana security enabled true set grafana security adminuser admin set grafana security adminpassword mypass tracing enabled true yaml kubectl apply f yaml [REP],Grafana does not come up with Istio 1.0.6
[DES] . [DES] [EXP] i expect both serviceentries to function even if both charts are deployed [EXP] [OTH] . [OTH] [REP] not sure if it works with other external resources but setup 2 cloudsql instances on private networks then create 2 charts with deployments and serviceentries i can try things or share code if need also need istio installed with egress [REP],2nd Service Entry causes both dns entries to route to 1st ServiceEntry
[DES] . [DES] [EXP] book ratings displayed correctly [EXP] [OTH] . [OTH] [REP] samples bookinfo platform kube bookinfo ratings v2 mysql yaml is this name mysql db host value localhost name mysq [REP],cannot connect to mysql when i follow Consuming External TCP Services
[DES] . [DES] [EXP] grafana and prometheus metrics work find in selected namespaces too [EXP] [OTH] . [OTH] [REP] install istio in the default istio system namespace install your application in another namespace let s say prod visit istio service dashboard in grafana select your service check for missing metrics empty client and service workloads only client request volume rate and duration are working in this case [REP],Missing metrics when deployed in another namespace
[DES] . [DES] [EXP] gateway resource that does not specify a certificate path should be accepted by galley given that the sds agent loads the certificates dynamically from the api server [EXP] [OTH] . [OTH] [REP] after the istio installation the sds agent for ingress gateway needs to be enabled in the configuration then use above yaml to reproduce the bug [REP],galley validation still expects older gateway resource format
[DES] . [DES] [EXP] tests should be able to run [EXP] [OTH] . [OTH] [REP] create 2 tests like this func testfoo t testing t tctx framework getcontext t tctx requireorskip t lifecycle suite descriptors nativeenvironment ids apps ids policybackend ids mixer do something func testbar testing tctx framework getcontext tctx requireorskip lifecycle suite descriptors nativeenvironment ids apps policybackend mixer do something [REP],Multiple tests doesn't work using Test scope
[DES] . [DES] [EXP] locality aware routing should fall back to locality of side car service instances when both i locality is not set  [EXP] [OTH] . [OTH] [REP] 1 checkout and build istio release version branch commit 2 enable locality aware routing add the following to mesh [REP],Locality aware routing not applied when empty locality config on proxy
[DES] . [DES] [EXP] expect to be able to use attributes in version namely request query params and request url path as specified in th [EXP] [OTH] . [OTH] [REP] deploy version and attempt to create an instance that uses these attributes for example apiversion config istio io [REP],Unknown attributes error in Mixer logs - Istio 1.1
[DES] . [DES] [EXP] one service name is used so that telemetry is consistent perhaps there could be an annotation that marks a service as the canonical service to use in policy and telemetry [EXP] [OTH] . [OTH] [REP] see description of setup [REP],Multiple services for the same workload in Mixer (telemetry and policy)
[DES] . [DES] [EXP] with none of the inject container s securitycontext demanding privileged true a psp with false and cap net admin e [EXP] [OTH] . [OTH] [REP] with the istio sidecar injector configmap using the value privilege false being used in the initcontainer security [REP],Sidecar injection fails when using PSP with and istio-init container privleged=false
[DES] . [DES] [EXP] the istio system to be correctly installed [EXP] [OTH] . [OTH] [REP] 1 download extract istio snapshot version snapshot 5 2 run helm repo add istio io url 3 navigate to install kubernetes helm istio 4 run helm dep update 5 run helm install name istio namespace system set grafana enabled true set tracing enabled true set kiali enabled true set servicegraph enabled true cni alternatively use template and kubectl apply same result certain crds are created others are not [REP],Helm install fails due to missing CRDs with istio-1.1.0-snapshot.5
[DES] . [DES] [EXP] myapp example com aggregator to route to aggregator release namespace svc cluster local instead of frontend release namespace svc cluster local [EXP] [OTH] . [OTH] [REP] deploy to 2x virtual services with path based routing [REP],Using both Exact and Prefix URI matches results in unexpected behavior
[DES] . [DES] [EXP] the startup of pod sidecar should be as fast possible knative requirement [EXP] [OTH] . [OTH] [REP] measure the startup time of an injected pod with version build and compare with version build [REP],Default limits values for initContainer caused regression on pod startup time
[DES] . [DES] [EXP] i expected no errors i understand the cross service order is undefined but this configuration shouldn t break the  [EXP] [OTH] . [OTH] [REP] configuring two services like this is what caused the issue service c spec gateways gateway mesh hosts svcc mydoma [REP],"VirtualService ""Only unique values for domains are permitted"" error when bound to gateway"
[DES] . [DES] [EXP] for uri s filtered web sockets must be working [EXP] [OTH] . [OTH] [REP] apply the virtual service rules and you see envoy routes not being updated apiversion networking istio io v1alpha3 [REP],Web-sockets upgrade not working in alphav3
[DES] . [DES] [EXP] cpu and memory within requested size [EXP] [OTH] . [OTH] [REP] running load of 140 ops for 30min during that load it is running between 2x to 9x the requested cpu [REP],Prometheus running higher cpu and memory than request.
[DES] . [DES] [EXP] with sds enabled and true istio proxy should be able to connect to the control plan i believe that this condition url diff should be on values global and will need to be addressed in both the istio and istio remote charts [EXP] [OTH] . [OTH] [REP] configure values global sds enabled and values global to true [REP],istio-proxy control plane connection issues when both SDS and control plane security are enabled
[DES] . [DES] [EXP] the upgrade should be successful [EXP] [OTH] . [OTH] [REP] install istio version using helm and tiller and then run helm upgrade istio istio version snapshot 5 install kubernetes helm istio namespace system [REP],Helm updrade from 1.0.4 to 1.1.snapshot.5 fails
[DES] . [DES] [EXP] envoy proxy should write log with new format [EXP] [OTH] . [OTH] [REP] 1 change configmap of istio with above entry 2 restart pilot pod 3 create a new istio injected pod check istio pro [REP],istio proxy access log format config not working
[DES] . [DES] [EXP] when deleting the istio system namespace the admission controller registration is revoked such that no automatic i [EXP] [OTH] . [OTH] [REP] kubectl create ns istio system kubectl apply f home istio init yaml manually deleting the certmanager job kubectl  [REP],deleting the Istio-system namespace results in leaked configuration for the sidecar injector
[DES] . [DES] [EXP] if the external jaeger zipkin is specified the address should be used consistently throughout [EXP] [OTH] . [OTH] [REP] a correct implementation is seen in the gateways templates deployent yaml url l113 where it starts with an explici [REP],Zipkin address inconsistently used through Helm charts
[DES] . [DES] [EXP] with mode mutual specified in the tlssettings i would expect this to be correctly classified at mtls client connection [EXP] [OTH] . [OTH] [REP] set up the described destinationrule above and run istio version bin istioctl [REP],istioctl authn tls-check incorrect client status
[DES] . [DES] [EXP] everything to start up and running well [EXP] [OTH] . [OTH] [REP] render the helm chart and try to deploy it helm template install kubernetes helm istio name istio namespace istio system set grafana enabled true set grafana persist true [REP],User specified namespace + Grafana with persistency enabled => rendered PVC lacking namespace declaration
[DES] . [DES] [EXP] independent of request frequency a proven working outbound endpoint should always be reachable from the sidecar [EXP] [OTH] . [OTH] [REP] using egressgateway with mtls configured within mesh and mtls origination occuring at egressgateway for talking to upstream endpoint [REP],egressgateway 503 on cold start (infrequent requests)
[DES] . [DES] [EXP] per operations guide running curl url from within an istio ingressgateway pod should return a response it instead gets a connection timeout [EXP] [OTH] . [OTH] [REP] install istio using helm into a kubernetes cluster with a network model that does not forward service ports that are not declared in the service resource definition [REP],Helm chart not exposing all necessary ports in istio-pilot service
[DES] . [DES] [EXP] istio auth yaml to be applied without error if possible [EXP] [OTH] . [OTH] [REP] make e2e simple run on bare metal apply the istio auth yaml manifest generated in tmp dir manually this happens often in the gate its pretty easy to fix there but not clear on how to fix the generated manifests to solve this race problem [REP],e2e simpletest flaky during deployment of helm charts
[DES] . [DES] [EXP] panic unknown map type uint8 goroutine 2342 running istio io istio mixer pkg il mapget 0xc421aadad7 0x7 0x1 t home [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior [REP],enforce type discipline for attribute values cause panic Unknown map type []
[DES] . [DES] [EXP] all ports declared in the container [EXP] [OTH] . [OTH] [REP] configure a service with authn policy as apiversion authentication istio io v1alpha1 kind policy metadata name mtls strict for a spec targets name a peers mtls mode strict [REP],Authn policy without port selector not configure TCP port
[DES] . [DES] [EXP] parsing the sentence with standard english semantic rules i expected that specifying a gateways field with the sin [EXP] [OTH] . [OTH] [REP] install bookinfo application edit the bookinfo virtualservice as follows yaml apiversion networking istio io v1alp [REP],Incorrect/misleading documentation of gateways field of VirtualService CRD
[DES] . [DES] [EXP] envoy bootstrap templatefile passed as an argument to pilot agent should be handled exactly the same as default bo [EXP] [OTH] . [OTH] [REP] pass default envoy boostrap template as an argument of templatefile to see that substitution of many parameters wi [REP],pilot-agent processes Envoy bootstrap template passed via templateFile differently than the default one
[DES] . [DES] [EXP] i want to run 2 envoy proxies in one pod istio sidecar shouldn t crash [EXP] [OTH] . [OTH] [REP] run istio sidecar and regular enovy within one pod [REP],Istio sidecar crash when running in one POD with Envoy gateway
[DES] . [DES] [EXP] add extra parameter can specify which namespace has istio system [EXP] [OTH] . [OTH] [REP] bash go test v timeout 25m tests e2e tests bookinfo auth enable true egress true ingress false rbac enable false namespace test istio istioctl usr bin istioctl skip cleanup skip setup [REP],e2e tests can't specify istio's namespace
[DES] . [DES] [EXP] i expect pilot to continue pushing rds to envoy after pilot is restarted without having to restart envoy [EXP] [OTH] . [OTH] [REP] 0 setup a healthy environment with pilot and envoy communicating with each other envoy has configuration populated [REP],Envoy RDS doesn't update when Pilot restarts
[DES] . [DES] [EXP] the telemetry should only have the unknown timeseries that you see above in the prometheus screenshot destination  [EXP] [OTH] . [OTH] [REP] 1 install istio version snapshot 4 2 install bookinfo demo 3 kubectl create f the yaml file i show above it is cal [REP],Telemetry resulting from injected faults is wrong.
[DES] . [DES] [EXP] changes will get propagated to istio proxy containers [EXP] [OTH] . [OTH] [REP] create a simple deployment by applying the following apiversion v1 kind service metadata name myclient labels app  [REP],new service entries or editing the existing one does not get propagated to istio proxies
[DES] . [DES] [EXP] what did you expect to happen [EXP] [OTH] . [OTH] [REP] 1 install cluster via eksctl apiversion eksctl io v1alpha3 kind clusterconfig metadata name kube cluster region us [REP],istio-proxy doesn't connect to istio-pilot.istio-system
[DES] . [DES] [EXP] i would expect version version to be returned by istioctl proxy status [EXP] [OTH] . [OTH] [REP] set up a kube cluster with istio version installed run istioctl proxy status pod0 7dfdd54db6 4jmkf banking synced synced synced 100 synced istio pilot g4fjs version pod1 58c5b7fb8f 6kf99 mimo 100 istio pilot g4fjs version pod2 6c6d7b9f5c kxmgw mimo 100 istio pilot g4fjs version [REP],istioctl not reporting correct version info
[DES] . [DES] [EXP] we expected the behavior described in the doc [EXP] [OTH] . [OTH] [REP] install istio based on release version at url follow the instruction url step 5 of this section url egress gateway for http traffic returns the following failure kubectl exec it source pod c sleep curl sl o dev null d url http version 503 service unavailable date mon 21 jan 2019 15 43 39 gmt server envoy content length 0 [REP],"Example ""Configure an Egress Gateway"" does not work with release-1.1"
[DES] . [DES] [EXP] i expect traffic mirroring to have the same telemetry as normal traffic specifically i expected to see source tele [EXP] [OTH] . [OTH] [REP] 1 install bookinfo demo 2 add the virtual service destination rule that turns on mirroring using this yaml url 3 s [REP],Need source telemetry to capture 'the first hop' when mirroring traffic
[DES] . [DES] [EXP] the following serviceentry should succeed apiversion networking istio io v1alpha3 kind serviceentry metadata name google metadata api spec hosts metadata location mesh external ports number 80 name http protocol http resolution dns [EXP] [OTH] . [OTH] [REP] kubectl apply the above yaml [REP],Istio is Incompatible with Google's Metadata FQDN
[DES] . [DES] [EXP] when autoscaleenabled true don t include the unneeded replicas 1 for deployments add templating logic around the deployment template replica definition if not spec autoscaleenabled replicas values replicacount end [EXP] [OTH] . [OTH] [REP] set autoscaleenabled true and when hpa kicks in and changes the replicas this can cause confusion for managed environments as the deployment definition is now different from what was initially specified [REP],true does not require replicas: 1
[DES] . [DES] [EXP] envoy and node agent s sds grpc server should be able to communicate successfully if the sds grpc server s serve returns an error the communication should resume for subsequent connections [EXP] [OTH] . [OTH] [REP] reproducible in a customer s environment [REP],Envoy unable to communicate with Node Agent's SDS grpc server
[DES] . [DES] [EXP] the destinationrule to be applied when a service is consumed should be resolved in the following order search the  [EXP] [OTH] . [OTH] [REP] setup a structure like the following namespace a serviceentrya1 host myservice internal net destrulea1 host tls of [REP],DestinationRule resolution allows for cross-namespace interference
[DES] . [DES] [EXP] changes to be reflected immediately and my service to be accessible on hostname 31380 [EXP] [OTH] . [OTH] [REP] deploy a simple webserver and expose it using a service create a simple gateway and virtualservice to access it on [REP],Pilot fails to update ingress gateway about new gateways and virtual services
[DES] . [DES] [EXP] i m not sure there s really a solution here but it makes istio cni practically unusable on clusters that frequentl [EXP] [OTH] . [OTH] [REP] see description but roughly 1 start a gke cluster with calico cluster autoscaling 2 install istio with istio cni 3 [REP],istio-cni race condition with autoscaling clusters and calico
[DES] . [DES] [EXP] only healthy gateway should be added to the fleet to receive traffic [EXP] [OTH] . [OTH] [REP] deploy the istio gateway and expose it as a nodeport service scale up the gateway multiple times while sending some traffic to the gateway you should be able to reproduce the bug i added readinessprobe manually and it reduced connectionrefuse errors but sometimes as above error log showed envoy proxy fails to start and still result connectionrefuse [REP],Istio Gateway does not have readiness/liveness enabled
[DES] . [DES] [EXP] routing decision happens based on host header through virtual service configuration istio should generate envoy ro [EXP] [OTH] . [OTH] [REP] 1 create http application and corresponding k8s service nginx would be faster 2 create grpc application and corres [REP],"Istio ingressgateway routing broken with two different gateways using same port and different protocol(HTTP, GRPC)"
[DES] . [DES] [EXP] istio multicluster resolution works cross cloud without modification of applications [EXP] [OTH] . [OTH] [REP] follow guide url note coredns configuration is needed which is not yet documented [REP],Istio Gateway Multicluster DNS resolution doesn't work properly
[DES] . [DES] [EXP] my pod makes a series of calls to the gcp metadata server and successfully retrieves credentials with expected gke [EXP] [OTH] . [OTH] [REP] serviceentry yaml apiversion networking istio io v1alpha3 kind serviceentry metadata name gcp service entry spec h [REP],Sidecar does not work with GKE Auth Scopes
[DES] . [DES] [EXP] according to pr url in version version snapshot4 kubernetesenv adapter on mixer should be able to connect to the remote cluster to get pod information [EXP] [OTH] . [OTH] [REP] install istio multicluster with routes on both clusters so that pods from each cluster can ping each other deploy bookinfo application remove reviews v3 from the control plane cluster and install it on the remote cluster [REP],Multicluster Mixer Error with Single Control Plane
[DES] . [DES] [EXP] all ingress gateway replicas should be taking traffic [EXP] [OTH] . [OTH] [REP] drive traffic through a ingress gateway cause scale out stop and restart traffic and verify that not all instances are active [REP],Some ingress gateway instances may be inactive.
[DES] . [DES] [EXP] i would expect that the attribute source workload uid contains the id of the deployment where the request originat [EXP] [OTH] . [OTH] [REP] configure a virtualservice that routes a request from the mesh gateway to the egress gateway and from there somewh [REP],Value of source.workload.ui changed between 1.0 and 1.1
[DES] . [DES] [EXP] i want the istio policy 85c8dcc59c kr9n2 pod and istio telemetry 59vns pod s status get running and do not restart always [EXP] [OTH] . [OTH] [REP] install istio v version the pod restart always [REP],istio policy pod and istio telemetry pod restart always
[DES] . [DES] [EXP] i expect to be able to connect to aws cognito from a pod with sidecar [EXP] [OTH] . [OTH] [REP] use cognitoidentityprovider from the ruby aws sdk to connect to cognito [REP],SSL Cert Error when connecting to Cognito
[DES] . [DES] [EXP] pip install installs [EXP] [OTH] . [OTH] [REP] add egress rule apiversion networking istio io v1alpha3 kind serviceentry metadata name pypi spec hosts pypi pytho [REP],pip does not work inside container with Envoy proxy.
[DES] . [DES] [EXP] run istio iptables sh return no error eternally [EXP] [OTH] . [OTH] [REP] this bug can not be reproduced each time it may occurs when the hosting machine was running iptables same time as the container [REP],istio-iptables.sh got exit status 4 occasionally
[DES] . [DES] [EXP] i expect that it should be possible to set response headers conditionally mixer should not emit a warning in such  [EXP] [OTH] . [OTH] [REP] create an external adapter according to url add one property refreshtoken to the response template and make the ad [REP],Mixer emits warning if value for responseHeaderOperation of a Rule is not defined
[DES] . [DES] [EXP] exactly access the url by chrome [EXP] [OTH] . [OTH] [REP] gateway apiversion networking istio io v1alpha3 kind gateway metadata name designer gateway spec selector istio in [REP],gateway/virtualservice 404 access url when using chrome
[DES] . [DES] [EXP] no errors during go generate [EXP] [OTH] . [OTH] [REP] go get istio io istio docker run v gopath root go v var run docker sock var run docker sock e gopath root go w root go src istio io istio mixer adapter cloudwatch it rm eyeofthefrog codegen generate [REP],go generate fails inside mixer/adapter when run from Docker container
[DES] . [DES] [EXP] below output is with istio vm user we are expecting same output with root user istio vm curl v w url trying versio [EXP] [OTH] . [OTH] [REP] configure k8s cluster and istio using below links url url [REP],Unable to access applications deployed in ISTIO from ExternalVM as a ROOT user.
[DES] . [DES] [EXP] using a regex with a pipe logical or i expect to be routed to myapp when i have a user agent header that contains the word iphone or pixel [EXP] [OTH] . [OTH] [REP] apiversion networking istio io v1alpha3 kind virtualservice http match headers user agent regex regex uri prefix foo bar route destination host myapp port number 80 match uri prefix foo bar route destination host deskt app port number 80 [REP],VirtualService HTTPMatchRequest.regex breaks when using pipes
[DES] . [DES] [EXP] a pod with two containers remains at ready state [EXP] [OTH] . [OTH] [REP] kubectl apply f url kubectl get deployment books export true o yaml books yaml istioctl kube inject f books yaml k [REP],Port already in use when attempting to inject sidecar
[DES] . [DES] [EXP] deleted istio as helm del purge istio tried installing istio again using the helm chart it reported error apiextensions k8s io gateways networking istio io already exists crds should have been removed for a clean removal of [EXP] [OTH] . [OTH] [REP] install istio helm install t t wait t t name istio namespace istio system tinstall kubernetes helm istio delete helm del purge install again [REP],CRDs should be removed with Istio Helm charts
[DES] . [DES] [EXP] expected the service to return a valid response [EXP] [OTH] . [OTH] [REP] use the following config file for the service to return an error apiversion networking istio io v1alpha3 kind dest [REP],Gateway and VirtualService ordering should not matter
[DES] . [DES] [EXP] when using ipv4 istio does not intercept block connections to localhost i would expect the same behavior when using ipv6 localhost address 1 [EXP] [OTH] . [OTH] [REP] create an application that tries to talk to itself using 1 on a machine container where ipv6 localhost address is enabled when using istio the connection will timeout [REP],istio proxy_init should not block connections to `::1`
[DES] . [DES] [EXP] disabling mtls setting should not create secrets of existing deployments kubectl get secrets n curlworld name type [EXP] [OTH] . [OTH] [REP] do the minimal installation of istio following official guide helm template install kubernetes helm istio name ist [REP],Disabling helm global mtls setting not working as expected
[DES] . [DES] [EXP] services in other namespace which is not allowed in destinationrule shouldn t be able to contact the service for w [EXP] [OTH] . [OTH] [REP] create policy and destination rule cat eof kubectl apply f apiversion authentication istio io v1alpha1 kind policy [REP],Envoy security destination rule policy not working as expected
[DES] . [DES] [EXP] red stars in the review going to version 3 of the review microservice [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior use the following virtualservice and access bookinfo productpage from chrome apiversion networking istio io v1alpha3 kind virtualservice metadata name reviews spec hosts reviews http match headers user agent regex chrome route destination host reviews subset v3 route destination host reviews subset v2 [REP],User Agent Information is getting ignored in traffic routing in BookInfo
[DES] . [DES] [EXP] there should be no error for an acceptable request rate for this case [EXP] [OTH] . [OTH] [REP] config tls origination with the egress gateway by url run curl in pod frequently [REP],"Egressgateway gets intermittent 503 in ""TLS origination with the egress Gateway"" case"
[DES] . [DES] [EXP] what did you expect to happen i want the end route to be to the one i rewrite this is the route created and you ca [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior apiversion networking istio io v1alpha3 kind gateway metadata name trs tul [REP],Istio rewrite to a different prefix does not work
[DES] . [DES] [EXP] version success ratio [EXP] [OTH] . [OTH] [REP] i am using vegeta as load testing tool echo get url vegeta attack rate 500 duration 10s tee results bin vegeta report this is just a simple hello world route [REP],API load testing has better success rate without sidecars. Is this normal?
[DES] . [DES] [EXP] i expect to reach the is4 s welcome page when entering url address [EXP] [OTH] . [OTH] [REP] deploy a is4 demo to a pod i could give you my container from docker hub but you d need my certificate use my istio gateway virtual service [REP],HTTP404 when expected to reach a service
[DES] . [DES] [EXP] i expect the pod in namespace a to be able to reach the cockroachdb service in namespace b with or without sidecar injection turned on [EXP] [OTH] . [OTH] [REP] create 1 test pod in namespace a with sidecar injection turned on and another one with injection turned off create a database service in namespace b and try connecting via psql or pg isready [REP],Pod with Istio-proxy cannot communicate with service in a different namespace
[DES] . [DES] [EXP] localhost to localhost connectivity should not be affected by istio at all [EXP] [OTH] . [OTH] [REP] this is a very specific setup and we currently have no isolated reproduction rule yet we re working on it [REP],localhost connectivity broken for one specific container/port
[DES] . [DES] [EXP] what did you expect to happen how to solve this problem low version didn t suport the example tcp load balancing in the lower version [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior configuration is invalid tcp route must have exactly one destination [REP],TCP Traffic Shifting not supported in low version
[DES] . [DES] [EXP] after applying samples bookinfo networking virtual service all v1 yaml the productpage should only render v1 revie [EXP] [OTH] . [OTH] [REP] shell kubectl label namespace default istio injection enabled kubectl apply f samples bookinfo platform kube booki [REP],Bookinfo with virtualservice subset not work
[DES] . [DES] [EXP] if a request is made to the service with token signed by a new key envoy is able to fetch new jwks configuration i [EXP] [OTH] . [OTH] [REP] 1 install istio 2 install dex and set key rotation period to for example to 10 minutes to speed up problem reprodu [REP],Problem with JWT token authentication in the pilot & envoy
[DES] . [DES] [EXP] application custom metrics should be scraped with or without mtls enabled [EXP] [OTH] . [OTH] [REP] enable mtls send custom metrics from a pod and check metrics endpoint in prometheus to see the error [REP],Application metrics are not scraped when mTLS is enabled
[DES] . [DES] [EXP] mixer can ouput correct metrics in kubernetes v version [EXP] [OTH] . [OTH] [REP] 1 eploy the kubernetes v version cluster 2 eploy the istion version 3 eploy the bookinfo examples 4 atch the metrics of mixer 42422 metrics [REP],istio_request_total metrics can't get app information
[DES] . [DES] [EXP] if istio can replace the special char or any better solution [EXP] [OTH] . [OTH] [REP] deployment like below can reproduce the bug apiversion extensions v1beta1 kind deployment metadata name hello v1 spec replicas 1 template metadata labels app hello hello v1 hello v1 version v1 [REP],Istio auto-inject with environment variable name invalid value error
[DES] . [DES] [EXP] istio should get installed with out any issues [EXP] [OTH] . [OTH] [REP] 1 install latest version of docker for windows 2 download istio and then install istio demo auth yaml using kubectl app f [REP],Getting installation error with isito on Kubernetes with Docker for Windows
[DES] . [DES] [EXP] allow scraper to collect metrics from ports that are not under the sidecar umbrella ex we could have the common an [EXP] [OTH] . [OTH] [REP] setup a deployment that exposes prometheus metrics on a port x that is not declared as containerport and without s [REP],Allow prometheus scraper to fetch port outside of sidecar umbrella
[DES] . [DES] [EXP] i would suggest add another argument grpc address or grpc port and i am happy to contribute code [EXP] [OTH] . [OTH] [REP] we can build the latest master through make docker proxy debug and use the docker image as sidecar proxy consul as [REP],discovery_address used as grpc address/port in pilot-agent proxy
[DES] . [DES] [EXP] install should be successfull [EXP] [OTH] . [OTH] [REP] 1 install helm in a namespace tiller system 2 follow url option 2 install with helm and tiller via helm install to [REP],Helm install for istio 1.04 fails with error already exists
[DES] . [DES] [EXP] when i keep refreshing the page url i should see resource exhausted quota is exhausted for requestcount but no [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior 1 ubectl apply f samples bookinfo networking virtual service all v1 yaml 2 ubectl apply f samples bookinfo policy mixer rule productpage ratelimit yaml 3 efresh the page url [REP],Sameple of rate limits is not in effect
[DES] . [DES] [EXP] i hope both of the two rules should take effect [EXP] [OTH] . [OTH] [REP] i m using bookinfo for test below is my steps 1 add forward route to details service apiversion networking istio i [REP],only one rule take effect when two traffic rules on one request
[DES] . [DES] [EXP] the runasuser 0 configuration is currently not present in the istio sidecar configmap by default would expect this [EXP] [OTH] . [OTH] [REP] 1 set podsecuritycontext url podsecuritypolicyspec v1beta1 extensions with runasuser different than root 1 try the [REP],"Istio sidecar init-container requires to run as `root`, specify it explicitly in the ConfigMap"
[DES] . [DES] [EXP] expect the istio installed with zipkin [EXP] [OTH] . [OTH] [REP] helm install install kubernetes helm istio name istio namespace istio system set tracing enabled true set tracing provider zipkin error found in requirements yaml but missing in charts directory sidecarinjectorwebhook security ingress gateways mixer nodeagent pilot grafana prometheus servicegraph tracing galley kiali istiocoredns certmanager istio cni [REP],istio-1.1.0-snapshot.3 gives error on helm install as charts/ directory
[DES] . [DES] [EXP] remote istio on remote cluster keep crashing due to below error error failed to create injection webhook failed to convert to proto yaml line 60 mapping values are not allowed in this context [EXP] [OTH] . [OTH] [REP] as per this url remote istio sidecar injector on second cluster never comes up [REP],Istio Remote Sidecar Injector Not Working
[DES] . [DES] [EXP] auto inject sidecar [EXP] [OTH] . [OTH] [REP] image url image url image url kubectl describe pod reviews v3 dd846cc78 b8wzn n web name reviews v3 dd846cc78 b8wz [REP],Example Bookinfo auto inject does not work
[DES] . [DES] [EXP] addons use https by default [EXP] [OTH] . [OTH] [REP] i don t have alot of details other than jmazzitelli has taken the action of implementing https for kiali jaeger grafana and promethus remain [REP],Most/all addons do not implement https
[DES] . [DES] [EXP] routes should be identified as matching [EXP] [OTH] . [OTH] [REP] pilot with pilot direct eds enabled have istio enabled pod have another service w a matching virtualservice apiver [REP],istio-ctl proxy-status <envoy> constantly shows diffs
[DES] . [DES] [EXP] an upgrade should not break service connectivity if there is a cache there should be a way to clear it [EXP] [OTH] . [OTH] [REP] install istio version via kubectl apply upgrade to istio version by applying the crds first followed by another ku [REP],Pilot wrongly reports endpoint_no_pod after 1.0.4 upgrade
[DES] . [DES] [EXP] http 200 for metrics as per the first few days of collection [EXP] [OTH] . [OTH] [REP] not totally sure how to reproduce yet i thought i would file now in case anyone experiences the same issue i d like to help in whatever way i can to try to reproduce it [REP],Duplicate labels on telemetry metric export
[DES] . [DES] [EXP] we should cache services and service instances in pilot and watch consul for update [EXP] [OTH] . [OTH] [REP] install istio with consul register about 300 services in consul [REP],Two many TIME_WAIT sockets caused by Pilot Consul registry
[DES] . [DES] [EXP] job should be deleted if chart install failed [EXP] [OTH] . [OTH] [REP] introduce a failed istio install via helm a cluster that s a little too small will suffice delete installed chart with helm delete purge istio re install chart get error as above [REP],job isn't deleted when helm chart is deleted
[DES] . [DES] [EXP] but with istio version snapshot 1 it works fine helm template istio version snapshot 1 install kubernetes helm istio name istio namespace system f miramar config yaml resources yaml [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior [REP],helm template not working with istio-1.1.0-snapshot.3
[DES] . [DES] [EXP] policy disabled but telemetry to be enabled [EXP] [OTH] . [OTH] [REP] install via helm install with options set mixer policy enabled false and check deployments in istio system namespace there is no telemetry deployment [REP],Disabling only Policy does not work
[DES] . [DES] [EXP] validating a header map will make sure the header name is not empty [EXP] [OTH] . [OTH] [REP] istioctl validate fails this model yaml apiversion networking istio io v1alpha3 kind virtualservice metadata name  [REP],Validation for HTTPRoute header name is validating header value
[DES] . [DES] [EXP] the pilot and policy pods are running [EXP] [OTH] . [OTH] [REP] 1 git checkout istio version 2 change the base image from ubuntu to redhat for istio pilot docker dockerfile proxy [REP],The pilot and policy pods kept restarting
[DES] . [DES] [EXP] pilot should handle the protocol error response and continue to serve routes to the sidecar [EXP] [OTH] . [OTH] [REP] this is hard to describe since it is a race i do have a unit test as part of the pr which mimics the issue and fails with the current implementation [REP],Handling envoy protocol errors with routes
[DES] . [DES] [EXP] all connections to the postgres service work [EXP] [OTH] . [OTH] [REP] apply the following yaml to an istio enabled cluster yaml client apiversion apps v1 kind deployment metadata name  [REP],Read error on TCP connections causing Postgres to drop connections
[DES] . [DES] [EXP] as suggested in this test at istio repo url l78 the paths with wild cards at the end of the path must macth for e g for a rule reviews requests url and url both must match apart from query string parameters must not be considered for rule maching for e g url should match the rule [EXP] [OTH] . [OTH] [REP] 1 create a service account 2 create a servicerole with wildcard get paths 3 create a servicerolebinding to assign that role to the service account [REP],Service role rules do not support wild cards for get paths
[DES] . [DES] [EXP] the connection should succeed [EXP] [OTH] . [OTH] [REP] create the necessary storage yaml kind persistentvolumeclaim apiversion v1 metadata name mysql pvc spec accessmode [REP],Connection Failure to a MySQL Service
[DES] . [DES] [EXP] all curl commands to complete successfully once policy mixer has restarted [EXP] [OTH] . [OTH] [REP] 1 install default istio version install kubernetes istio demo yaml 2 install helloworld sample samples helloworld helloworld yaml 3 verify curls to helloworld are successful 4 delete mixer policy pod and allow it to restart 5 curl commands will inconsistently succeed or fail with error above [REP],Bouncing mixer causes 503s on Istio 1.0.3
[DES] . [DES] [EXP] helm template create istio yaml [EXP] [OTH] . [OTH] [REP] helm template istio version snapshot 2 install kubernetes helm istio name istio namespace istio system set grafana [REP],istio-1.1.0-snapshot.2 does not install with helm
[DES] . [DES] [EXP] it should return hello version centos myinstance curl url hello version v2 instance helloworld v2 rhd67 [EXP] [OTH] . [OTH] [REP] istio deployment steps curl l url sh kubectl kubeconfig config apply f istio version install kubernetes helm istio templates crds yaml helm template istio version install kubernetes helm name namespace system set gateways ingressgateway type nodeport yaml kubectl kubeconfig config create namespace system kubectl kubeconfig config apply f yaml [REP],istio ingressgateway connection refused on port 31380
[DES] . [DES] [EXP] grpc client was able to connect to the service with or without the sidecar proxy [EXP] [OTH] . [OTH] [REP] start with a fresh install of istio no mtls no auto sidecar injection use the following service apiversion extensi [REP],grpc service not working with sidecar
[DES] . [DES] [EXP] istio sidecars injected into both mariadb instances both mariadb instances are able to initialise and synchronise with each other [EXP] [OTH] . [OTH] [REP] helm install install kubernetes helm istio name istio namespace istio system set tracing enabled true helm template install kubernetes helm istio name namespace system set tracing enabled true set global proxy includeipranges version 8 x templates sidecar injector configmap yaml kubectl apply f [REP],Unable to initialise Galera MariaDB pods with sidecar injection
[DES] . [DES] [EXP] istio gateway can handle grpc service [EXP] [OTH] . [OTH] [REP] 1 use the following single file along with the proto file to build a node server image url 2 deploy it in k8s with a clusterip service 3 create a grpc gateway and virtual service 4 visit the service via the gateway address it s not working [REP],istio grpc gateway is not working
[DES] . [DES] [EXP] the istio kubectl container built with a kubectl executable usable in the arch set in the build s goos setting [EXP] [OTH] . [OTH] [REP] 1 on non linux arch build system ie osx goos linux make build docker all push 1 on linux arch test setup install i [REP],kubectl container always built with kubectl of local architecture (!= GOOS)
[DES] . [DES] [EXP] route traffic only to healthy pods [EXP] [OTH] . [OTH] [REP] deploy two apps in two different subsets setup routing weights like 50 50 define readinessprobe with initialdelayseconds 60 in one application isto will route traffic to this unhealthy node with no healthy upstreams error also istio routes traffic to terminating pods [REP],Healthchecks do not work with weighted subsets
[DES] . [DES] [EXP] traffic should pass through more precisely it should use the plaintex filter chain and then get tls terminated at  [EXP] [OTH] . [OTH] [REP] 1 following this url to install tls service nginx 1 enable mtls permissive cat eof kubectl apply f kind meshpolicy [REP],mTLS PERMISSIVE + plaintext DR cause trouble with TLS traffic
[DES] . [DES] [EXP] i get a response from the service in clusterb accessing through the mcgateway on that same cluster [EXP] [OTH] . [OTH] [REP] install these resources in clustera apiversion v1 kind namespace metadata name testing labels istio injection enab [REP],"Pod cannot reach a service in another cluster through mcgateway, HTTP 503 error"
[DES] . [DES] [EXP] expected the test to pass successfully or at least not fail on code internals [EXP] [OTH] . [OTH] [REP] provide an integration scenario with an error block example json adapterstate null returns check status validduration 0 validusecount 0 quota null error code 2 message 1 error occurred t rpc error code unknown desc report has not been successful [REP],Integration test framework - unmarshal error
[DES] . [DES] [EXP] when using export the kubernetes generated elements should be completely omitted [EXP] [OTH] . [OTH] [REP] perform kubectl get o yaml export name on an istio custom resource [REP],`kubectl get -o=yaml --export` gives empty elements on istio resources
[DES] . [DES] [EXP] i m expecting for the requests to be routed to a different version based on the weight specified against each version when the url is invoked i see the following error upstream connect error or disconnect reset before headers [EXP] [OTH] . [OTH] [REP] install istio version kubectl apply f url n namespace with istio injection enabled [REP],issue with weight based traffic routing
[DES] . [DES] [EXP] cors header should be responsed [EXP] [OTH] . [OTH] [REP] apiversion networking istio io v1alpha3 kind gateway metadata name httpbin gateway spec selector istio ingressgate [REP],no cors header response after define cors policy in vs?
[DES] . [DES] [EXP] session affinity to apply on top of weighted subsets so user will randomly be sent to a version based on the assig [EXP] [OTH] . [OTH] [REP] apiversion networking istio io v1alpha3 kind destinationrule metadata name hello world namespace hdngo spec host h [REP],Session affinity doesn't seem to apply to weighted subsets - Envoy support required
[DES] . [DES] [EXP] external endpoints should be reachable from the pod our application connects to the following type of external end [EXP] [OTH] . [OTH] [REP] enable namespace with istion injection as kubectl label namespace mynamespace istio injection enable overwrite kub [REP],Once istio injection enabled POD not able to connect external endpoints
[DES] . [DES] [EXP] i have my out of process adapter running and i expected the server to send the report call request to my out of pr [EXP] [OTH] . [OTH] [REP] 1 follow the mixer out of process adapter walkthrough steps 2 run my grpc adapter as follows go run cmd main go 3  [REP],Unable to send an istio log entry request using mixc
[DES] . [DES] [EXP] pilot receive signal from terminating pod s sidecar and delete it s endpoint record [EXP] [OTH] . [OTH] [REP] kubectl delete pod stg test backend stable 5np9b and use istioctl pc endpoint on other pods those pods still shows the endpoint of deleted pod [REP],Pilot fails to delete endpoint record when killing pod or rolling update
[DES] . [DES] [EXP] no warning from helm and kubectl get svc istio ingressgateway namespace istio system o yaml containing configured loadbalancersourceranges [EXP] [OTH] . [OTH] [REP] wget url tar zxf istio istio version linux tar gz cd istio istio version wget url patch p1 no backup if mismatch 7744 patch then configure loadbalancersourceranges in a custom values yaml for ingressgateway and install [REP],loadBalancerSourceRanges in helm chart does not work
[DES] . [DES] [EXP] all requests should be delayed by 15 seconds [EXP] [OTH] . [OTH] [REP] and repo for the files url 1 install istio and enable auto injection helm template install kubernetes helm istio n [REP],VirtualServices don't affect Istio Service to Service calls
[DES] . [DES] [EXP] pilot should be able to handle large number of services without [EXP] [OTH] . [OTH] [REP] deploy 100 to 200 services with sidecars once all of them are running have a script that deploy and delete continuously another service control monitor the cpu usage on pilot and the long time it takes for the control service to deploy [REP],Need to optimize Pilot performance to handle large number of services
[DES] . [DES] [EXP] all endpoints to be up for envoy stats target querying prometheus to return envoy mongo outbound 27017 my mongodb collection my collection query total metrics [EXP] [OTH] . [OTH] [REP] install istio version create a serviceentry for a mongodb instances with protocol mongo create a service that connects to that mongo open prometheus interface [REP],Envoy-stats target endpoint down in prometheus with istio 1.0.3
[DES] . [DES] [EXP] we would expect that the sidecar ignores the missing certificates as it doesn t need them this seems to be the behavior in version or some method to specify the gateway where destination rule should be active [EXP] [OTH] . [OTH] [REP] create a secret with the required name for egress certificates deploy a destination rule like in the example above start a pod with a sidecar [REP],Sidecar doesn't start since certificates are missing on the sidecar pod.
[DES] . [DES] [EXP] use servicemeta instead of nodemeta to convey the protocol and other service properties servicemeta has been supported by consul at this commit url diff [EXP] [OTH] . [OTH] [REP] when istio work with consul we just can t register multiple services of different protocols in the same node [REP],ServiceMeta should be used instead of NodeMeta for Consul registry
[DES] . [DES] [EXP] the typical mixer e2e test completes within 30 90s mainly based on a prometheus related sleep time meant to proactively prevent flakiness the two testredisquota tests should finish in that timeframe that would save 12m of testing time [EXP] [OTH] . [OTH] [REP] run the e2e tests in mixer test go in circleci [REP],Mixer-related RedisQuota e2e tests take excessively long time to run
[DES] . [DES] [EXP] be able to create a deployment [EXP] [OTH] . [OTH] [REP] 1 deploy url 2 deployment will fail when pulling the image as it s no longer there [REP],"tutum/curl in ""Sleep"" sample no longer exists"
[DES] . [DES] [EXP] if the bag of attributes that form the cache key is different the cache should miss in the example above no cache  [EXP] [OTH] . [OTH] [REP] i m copying below my rule and instance besides i ve added a piece of the mixer log with full debug enabled which d [REP],Unexpected hit in Mixer ServerSide CheckCache
[DES] . [DES] [EXP] the x forwarded proto header should be x forwarded proto https [EXP] [OTH] . [OTH] [REP] first case with removerequestheaders and appendrequestheaders apiversion networking istio io v1alpha3 kind virtual [REP],X-Forwarded headers behavior with remove and append request headers features
[DES] . [DES] [EXP] if it so happened that istio must have diffenent port names to differentiate https gateways it should not expect t [EXP] [OTH] . [OTH] [REP] create gateway like this apiversion networking istio io v1alpha3 kind gateway metadata name server service1 stage  [REP],"Istio gateway logging a lot if no ""https"" port exists for any gateway"
[DES] . [DES] [EXP] maybe the destination rule can separate the service entry by endpoint labels [EXP] [OTH] . [OTH] [REP] apiversion networking istio io v1alpha3 kind serviceentry metadata name se app ext spec hosts app eastus aksapp io [REP],Service entry endpoint labels don't have effect after create the destination rule subsets.
[DES] . [DES] [EXP] helm template to build the full yaml that i can use to apply via kubectl or oc [EXP] [OTH] . [OTH] [REP] download version snapshot 2 and run helm template with the demo values yaml helm template values install kubernete [REP],cannot run helm template with demos value yaml
[DES] . [DES] [EXP] shouldn t have affected the default namespace [EXP] [OTH] . [OTH] [REP] 1 have a kubernetes cluster up and running 2 execute helm template install kubernetes helm istio name istio set gl [REP],Pods land in Kube-System with auto injection and istioctl not being in the Path
[DES] . [DES] [EXP] an example configuration should be complete if for some reason an example configuration can not be copied and past [EXP] [OTH] . [OTH] [REP] 1 follow configuring http and https external services example url configuring http and https external services cat [REP],An example of `ServiceEntry` for `*.cnn.com` is misleading (or incomplete)
[DES] . [DES] [EXP] a serviceentry for cnn com should open access only to cnn com [EXP] [OTH] . [OTH] [REP] 1 follow configuring http and https external services example url configuring http and https external services cat [REP],"A `ServiceEntry` for `*.cnn.com` opens access to any external service, such as `https://www.google.com` or `https://www.bing.com`"
[DES] . [DES] [EXP] network should be available when my program starts executing [EXP] [OTH] . [OTH] [REP] i don t have a minimal repro at the moment but i could spend a few hours to get one if the problem is not clear unreproducible we ended up adding retries to such network calls at the beginning of the programs in url repository because of this this is noticable [REP],Network not available first milliseconds of the pod
[DES] . [DES] [EXP] if the helm folder is included in release assets it should include all the files needed to install via the helm chart [EXP] [OTH] . [OTH] [REP] go to releases tab download version snapshot 1 or version linux osx tar gz files unzip and observe there is no install kubernetes helm istio charts grafana dashboards folder [REP],Release Assets do not include grafana dashboards
[DES] . [DES] [EXP] passing a header of authorization when the instance config is set to collect a header of authorization should work since http is case insensitive either authorization or authorization should be acceptable in the config [EXP] [OTH] . [OTH] [REP] see describe the bug [REP],Mixer should change headers to lowercase when processing adapter configs
[DES] . [DES] [EXP] we expect to have the requests routed to the service or a way to find if there is something missing in the configuration [EXP] [OTH] . [OTH] [REP] install another ingress gateway using helm deploy 2 services and expose it using a gateway with tls on port 443 use a browser to access the services [REP],404 NR when using browser on multiple ingress gateways
[DES] . [DES] [EXP] bookinfo pods running [EXP] [OTH] . [OTH] [REP] install with template generated by helm template install kubernetes helm istio name istio namespace istio system set mixer enabled false set global nodeport false set ingress enabled false set prometheus enabled true grafana enabled true tracing true servicegraph true galley istio mixere off yaml [REP],sample bookinfo doesn't work after turn off mixer
[DES] . [DES] [EXP] check go version would not be by passed [EXP] [OTH] . [OTH] [REP] install golang version through yum install download and unpack golang version to usr local bin go modify makefile  [REP],check-go-version by passed because file
[DES] . [DES] [EXP] build should not be break on master branch [EXP] [OTH] . [OTH] [REP] checkout latest code at commit 7dc254 url in master branch then bulid with this command make debu 1 verbose 1 [REP],Build on master branch break at commit 7dc254 add istioctl validate command
[DES] . [DES] [EXP] istio dev wiki need to modify golang version to version or higher better to version or higher [EXP] [OTH] . [OTH] [REP] check out latest code in master branch cd istio dir try make [REP],strings.Builder while building client-go -- golang 1.10 or higher is required
[DES] . [DES] [EXP] i should be able to send an email via the mailjet smtp if i run my application outside of the cluster it works fin [EXP] [OTH] . [OTH] [REP] install istio with sidecar injector add config to allow connections to mailjet smtp apiversion networking istio io [REP],Configuring Egress to allow connections to external SMTP servers
[DES] . [DES] [EXP] build instruction would mention that this does not work in centos 7 x and it would be better to fetch an envoy binary which works in centos 7 x in istio s makefile glibc includes in centos 7 is version [EXP] [OTH] . [OTH] [REP] build mix in centos 7 x cd root go src istio io istio make [REP],Build mix from source hit 'GLIBC_2.18' not found in envoy
[DES] . [DES] [EXP] an istio policy pod restarting should not prevent connectivity to cluster services [EXP] [OTH] . [OTH] [REP] 1 run a handful of pods with health checks or be ready to simulate traffic 2 monitor the event log kubectl get events w 3 delete an istio policy pod 4 observe that some requests to the cluster fail [REP],Outage on Istio upgrades or host upgrades
[DES] . [DES] [EXP] success same as no istio injected [EXP] [OTH] . [OTH] [REP] unlabel istio injection connect grpc server succeed labled istio injection enanled restart grpc server connect raise the error [REP],NodePort GRPC failed after inject istio
[DES] . [DES] [EXP] not entirely sure but it seems like 500 is incorrect there wasn t any internal server error the client disconnecte [EXP] [OTH] . [OTH] [REP] disconnect before upstream can deliver result causing proxy to create log entry with a format like get http versio [REP],Downstream disconnects reported as status 500
[DES] . [DES] [EXP] unresponsive oop adapters should eventually time out [EXP] [OTH] . [OTH] [REP] create an oop adapter and add a sleep to the processing function say 20 minutes i used an authorization check adapter start mixs and connect it to this adapter send a request with mixc to trigger the function and observe that the function does not come back until the timeout has finished [REP],Mixer OOP GRPC Requests Should Have Deadlines
[DES] . [DES] [EXP] i would expect these resources to be really namespace bound so it s possible to isolate applications into namespaces [EXP] [OTH] . [OTH] [REP] follow the steps in this manual url direct https traffic through an egress gateway even when you deploy these resources in a separate namespace you are still able to curl cnn com [REP],"ServiceEntry, Gateway, DestinationRule, Virtualservice all clusterwide in stead of namespaced?"
[DES] . [DES] [EXP] what are the rules for defining port numbers to the applications can port 8080 be served by different services if they have type clusterip need more documentation explaining this in url in the documentation they mention only about if a pod belongs to multiple k8s services no mention if different pods with services have same ports [EXP] [OTH] . [OTH] [REP] run several applications where different services are listening on port 8080 and port 80 443 service type is clusterip [REP],Pilot discover conflict logs and port conflicts
[DES] . [DES] [EXP] the process should propagate the logging options to the go routines server runserver and validation runvalidation [EXP] [OTH] . [OTH] [REP] 1 deploy istio with galley 2 edit the deployment to include log output level default debug command line argument 3 look at the logs from the galley pod and see that the logging options being used are still default values [REP],Galley ignores logging arguments from the command line
[DES] . [DES] [EXP] if the success rate is truly 100 some updates shouldn t show something under that if the success rate does dip it shouldn t recover to 100 within the next 5 second update i believe the monitored window is 15 minutes right [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior [REP],Grafana Mesh Dashboard flashes sub-100% success rate occasionally for multiple services
[DES] . [DES] [EXP] we should see traces for both http https calls to container [EXP] [OTH] . [OTH] [REP] create nginx config url create nginx deployment kubectl apply f istioctl kube inject f nginx yaml curl kv url gives 200 no traces in jaeger for https [REP],Istio not reporting https traces to jaeger
[DES] . [DES] [EXP] i exptected to see instancemsg s for tcpsentbytes and tcpreceivedbytes in the adapter when the match parameter was destination service as described in the guide [EXP] [OTH] . [OTH] [REP] follow instructions from wavefront adapter for istio url and the tcp metrics url page and use the above rule configuration [REP],Rule match on destination.service doesn't work with OOT adapter
[DES] . [DES] [EXP] istio pods are in ready status [EXP] [OTH] . [OTH] [REP] 1 install docker ce on three vmware machines centos version minimal 2 install k8s using kubeadm on those vm machines they are ha clusters each of them work as master node and work node 3 install istio kubectl create f install kubernetes istio demo yaml 4 check pods status kubectl get pods owide all namespaces [REP],Status of istio pods are Pending after installation
[DES] . [DES] [EXP] disabling mixer has no negative side effects [EXP] [OTH] . [OTH] [REP] 1 generate istio installation using the following values much of this is unrelated but it s what i tested with global enabletracing false proxy disable mixer logging every request accesslogfile only send internal requests through the mesh includeipranges version 10 mixer enabled false 2 install istio using the generated yaml 3 observe the istio system pods for 10 15 minutes and see that ingress egress crash [REP],Disabling mixer with Helm template causes ingress/egress pods to crash
[DES] . [DES] [EXP] be able to pass this property to the load balancer creation through helm [EXP] [OTH] . [OTH] [REP] download istio url version edit the file values yaml in install kubernetes helm istio adding the following annotat [REP],Failed to add serviceAnnotations in values.yaml
[DES] . [DES] [EXP] the ability to send an envelope to mcp that results in a config with type policy [EXP] [OTH] . [OTH] [REP] 1 set up a mcp server 2 send an envelope to mcp containing encoded authentication policy objects with typeurl type googleapis com istio authentication v1alpha1 policy 3 when curl ing debug configz you will see a config of type mesh policy [REP],"No way to create config with type ""policy"" using MCP"
[DES] . [DES] [EXP] curl url via legacy ingress and get http 200 ok [EXP] [OTH] . [OTH] [REP] the following service ingress results in a http 404 yaml apiversion extensions v1beta1 kind ingress metadata name  [REP],Legacy ingress 404's with named servicePort
[DES] . [DES] [EXP] as soon as service b restarted service a should be able to connect to it again and the health checks should be successful again [EXP] [OTH] . [OTH] [REP] reproduce the setup in the bug description [REP],Istio fails to reconnect to pod that doesn't have a istio sidecar
[DES] . [DES] [EXP] no error should be highlighted [EXP] [OTH] . [OTH] [REP] helm template istio namespace istio system set grafana enabled true set kiali enabled true set telemetry gateway grafanaenabled true gateway yaml kubectl create ns istio syswtem kubectl create f grafnaa yaml n istio system [REP],Kiali reports problem with virtual services
[DES] . [DES] [EXP] running istio does not significantly increase the failure rate of liveness probes [EXP] [OTH] . [OTH] [REP] sorry i m not entirely sure what the cause is to trigger it here i can say i have over 500 pods in the environment and they don t have issues without istio [REP],Readiness and Liveness probes causing connection failures across the board without mTLS
[DES] . [DES] [EXP] while the requirement for http prefix is touched upon here url this requirement is not obvious in other parts of d [EXP] [OTH] . [OTH] [REP] remove http prefix from a regular service definition example does not work apiversion v1 kind service metadata nam [REP],Services with named ports inaccessible in istio-1.0.2
[DES] . [DES] [EXP] link would take you to the guide for creating a custom template [EXP] [OTH] . [OTH] [REP] go to url click on create your own templates and observe the issue [REP],Wiki Link Broken on Mixer Out Of Process Adapter Dev Guide
[DES] . [DES] [EXP] node should request successfully other nodes and itself using addresses like mynamespace pod cluster local what allow it to form cluster properly [EXP] [OTH] . [OTH] [REP] above i pasted manifest with example configuration [REP],Inter pod communication using addresses
[DES] . [DES] [EXP] the test should either use a never expired cookie or have a mechanism to update the cookie dynamically each time running the test [EXP] [OTH] . [OTH] [REP] n a assign krancour cc hklai rshriram [REP],Fix the user cookie in bookinfo test that expires monthly
[DES] . [DES] [EXP] the merge bot should only merge a pr when it passes all required tests by rebasing it against the latest master before merging [EXP] [OTH] . [OTH] [REP] i think i have seen this before but the latest example is 8606 [REP],merge bot apparently did not rebase when running tests before merge
[DES] . [DES] [EXP] the citadel server sets the cipher preference in the tls handshake [EXP] [OTH] . [OTH] [REP] install istio with control plane auth enabled initiate a tls connection to citadel port 8060 the tls handshake indicates that the cipher preference is chosen by client [REP],Citadel server doesn't set cipher preference in TLS handshake (defers to client)
[DES] . [DES] [EXP] consistently 200 status should be returned [EXP] [OTH] . [OTH] [REP] apply the scenario virtual service at ingress gateway with destination to external host service entry for egress https destinationrule for tls origination [REP],ingressgateway to serviceentry gets intermittent 503s
[DES] . [DES] [EXP] ingressgateway continues to function after applying mtls rules perhaps ingressgateway needs some special config [EXP] [OTH] . [OTH] [REP] 1 deploying this template helm template namespace istio system set global true set global meshexpansion true insta [REP],Following the global MTLS guide causes ingressgateway not to work properly
[DES] . [DES] [EXP] the service mesh should not become unavailable in a scenario where a machine in a cluster goes down which is pretty common at scale [EXP] [OTH] . [OTH] [REP] terminate a machine in a k8s cluster running istio [REP],Requests failing for 60-100 seconds when one of the cluster's machines is terminated
[DES] . [DES] [EXP] sample application bookinfo sock shop microservices should show up in the ui [EXP] [OTH] . [OTH] [REP] neither of the application services show up kubectl apply f istioctl kube inject f samples bookinfo platform kube bookinfo yaml istioctl kube inject f complete demo yaml kubectl apply f [REP],istio tracing Jaeger UI not showing any services/traces
[DES] . [DES] [EXP] istio hpa pilot should be in the istio system namespace [EXP] [OTH] . [OTH] [REP] install istio using helm with namespace istio system and execute kubectl get hpa all namespaces [REP],Istio Pilot HPA created in default namespace
[DES] . [DES] [EXP] i would expect the egressgateway to be working [EXP] [OTH] . [OTH] [REP] install istio see installation step install egress gateway seperately follow the examples from url in those examples where references to the gateway in istio system were they ware replaced with istio egressgateway [REP],Unable to get egressgateway working in seperate namespace
[DES] . [DES] [EXP] the ejected member to remain excluded for at least baseejectiontime or a multiple of it [EXP] [OTH] . [OTH] [REP] 1 create a serviceentry for an external service resolution dns multiple endponts i have 3 one of which always retu [REP],Envoy DNS resolution appears to reset circuit breaking
[DES] . [DES] [EXP] once mtls is turned on on mesh level the mentioned tests should result in 503 response code and once destinationrule is added all should work again [EXP] [OTH] . [OTH] [REP] follow steps on official doc page url [REP],Authentication Policy examples fail when turning on mTLS
[DES] . [DES] [EXP] able to route to containers in namespaces other than default [EXP] [OTH] . [OTH] [REP] kubectl port forward service grav service 8080 8080 n default kubectl port forward service grav service 8080 8080  [REP],Istio routes only work with default namespace
[DES] . [DES] [EXP] requests using pod ip route to the specified pod [EXP] [OTH] . [OTH] [REP] create a deployment with 2 istio proxy injected pods kubectl get pods o wide to get the pod ips curl on any pod ip from inside another pod [REP],404 on request to Pod IP
[DES] . [DES] [EXP] the envoy filters work properly with helm installation [EXP] [OTH] . [OTH] [REP] 1 install istio version as described in docs url option 2 install with helm and tiller via helm install 2 create any deployment and envoy filter like the one above 3 check whether envoyfilter s functions are applied to the traffic [REP],EnvoyFilters sometimes do not work with Helm installation
[DES] . [DES] [EXP] i should be able to create virtual services as documented [EXP] [OTH] . [OTH] [REP] 1 install istio and enable mutual tls kubectl apply f install kubernetes istio demo auth yaml 2 deploy bookinfo app as described here url 3 it may succeed for the first time but will never work again after a while i reproduced this on two of my azure aks cluster [REP],"Can't create virtual service, 504 Gateway Timeout?"
[DES] . [DES] [EXP] because the mixer needs to deal with data so the istio without mixer performance test result should be better than [EXP] [OTH] . [OTH] [REP] environment ubuntu version ibmprivatecloud jmeter version istio version from url but this chart is using istio ver [REP],the istio with mixer test result is better than the istio without mixer
[DES] . [DES] [EXP] what did you expect to happen [EXP] [OTH] . [OTH] [REP] kubectl apply f istio version install kubernetes helm istio templates crds yaml kubectl apply f install kubernetes [REP],"zipkin service not access, response HTTP 404"
[DES] . [DES] [EXP] when a remote cluster is removed from the cluster registry the associated services and endpoints from that cluster should also be deleted [EXP] [OTH] . [OTH] [REP] deploy a multicluster scenario deploy services and endpoints on the remote then delete the remote cluster check that the cds eds and ads in pilot to check for full removal of remote cluster resources [REP],"Pilot EDS, ADS, CDS not updated when remote cluster removed"
[DES] . [DES] [EXP] what did you expect to happen pilot push rule to envoy successed [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior 1 deploy my app dc 1 2 create svc dc 3 create virtualservice dc 4 create destinationrule dc [REP],virtualservice and a destinationrule not pushed to envoy
[DES] . [DES] [EXP] can be successfully installed [EXP] [OTH] . [OTH] [REP] execute the following command 3 of which do not start properly 1 kubectl apply f install kubernetes helm istio templates crds yaml 2 kubectl apply f install kubernetes helm istio charts certmanager templates crds yaml 3 helm install install kubernetes helm istio name istio namespace system [REP],could not watch no space left on device
[DES] . [DES] [EXP] helm installation with tiller should work and install istio components under the istio system namespace [EXP] [OTH] . [OTH] [REP] follow the instructions here url option 2 install with helm and tiller via helm install when you run helm install install kubernetes helm istio name istio namespace istio system error apiversion networking istio io v1alpha3 in charts mixer templates config yaml is not available [REP],Helm installation with Tiller is broken for istio-1.0.0 and istio-1.0.1
[DES] . [DES] [EXP] if the token s scopes are in the form of an array there should still be a way to validate these scopes using reque [EXP] [OTH] . [OTH] [REP] 1 enable mtls istio auth yaml on app similar to bookinfo 1 enable jwt policy 1 configure a servicebindingrole with [REP],does not allow a JWT an array of scopes
[DES] . [DES] [EXP] should the service entries bound to only defined kubernetes namespace since we may have applications connect to th [EXP] [OTH] . [OTH] [REP] try adding the following service entries then try connect to those host with the keep alive connection around 20 m [REP],ServiceEntries in Kubernetes Cluster are shared between namespace.
[DES] . [DES] [EXP] authenticate the token when using curl command with token set to my keycloak access token curl v h host http1 example com h authorization bearer token url [EXP] [OTH] . [OTH] [REP] setup keycloak realm create client test and point istio to that keycloak apiversion authentication istio io v1alpha1 kind policy metadata annotations name jwt example spec origins jwt issuer url jwksuri url audiences test principalbinding use origin targets name httpbin peers mtls mode strict [REP],JWT Authentication not working in 1.0.1 with KeyCloak OpenID provider
[DES] . [DES] [EXP] grafana pod should be in running state [EXP] [OTH] . [OTH] [REP] following helm installation via template option 1 helm template install kubernetes helm istio name istio namespace istio system set grafana enabled true set grafana security enabled true set grafana security adminuser admin set grafana security adminpassword password istio yaml [REP],Grafana pod because secret created in default namespace
[DES] . [DES] [EXP] all istio deployment components when installed will give the pods they create manage proper app and version labels [EXP] [OTH] . [OTH] [REP] install istio version look at the istio deployments in the istio system namespace look at the template metadata la [REP],Istio deployment template metadata labels should have version
[DES] . [DES] [EXP] gdb works at the very least when using proxy debug image [EXP] [OTH] . [OTH] [REP] kubectl exec it pod c istio proxy bin bash gdb p pgrep envoy usr local bin envoy [REP],GDB doesn't work due to missing capabilities in the container.
[DES] . [DES] [EXP] metrics depending on request duration should work like any other metrics [EXP] [OTH] . [OTH] [REP] use the following instance configuration yaml apiversion config istio io v1alpha2 kind instance metadata name requ [REP],DURATION is not supported by metric template
[DES] . [DES] [EXP] it should always use apiserver in kubeconfig and not default [EXP] [OTH] . [OTH] [REP] deploy minikube with kubernetes version and install istio version in cluster write any go main method and create i [REP],"Istio 1.0 always take default value ""http://localhost:8080"" without using value from kubeconfig in minikube"
[DES] . [DES] [EXP] as per the protobuf documentation url l92 l100 it should be possible to translate the field from a string [EXP] [OTH] . [OTH] [REP] follow the out of process adapter guide url and include a google protobuf duration field in the configuration the  [REP],Error in translating google.protobuf.Duration in mixer adapter config
[DES] . [DES] [EXP] if the token has all the scopes the property value asks for it should pass even if the token has additional scopes [EXP] [OTH] . [OTH] [REP] 1 enable mtls istio auth yaml on app similar to bookinfo 1 enable jwt policy 1 configure a servicebindingrole with [REP],does not allow a JWT with additional scopes
[DES] . [DES] [EXP] able to install kiali dash through ansible [EXP] [OTH] . [OTH] [REP] macos minishift with openshift version version release of istio ansible playbook main yml e istio addon kiali [REP],"envsubst is not default avail on macOS, kiali playbook failing"
[DES] . [DES] [EXP] istio to deploy successfully with supplied yaml files and passing correct command line options to any containers that it deploys [EXP] [OTH] . [OTH] [REP] from the version lts release download kubectl apply f install kubernetes istio demo auth yaml [REP],0.8.0 LTS deploys image that introduced breaking change in 0.7.0
[DES] . [DES] [EXP] istio galley runs without any problems [EXP] [OTH] . [OTH] [REP] in the quick setup guide for kubernetes in install kubernetes istio demo yaml remove the webhook config file option [REP],Galley validator crashes for default webhook-config-file
[DES] . [DES] [EXP] ut should have no influence for host environment [EXP] [OTH] . [OTH] [REP] 1 run unit test go test mixer pkg server run testerrors v 2 run again and got err go test mixer pkg server run testerrors v [REP],mixer/pkg/server TestErrors case result in host system err
[DES] . [DES] [EXP] i would expect the gateway istio autogenerated k8s ingress to have a selector that matches the labels of the istio [EXP] [OTH] . [OTH] [REP] curl l url sh export path path tmp istio version bin cd istio version helm template install kubernetes helm istio  [REP],1.0.x gateway uses 0.8 ingress selector
[DES] . [DES] [EXP] the error message should be error validation error subset name is invalid foo bar [EXP] [OTH] . [OTH] [REP] istioctl create f foo yaml eof apiversion networking istio io v1alpha3 kind destinationrule metadata name my service namespace default spec host my service subsets labels version major minor name major minor eof [REP],DestinationRule subset.name and VirtualService subset validation error typo
[DES] . [DES] [EXP] i expect that traffic to the istioprovider dev tcp ext 3306 is reliably forwarded to the external address the outp [EXP] [OTH] . [OTH] [REP] i created a configuration with this kubernetes service yaml apiversion v1 kind service metadata creationtimestamp  [REP],ServiceEntry with resolution DNS sometimes mapped to cluster of type EDS
[DES] . [DES] [EXP] what did you expect to happen when reinstalling the chart it would still work [EXP] [OTH] . [OTH] [REP] minimal steps to reproduce the behavior install the istio chart using branch release version [REP],"When tagging a release, don't have daily release build in helm"
[DES] . [DES] [EXP] no k8s pod should be in pending state [EXP] [OTH] . [OTH] [REP] run istio s e2e tests a few times like 5 10 times make e2e simple e2e args auth enable use local cluster istioctl  [REP],"k8s pods stuck in ""Pending"" state after installing istio"
[DES] . [DES] [EXP] rule match to work and policy to be applied [EXP] [OTH] . [OTH] [REP] apiversion config istio io v1alpha2 kind authorization metadata name opa bookinfo productpage instance namespace i [REP],"input set condition evaluation error: id='4', error='lookup failed:"
[DES] . [DES] [EXP] jaeger can record full call chain [EXP] [OTH] . [OTH] [REP] 1 download emojivoto yaml 3 1 modify yaml file add istio injection enabled to emojivoto namespace 1 kubectl apply f emojivoto yaml 1 wait a few minutes open jaeger to see traces [REP],Jaeger doesn't record the full call chain
[DES] . [DES] [EXP] dump script should work as expected on ubuntu [EXP] [OTH] . [OTH] [REP] curl url sh s z total received xferd average speed time time time current dload upload total spent left speed 100 7573 100 7573 0 0 70294 0 70775 sh 143 syntax error unexpected expecting echo shell bin bash [REP],Dump script to produce archive fails on Ubuntu
[DES] . [DES] [EXP] if e2e simple tests fail all the test pods should be properly deleted [EXP] [OTH] . [OTH] [REP] run the following commands few times 5 10 times make e2e simple e2e args auth enable use local cluster istioctl usr local bin istioctl then run kubectl get pods kubectl get pods name ready status restarts age aysu45 0 1 terminating 0 5d curl c116y4 0 1 terminating 0 5d curl n1oa1e 1 terminating 5d hostnetwork zwf07n 1 terminating 5d npn5se nprwlx pnf0hz [REP],"Pods stuck in ""Terminating"" state after e2e_simple tests fail"
[DES] . [DES] [EXP] everything should work correctly with transparent proxy mode configured [EXP] [OTH] . [OTH] [REP] change the env in istio demo yaml deploy istio demo yaml that s it [REP],Port 15001 not opened when trying to use TPROXY mode
[DES] . [DES] [EXP] the correct result should be x foo foo bar [EXP] [OTH] . [OTH] [REP] 1 deploy echo server using this yaml 1 1 curl h x foo foo url 1 observe the result x foo table [REP],HTTPRoute `appendHeaders` got wrong result if that header already exists in request headers.
[DES] . [DES] [EXP] sub sup the bookinfo application should work fine with mixer disabled sup sub [EXP] [OTH] . [OTH] [REP] sub sup 1 install istio with mixer diabled image url in the istio system namespace all the istio components are ru [REP],BookInfo Application example not working with mixer disabled
[DES] . [DES] [EXP] istio give x forwarded proto https [EXP] [OTH] . [OTH] [REP] 1 deploy a nginx with ssl termination on a domain change your domain name config file 1 1 deploy an echo server ap [REP],Istio give `x-forwarded-proto=http` to upstream server when using SSL termination
[DES] . [DES] [EXP] trace can be caught if request is from k8s nginx ingress [EXP] [OTH] . [OTH] [REP] 1 install istio following this guide installation with helm 1 option 2 1 deploy a demo app yaml file 2 note change the your domain name 1 open a browser and visit url domain name echo server istio you can see tracing headers are added open jaeger and no tracing of echo server can be found [REP],Tracing is not caught if traffic is from k8s nginx ingress
[DES] . [DES] [EXP] sub sup a clear and concise description of what you expected to happen sup sub [EXP] [OTH] . [OTH] [REP] sub sup steps to reproduce the behavior sup sub [REP],Update grafana to its latest version
[DES] . [DES] [EXP] memory consumption should be independent on the number of services configured in the cluster and only depend on the number of services that are related to the local pod [EXP] [OTH] . [OTH] [REP] create many serviceentries and virtualservices and check the output of ps a o rss cmd in the proxy [REP],High memory utilization of istio-proxy proportional to number of services
[DES] . [DES] [EXP] ingress gateway proxy show its running and communicating to the pilot [EXP] [OTH] . [OTH] [REP] follow article and create ingress gateway and sample application with nodeport url istioctl proxy config clusters n istio system istio ingressgateway gpgw7 service fqdn port subset direction type xds grpc strict dns zipkin strict dns [REP],ingress gateway proxy not communicating to pilot
[DES] . [DES] [EXP] sub sup istio should route trafic based on prefix separarion example url and url [EXP] [OTH] . [OTH] [REP] sub sup on prem k8s with istio version sup sub [REP],Path based routing is not working with Istio 1.0
[DES] . [DES] [EXP] sub sup a clear and concise description of what you expected to happen sup sub the value of the enable core dump container s image attribute in the istio sidecar injector configmap should respect any custom value of global proxy init image [EXP] [OTH] . [OTH] [REP] sub sup steps to reproduce the behavior sup sub change global proxy init image and observe the enable core dump container s image value [REP],Custom proxy init image for sidecar-injector enable-core-dump container
[DES] . [DES] [EXP] start pods successfully [EXP] [OTH] . [OTH] [REP] 1 setup eks by this guide url 2 kubectl apply f install kubernetes helm istio templates crds yaml 3 kubectl create [REP],Failed to start bookinfo application in eks
[DES] . [DES] [EXP] i would expect if i increase the replicacount to be able to access the same data from every prometheus pod [EXP] [OTH] . [OTH] [REP] install the helm chart with prometheus grafana enabled and set the replicacount of prometheus to something large like 10 [REP],May not be able to view metrics when sharding prometheus
[DES] . [DES] [EXP] sub sup a clear and concise description of what you expected to happen sup sub the istio sidecar injector configma [EXP] [OTH] . [OTH] [REP] sub sup steps to reproduce the behavior sup sub run console helm install kubeconfig kubeconfig name istio namespac [REP],istio-sidecar-injector ConfigMap not created if
[DES] . [DES] [EXP] sub sup a clear and concise description of what you expected to happen sup sub the grpc request will be ok with ku [EXP] [OTH] . [OTH] [REP] sub sup steps to reproduce the behavior sup sub edit the pilot deployment as blew thus can use consul registry on  [REP],"grpc request error:""upstream connect error or disconnect/reset before headers"" when using kubernetes and consul registry"
[DES] . [DES] [EXP] host networking supported for gateways it just seemed like a waste to use ingress or service loadbalancer to get to my gateway so i d like to deploy in host network i can try host ports but that means each time a port is changed i have redploy the gateway [EXP] [OTH] . [OTH] [REP] set hostnetwork true on the gateway pod [REP],Router instance can not run in host network
[DES] . [DES] [EXP] sub sup a clear and concise description of what you expected to happen sup sub changing global proxy image for the helm chart should change all occurrences of the image name [EXP] [OTH] . [OTH] [REP] sub sup steps to reproduce the behavior sup sub change global proxy image and observe the container image values [REP],"Custom proxy image for ingress, gateways, pilot and mixer"
[DES] . [DES] [EXP] sub sup a clear and concise description of what you expected to happen sup sub it should create the resources [EXP] [OTH] . [OTH] [REP] sub sup steps to reproduce the behavior sup sub install istio version on eks and follow the bookinfo tutorial creating the deployments and manual sidecar injection works but creating the custom istio resources fails [REP],Timeouts when creating istio custom resources on eks (bookinfo specifically)
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen i think it should show more datapoints [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior [REP],istio service dashboard not showing a lot of data -> N/A
[DES] . [DES] [EXP] every request should be evaluated and if they do not match it should response with 404 [EXP] [OTH] . [OTH] [REP] 1 install bookinginfo sample from istio 2 create an adapter with no cache apiversion config istio io v1alpha2 kind [REP],Whitelist with no cache is not evaluating on every request
[DES] . [DES] [EXP] pilot should resync [EXP] [OTH] . [OTH] [REP] create a gateway listening on port 80 but have the envoy gateway run on a server that has port 80 already taken [REP],Listener doesn't retry if port is taken on host
[DES] . [DES] [EXP] on the productpage of the bookinfo app log in as user jason refresh the browser what do you see the star ratings appear next to each review [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior follow the instructions exactly as described in the istio documentation setup istio by following the instructions in installation guide deploy bookinfo sample application configure request routing [REP],"""end-user"" based routing not working with istio-1.0.0 for bookinfo application"
[DES] . [DES] [EXP] ingress controller pod should be installed on specific node [EXP] [OTH] . [OTH] [REP] add affinity rules to values yaml file under ingress configuration affinity podantiaffinity labelselector matchexpressions key k8s app operator in values ingress topologykey kubernetes io hostname nodeselector kubernetes dcos io node type public tolerations key node type kubernetes dcos io public operator exists effect noschedule [REP],add affinity to the ingress controller
[DES] . [DES] [EXP] delete old istio installation install new istio installation [EXP] [OTH] . [OTH] [REP] download latest release execute the following command ansible playbook main yml e istio auth false delete resources true on install kurbenetes ansible [REP],Delete Resources is been running after the installing
[DES] . [DES] [EXP] page should loaded via ingress gateway [EXP] [OTH] . [OTH] [REP] deployed bookinfo sample app kubectl label namespace default istio injection enabled kubectl apply f samples booki [REP],Sample BookInfo Ingress Gateway Not Working - Empty reply from server. Need to restart istio-pilot
[DES] . [DES] [EXP] istio to be installed with a static ip for egressgateway [EXP] [OTH] . [OTH] [REP] helm install istiodir install kubernetes helm istio name istio namespace istio system set ingress enabled true set grafana enabled true set gateways istio egressgateway type loadbalancer set gateways egressgateway loadbalancerip x x x x [REP],No Static IP Option For Egress Gateway (Helm Install on GKE)
[DES] . [DES] [EXP] deploy istio pods on openshift using ansible installer [EXP] [OTH] . [OTH] [REP] download istio release execute the following command ansible playbook main yml e istio release tag name version auth false delete resources true on folder install kubernetes ansible path [REP],Missing SCC make istio pods fails to mount volumes in Openshift
[DES] . [DES] [EXP] i expect to connect with telnet to the service and send a ping to see if it is connected correctly [EXP] [OTH] . [OTH] [REP] talk to a memorystore service in gcp from a pod with sidecar [REP],Can't connect to Google Cloud Memorystore (redis) from pod with sidecar
[DES] . [DES] [EXP] x forwarded for header should contain valid client s ip and ingress gateway should sanitize and or strip untrusted values before forwarding requests to backend services note that we should account for trusted load balancers being deployed in front of ingress gateway and forwarding valid client s ip using this header [EXP] [OTH] . [OTH] [REP] deploy sample httpbin service and expose it via ingress gateway from the official guide url and issue curl commands mentioned above [REP],Sanitize and/or provide useful X-Forwarded-For header
[DES] . [DES] [EXP] no negative impact to other services when installing istio [EXP] [OTH] . [OTH] [REP] 1 create new aks cluster 2 install istio i used the following helm command and corresponding kubectl apply helm te [REP],"K8S Dashboard loads slowly, tiller unresponsive once istio 1.0.0 installed"
[DES] . [DES] [EXP] the isito proxy on the application being scaled down should not receive any requests after it has entered a termin [EXP] [OTH] . [OTH] [REP] as above but i can get on hangouts and show you this in detail the application itself gracefully handles sigterms  [REP],"503 errors when scaling down, or rolling out a new application version"
[DES] . [DES] [EXP] i want my http requests can be routed to the desired server and get correctly answered instead of the status code 503 responded by envoy even when there is no istio policy service [EXP] [OTH] . [OTH] [REP] just shut down your istio policy service [REP],How to disable Check policy in Istio 1.0
[DES] . [DES] [EXP] the metric data is same as datas on grafana page [EXP] [OTH] . [OTH] [REP] install the istio version helm install istio name istio namespace istio system set ingress enabled false set gateways ingressgateway enabled false set gateways egressgateway enabled false set galley enabled true sidecarinjectorwebhook true mixer true prometheus false global proxy envoystatsd true tracing kiali servicegraph [REP],istio1.0 kiali services ->service metrics can not show metric data
[DES] . [DES] [EXP] i m expecting istio to at minimum put an app label and version label on everything as this is the istio recommenda [EXP] [OTH] . [OTH] [REP] kubectl create f istio version install kubernetes istio demo yaml though i didn t use it they same thing is going  [REP],istio deployments are not labeled correctly
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen fix the ingress service name [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior helm upgrade istio install kubernetes helm istio install namespace istio system set servicegraph enabled true set servicegraph ingress enabled true [REP],Servicegraph ingress backend service name not match Service metadata name
[DES] . [DES] [EXP] i would expect the time frame matches what user has on grafana or at least increase it for a longer time window further the success rate based on live traffic is somewhat limited [EXP] [OTH] . [OTH] [REP] follow the telemtry task url [REP],Grafana dashboard for service availability is confusing
[DES] . [DES] [EXP] expect user can only install network portion of istio [EXP] [OTH] . [OTH] [REP] downloads istio version watch 17 12 59 helm install install kubernetes helm istio name istio namespace istio syste [REP],Helm install with only pilot enabled doesn't work
[DES] . [DES] [EXP] sidecarinjectorwebhook enabled false should still generate the configmap so that it s possible to do something lik [EXP] [OTH] . [OTH] [REP] istio version helm template install kubernetes helm istio name istio namespace istio system set sidecarinjectorweb [REP],no longer generates sidecar injector configmap
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen bookinfo app should start [EXP] [OTH] . [OTH] [REP] kubectl apply f istioctl kube inject f samples bookinfo platform kube bookinfo yaml steps to reproduce the behavior kubectl apply f istioctl kube inject f samples bookinfo platform kube bookinfo yaml [REP],Verify the latest Istio runs on minikube
[DES] . [DES] [EXP] i suppose a deployment reconfiguration should erase the previous one and i expect the new workload to keep the same name based on deployment name [EXP] [OTH] . [OTH] [REP] oc apply f istioctl kube inject f depl yml any standard deployment yaml for example one from the bookinfo demo edit the app or version labels in that yaml putting anything different but keep the same deployment name oc apply f istioctl kube inject f depl yml output deployment test deployment configured [REP],Reconfiguring a deployment creates a new workload
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen i expect istio to run continously without these fai [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior i installed istio version using helm not helm template according to the install in [REP],Istio Galley crashes repeatedly on 1.0.0
[DES] . [DES] [EXP] i expected grafana service graph and zipkin to be deployed [EXP] [OTH] . [OTH] [REP] helm install install kubernetes helm istio name istio namespace istio system set gateways istio ingressgateway type nodeport set gateways egressgateway type nodeport [REP],"Grafana, service graph, and zipking aren't deployed with helm charts"
[DES] . [DES] [EXP] istio should be restarted with a new flag [EXP] [OTH] . [OTH] [REP] helm install install kubernetes helm istio name istio namespace istio system set gateways istio ingressgateway type nodeport set gateways egressgateway type nodeport helm upgrade install kubernetes helm set gateways ingressgateway type nodeport set gateways egressgateway type nodeport tracing enabled true [REP],"no Deployment with the name ""istio-tracing"" found"
[DES] . [DES] [EXP] imagepullsecrets must be applied to all components of istio for users that use private image repository [EXP] [OTH] . [OTH] [REP] install istio through helm with imagepullsecret values helm install istio name istio namespace istio system set global imagepullsecrets privateregistrysecret [REP],ImagePullSecret does not apply to charts that doen't use serviceaccounts
[DES] . [DES] [EXP] helm installation with tiller should work and install istio components under the istio system namespace [EXP] [OTH] . [OTH] [REP] follow the instructions here 1 url option 2 install with helm and tiller via helm install 2 when you run helm inst [REP],Helm installation with Tiller is broken for 1.0
[DES] . [DES] [EXP] i expected that it should work like the previous version istio version snapshot 2 on my machine [EXP] [OTH] . [OTH] [REP] download istio version at url i used helm to upgrade and run it helm init service account tiller helm install install kubernetes helm istio name istio namespace istio system then i got the exception like above [REP],Got the exception when installed istio since 1.0.0
[DES] . [DES] [EXP] when looking at a commit or at lease a release i d expect to see the verified tag [EXP] [OTH] . [OTH] [REP] look at a commit or release not to be difficult about this but this is a security product with elevated privileges and access to most traffic people need to be able to trust its supply chain [REP],Commits and releases should be signed and verified by github
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen mixer works correct [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior bash start a k8s cluster minikube start kubernetes version v version apply istio version snapshort 2 kubectl apply f install kubernetes istio demo yaml see the log kubectl logs istio telemetry xxx xxx n istio system c mixer [REP],the server could not find the requested resource
[DES] . [DES] [EXP] ssl certificate should be updated accordingly [EXP] [OTH] . [OTH] [REP] yaml apiversion networking istio io v1alpha3 kind gateway metadata name web gateway spec selector istio ingressgat [REP],Gateway ignores SSL certificate updates
[DES] . [DES] [EXP] sidecar injector mutates the incoming pod creation request and mutated pods are deployed [EXP] [OTH] . [OTH] [REP] apply webhook configuration and deploy sidecar injector with the usual cluster role bindings may or may not be of note but i originally had the wrong cluster role binding so originally got permission denied have deleted everything and retried but with the same results [REP],Bad certificate with sidecar-injector webhook in 1.0.0-snapshot.2
[DES] . [DES] [EXP] ingressgateway would be able to forward traffic to serviceentries [EXP] [OTH] . [OTH] [REP] 1 create gateway for host yaml apiversion networking istio io v1alpha3 kind gateway metadata name istio ingressgat [REP],Ingressgateway -> ServiceEntry - 503 Service Unavailable
[DES] . [DES] [EXP] even after k8s node auto upgrade service can still be accessed always istio can recovery automatically [EXP] [OTH] . [OTH] [REP] 1 in one k8s node coreos upgrade automatically 2 after upgrade the node restart kubelet kube proxy automatically n [REP],Service access raise 503 (Upstream error) after node coreos auto-upgrade.
[DES] . [DES] [EXP] i should have an endpoints in istio proxy to route to live pod [EXP] [OTH] . [OTH] [REP] have a replicaset with label app a create another replicaset with label app b version v1 with also destinationrule [REP],Istio/envoy route not updated when pod switch replicasets (changing labels) with GRPC
[DES] . [DES] [EXP] the command would execute without error [EXP] [OTH] . [OTH] [REP] follow the instructions on url including executing istioctl kube inject injectconfigfile inject config yaml meshconfigfile mesh config yaml filename samples sleep sleep yaml output sleep injected yaml kubectl apply f observe the error [REP],Istio 1.0 - Manual sidecar injection Outputs to file but does not supply file name
[DES] . [DES] [EXP] i would expect to inject the sidecar automatically when deploying an app to the namespace listened to by the webhook [EXP] [OTH] . [OTH] [REP] as described above just trying to deploy a new application [REP],Unable to inject sidecar automatically due to x509 error
[DES] . [DES] [EXP] istio ingressgateway service should be of type nodeport [EXP] [OTH] . [OTH] [REP] 1 git clone url 2 helm install istio install kubernetes helm istio name istio namespace istio system set ingressgateway service type nodeport set sidecarinjectorwebhook enabled false [REP],Helm setting ingressgateway.type to NodePort does not work
[DES] . [DES] [EXP] i could use either port name or port number and get the same results [EXP] [OTH] . [OTH] [REP] deploy an app that does not use istio sidecar and add the virtual service with port name to your ingressgateway [REP],VirtualService port.name:http does not work but port.number: 80 does
[DES] . [DES] [EXP] when a pod needs to be terminated kubernetes sends a sigterm which should be handle by the binary to gracefully shutdown or at least stop receiving new request after a while a kubernetes will send sigkill handling sigterm is very important for roll out and upgrade [EXP] [OTH] . [OTH] [REP] start a binary and send a sigterm [REP],Most Container do not handle SIGTERM
[DES] . [DES] [EXP] pasring should succeed [EXP] [OTH] . [OTH] [REP] just run helm install install kubernetes helm istio remote name istio remote set global pilotendpoint pilot pod ip set global policyendpoint policy pod ip set global statsdendpoint statsd pod ip namespace istio system [REP],redudant whitespace in clusterrole.yaml make it fails to run parse
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen docker exec it consul productpage v1 sidecar 1 bash [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior from version snapshot branch make generate yaml hub tag docker compose f install c [REP],1.0 proxy_init container does not re-route traffic to envoy in Docker
[DES] . [DES] [EXP] directing https traffic thru the egressgateway as described in url direct https traffic through an egress gateway must work [EXP] [OTH] . [OTH] [REP] follow the steps in url direct https traffic through an egress gateway in step 5 error code 35 will be returned run istioctl proxy config listeners kubectl get pod l istio egressgateway n istio system o jsonpath items 0 metadata name n istio system you will get error no listeners found [REP],SNI routing by egressgateway stopped working with Istio Auth
[DES] . [DES] [EXP] either 1 e2e simple should flag an error if pre existing istio in the istio system namespace is detected and let t [EXP] [OTH] . [OTH] [REP] 1 install kubernetes 2 install istio on k8s in the istio system namespace 3 run e2e simple tests install istioctl  [REP],Running e2e_simple tests with pre-existing istio fails and deletes pre-existing istio
[DES] . [DES] [EXP] it should route accordingly to my custom header exact match but it is not it always routing to v1 [EXP] [OTH] . [OTH] [REP] if you have the same grpc service with 2 versions apiversion networking istio io v1alpha3 kind virtualservice meta [REP],GRPC multi version custom headers not working
[DES] . [DES] [EXP] no errors when running cleanup sh [EXP] [OTH] . [OTH] [REP] deploy istio 0720 daily as described below kubectl create f bookinfo yaml kubectl create f bookinfo gateway yaml [REP],cleanup.sh spits out errors cleaning up bookinfo sample
[DES] . [DES] [EXP] i should expect the installer to figure out what is the current release from the release tarball i downloaded pull and install the related images [EXP] [OTH] . [OTH] [REP] download latest daily build from url and follow the instructions at url it doesn t matter if it is openshift or kubernetes [REP],I can't test Ansible installer with daily builds
[DES] . [DES] [EXP] working auto sidecar injection webhook and working manual sidecar injection using the remote cluster s sidecar injector configmap [EXP] [OTH] . [OTH] [REP] remote cluster auto or manual sidecar injection per documented steps url [REP],istio-remote helm template is invalid yaml when rendered
[DES] . [DES] [EXP] specifying set tracing service type nodeport will update both zipkin and tracing service currently only updates zi [EXP] [OTH] . [OTH] [REP] deploy helm using set tracing enabled true set tracing service type nodeport observe in output source istio charts [REP],"Tracing helm chart omits type for service ""tracing"""
[DES] . [DES] [EXP] pod is created and envoy proxy is injected as a sidecar [EXP] [OTH] . [OTH] [REP] 1 create cluster on the google kubernetes engine with rbac enabled 2 install helm with service account provided in [REP],Sidecar injector admission webhook not working
[DES] . [DES] [EXP] istio sidecar auto injection could work [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 deploy istio by helm with no error helm install install kubernetes helm istio na [REP],"Istio sidecar auto injection not work, with kops deployment on AWS"
[DES] . [DES] [EXP] i see up to 5 retries attempts which in the case will make the upstream call succeed [EXP] [OTH] . [OTH] [REP] 1 create a service that programmatically fails after x calls 2 alternatively setup a fault policy to make the serv [REP],1.0.0-snapshot.0 issue or pilot error on retries??
[DES] . [DES] [EXP] the ongoing http request to cnn com should be correctly forwarded to the https port as described in the task kubec [EXP] [OTH] . [OTH] [REP] 1 install minikube minikube start extra config controller manager cluster signing cert file var lib localkube cert [REP],503 Service Unavailable when using mTLS with egress gateway
[DES] . [DES] [EXP] sidecar upgrade should be succeed without errors [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior installation on istio version https istio io docs guides bookinfo cd istio version [REP],"spec.clusterIP: Invalid value: """": field is immutable"
[DES] . [DES] [EXP] gateway should produce http version connection when tls termination is used [EXP] [OTH] . [OTH] [REP] yaml apiversion networking istio io v1alpha3 kind gateway metadata name web gateway spec selector istio ingressgat [REP],Gateway with TLS termination produce HTTP/2 without TLS (h2c) connection
[DES] . [DES] [EXP] running curl d url should return a non 503 error [EXP] [OTH] . [OTH] [REP] originally i was using kubectl and the istio custom resource definitions but using istoctl made no difference run  [REP],No healthy upstream with egress gateway
[DES] . [DES] [EXP] expected the page to show with a websocket status open in green and also expected the ws connection to not return a 403 [EXP] [OTH] . [OTH] [REP] 1 install istio version per default instructions 2 launch this websocket sample into a namespace [REP],Getting 403 on upgrade connection in the sample Websockets app
[DES] . [DES] [EXP] something useful should be generated [EXP] [OTH] . [OTH] [REP] start from the top of url and work your way down to opening the istio gke deployment manager [REP],1.0 Quick Start with Google Kubernetes Engine: Istio GKE Deployment Manager fails
[DES] . [DES] [EXP] it seemed to me looking at other applications running on istio that constant listener updates were not the norm i d expect that the rmq and zookeeper connections not get changed in any way when running on top of istio [EXP] [OTH] . [OTH] [REP] try downloading zookeeper and rabbitmq ha from helm and deploying it on istio you will see the constant listener updates [REP],Constant update of Listeners resetting TCP Connections
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen place them to the right place like tif options rotateoutputpath t trotatersink zapcore addsync lumberjack logger t t tfilename options rotateoutputpath t tmaxsize options rotationmaxsize tmaxbackups options rotationmaxbackups tmaxage rotationmaxage [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior [REP],confuse about the RotationMaxAge and RotationMaxBackups
[DES] . [DES] [EXP] remote cluster pod sidecars able to connect to istio pilot on main cluster via mtls to access ads [EXP] [OTH] . [OTH] [REP] 1 main cluster deployment cat install kubernetes namespace yaml install kubernetes istio auth yaml t helm template set global tag tag t t namespace istio system t set global hub hub values install kubernetes helm istio values yaml set global mtls enabled true set global true security selfsigned false tinstall kubernetes helm istio install auth yaml 1 [REP],Multicluster sidecars unable to connect to ADS
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen [EXP] [OTH] . [OTH] [REP] yaml apiversion networking istio io v1alpha3 kind gateway name gateway namespace default spec selector istio ingre [REP],SSL received a record that exceeded the maximum permissible length
[DES] . [DES] [EXP] the grpc connection streams should remain opened until the client or the server close it [EXP] [OTH] . [OTH] [REP] i m using my client server in go from url deploy the client and server with the annotation sidecar istio io inject true the client then connect to the server send a ping message get a reponse and wait on channel at some point istio sidecar of server will cancel connexion [REP],gRPC Stream are cancelled by the sidecar
[DES] . [DES] [EXP] no rules loss traffic egress etc [EXP] [OTH] . [OTH] [REP] istio version installation with no auth scale up pilot deployment to 250 replicas run kubectl get crd and check the timestamps [REP],Istio-Pilot on k8s re-created (deleted) rules CRDs during scale-up to 200+ instances
[DES] . [DES] [EXP] the file needed to configure citadel should be there if there is an other way to enable citatdel health checking this should be described [EXP] [OTH] . [OTH] [REP] follow the instructions in url [REP],"Non existent file in test description for ""Enabling Citadel health checking""."
[DES] . [DES] [EXP] i expect the timeout to be set for 60s throught all flow testing timeouts inbetwen each other works [EXP] [OTH] . [OTH] [REP] contact the backend via publicapi with delay of sleep 30seconds in backend code curl h accept application json w http code url [REP],Timeouts dont work correctly (15s limit)
[DES] . [DES] [EXP] i think the istio version test result is batter than the istio version [EXP] [OTH] . [OTH] [REP] test the performance of istio according to the steps at url [REP],"Istio performance test, the result of istio-0.7.1 is better than the istio-0.8.0"
[DES] . [DES] [EXP] auto injection should work [EXP] [OTH] . [OTH] [REP] 1 create a cluster on gke use version v version gke 0 three 2c version g nodes with alpha features enabled and all [REP],Failed to inject into pod when using helm to install istio on gke version 1.10.5-gke.0
[DES] . [DES] [EXP] when there is only one endpoint registered istioctl deregister should delete k8s service if the servcie is not rem [EXP] [OTH] . [OTH] [REP] run istioctl register myvmsvc version 8080 n istiosample then istioctl deregister myvmsvc version n istiosample ru [REP],istioctl deregister doesnot remove service and endpoint
[DES] . [DES] [EXP] rabbitmq to initialize and begin running correctly [EXP] [OTH] . [OTH] [REP] create a gke cluster at version gke 1 and install istio automatic sidecar injection as per instructions here url o [REP],RabbitMQ Crashes with Mutual TLS Enabled
[DES] . [DES] [EXP] the generated manifest should only contain references to release version probably with some snapshot identifier [EXP] [OTH] . [OTH] [REP] 1 download url and extract it 1 install helm 1 run helm template install kubernetes helm istio name istio namespace istio system home istio yaml 1 check the generated manifest file for references to version grep 0 8 home yaml [REP],Helm template creates a manifest that contains references to release 0.8
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen this command should give a list of all running virtualservices [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 install istio 2 go to samples bookinfo 3 run docker compose f samples bookinfo consul bookinfo yaml up d docker compose f samples bookinfo consul sidecars yaml up d 4 run istioctl get virtualservices [REP],Unable to get running virtual services
[DES] . [DES] [EXP] virtualservice appgateway is created in ns bookinfo in vs appgateway there is a route destination to a svc in ns i [EXP] [OTH] . [OTH] [REP] 1 install bookinfo sample in ns bookinfo 2 install your own sampleapp in ns other than bookinfo 3 istioct create b [REP],Host without domainsuffix in virtualservice can not be accessed through ingressgateway
[DES] . [DES] [EXP] fortio is used to perform load testing graphing results and as a backend echo server [EXP] [OTH] . [OTH] [REP] 1 build the work environment deploy istio and forito on the ibmprivatecloud step as follows url 2 run test case s1 to s2 run fortio test istio s1 to s2 open the web ui url fortio parameter as follows qps 1 duration 30s threads simultaneous connections 48 3 click the start button [REP],Web/Graphical UI can't generate the chart when the fortio deploy on the istio with sidecar
[DES] . [DES] [EXP] virtualservice config for grpc routing should be successfully configured [EXP] [OTH] . [OTH] [REP] apiversion networking istio io v1alpha3 kind gateway metadata name orca gateway spec selector istio ingressgateway [REP],virtualservice for grpc does not get applied for ingressgateway
[DES] . [DES] [EXP] istioctl replace f should work [EXP] [OTH] . [OTH] [REP] 1 follow instructions given at the link url 2 prepare the deployment yaml file i just renamed v2 to v2test in the  [REP],Istioctl replace -f is not working
[DES] . [DES] [EXP] i would expect the above to work routing traffic hitting the istio ingress gateway with host nexus example com sho [EXP] [OTH] . [OTH] [REP] deploy nexus helm chart along with the ingress gateway and virtual service and try to resolve the site through gat [REP],"istio 0.8.0 with tls gateway and virtual service not routing traffic to backend, envoy 404"
[DES] . [DES] [EXP] policies should be also cleaned up together with the namespace [EXP] [OTH] . [OTH] [REP] 1 follow the task in the official doc here url 2 clean up all resources with kubectl delete ns foo bar legacy 3 ch [REP],istio policies are not cleaned up when kubernetes namespace deleted
[DES] . [DES] [EXP] expected sleep foo and sleep bar to receive 200 responses as outlined at url enable mutual tls for all services in a namespace [EXP] [OTH] . [OTH] [REP] install istio version into a version gke 1 gke cluster using helm template helm template install kubernetes helm istio name istio set global proxy includeipranges namespace istio system home yaml run through steps in demo for enabling mtls in a namespace url before you begin [REP],Enable mutual TLS for all services in a namespace fails when
[DES] . [DES] [EXP] the tests should delete the namespace and not take so long to finish [EXP] [OTH] . [OTH] [REP] checkout to version tag and run make test e2e simple run tag version e2e args installer helm [REP],Running E2E simple tests with Helm takes 15 minutes extra and doesn't delete namespace
[DES] . [DES] [EXP] adapter retires to connect to fluentd service [EXP] [OTH] . [OTH] [REP] create a fluentd adapter while fluentd is not available follow the demo of fluentd logging url kill or don t start fluentd [REP],"When first connection to fluentd fails, fluentd adaptor is disabled."
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen the service entrys are apiversion networking istio  [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior [REP],"listener conflict when configure egress, svcs use the same port and the protocal is tcp"
[DES] . [DES] [EXP] i was hoping to be able to call an external service via https [EXP] [OTH] . [OTH] [REP] follow the egress tutorial and start a curl container governmentpaas curl ssl in my case from that container call curl url [REP],Egress using https causing protocol
[DES] . [DES] [EXP] authentication policies should work so end users should not be able to call services without valid jwt 401 unauthorized should be returned if there is no jwt token or the token is invalid or expired [EXP] [OTH] . [OTH] [REP] all steps has been documented here url [REP],Authentication policy does not work anymore
[DES] . [DES] [EXP] response code shouldn t be 503 expected 200 or 401 [EXP] [OTH] . [OTH] [REP] sample policy which causes the problem apiversion authentication istio io v1alpha1 kind policy metadata name example 3 namespace foo spec targets name httpbin peers origins jwt issuer developer gserviceaccount com jwksuri url principalbinding use origin [REP],hit response code 503 after applying authN policy without explicitly set peers.mtls
[DES] . [DES] [EXP] directing egress traffic from an application pod to the egress gateway should work when istio is deployed with mtls [EXP] [OTH] . [OTH] [REP] follow the steps in url for istio with mtls [REP],Wrong secret name in the Helm template of the egressgateway
[DES] . [DES] [EXP] creationtimestamp should be set with the creation timestamp like resource in kubernetes eg creationtimestamp 2018 06 27t06 22 21z [EXP] [OTH] . [OTH] [REP] 1 istioctl create f yaml file 2 istioctl get resource resource name o yaml [REP],creationTimestamp always return null in istio resources
[DES] . [DES] [EXP] i hope istio mixer version will be version after i upgrade istio into version from version [EXP] [OTH] . [OTH] [REP] at first i use istio version and then i download istio version release then i step into fold istio version and excute helm template namespace istio system set global proxy image proxy values install kubernetes helm values yaml install kubernetes helm install kubernetes yaml and kubectl apply f install kubernetes yaml [REP],Upgrade Istio into 0.8version and istio-mixer still be version 0.7.1
[DES] . [DES] [EXP] crd validation should pass [EXP] [OTH] . [OTH] [REP] 1 follow url to setup env used docker images built from my dev env 2 apply authn policy below hit error istioctl c [REP],non cluster scoped authN policy CRD validation fail with namespace passed from istioctl
[DES] . [DES] [EXP] the expectation is that after i have istio appropriately installed that when i deploy a new service the side car gets automatically injected this is however not happening [EXP] [OTH] . [OTH] [REP] 1 install kubernetes version gke 2 on gcp 2 install istio using instructions from url 3 then follow instructions from url automatic sidecar injection [REP],Instructions to enable Istio with Kubernetes with the enabled
[DES] . [DES] [EXP] successful connection to the database [EXP] [OTH] . [OTH] [REP] create a cloud sql database instance postgres version create a service account with cloud client role enabled and  [REP],Can't connect to Google Cloud Sql
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen the istioctl should respected a merged kubeconfig and use the current context for access the kube cluster [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 setup a terminal with export kubeconfig path to config file1 path to config file2 path to config file 3 2 set the current context a valid context e g kubectl config use context context 3 execute any istioctl command in the terminal window [REP],Istioctl CLI fails with a merged KUBECONFIG
[DES] . [DES] [EXP] following quick start guide should not result in an error [EXP] [OTH] . [OTH] [REP] 1 follow instructions in url 1 section url launch deployment manager step 1 launches gke deployment manager with t [REP],Unsupported engine version in GKE Deployment template
[DES] . [DES] [EXP] the expectation is for the mysampleadapter test go file to execute and spit out data in the out txt file however this file does not get created [EXP] [OTH] . [OTH] [REP] 1 create the mysampleadapter test go file and populate it with the code shown 2 run the build and test command go build go test adapter mysampleadapter go [REP],Integration Test Step from the Adapter Walkthrough guide is not working
[DES] . [DES] [EXP] when policy disabled the sidecar injector will not inject the sidecar into pods by default add the sidecar istio io inject annotation with value true to the pod template spec to enable injection [EXP] [OTH] . [OTH] [REP] create a pod in a namespace where policy disabled or policy unset injection will not happen no matter what we set pod annotation to [REP],Istio injector annotations don't work as described in doc
[DES] . [DES] [EXP] i expect the helm charts work when i follow steps from official documentation [EXP] [OTH] . [OTH] [REP] 1 download istio version curl l url sh 1 run minikube using command from documentation with hyperkit vm driver and [REP],Bug in documentation for Minikube. Helm charts does not work.
[DES] . [DES] [EXP] i expected the pilot pod to run without crashing [EXP] [OTH] . [OTH] [REP] first create two gke clusters gcloud container clusters create istio cluster version version gke 3 zone us central [REP],Pilot segfaults when given invalid remote cluster credentials
[DES] . [DES] [EXP] a clear and concise description of what you expected to happen this works curl l url tar xzvf [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior just give the command on osx curl l url sh [REP],Istio download and install fails using curl
[DES] . [DES] [EXP] the installation should succeed the first run [EXP] [OTH] . [OTH] [REP] 1 create a new gke version cluster gcloud container clusters create guestbook cluster version version num nodes 3 machine type n1 standard 2 1 install istio kubectl apply f istio install kubernetes istio yaml as admin as group system masters [REP],Istio 0.8 Installation Fails First Attempt
[DES] . [DES] [EXP] no loadbalancers should be assigned when you disable the ingress it s not wanted to expose the query ui endpoints publicly url l23 [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior [REP],LoadBalancers present when ingress is disabled for Jaeger.
[DES] . [DES] [EXP] routerules or vs should function correctly for traffic shifting [EXP] [OTH] . [OTH] [REP] istio version bin istioctl context create api server url docker compose f install consul istio yaml up d docker co [REP],routerules are not populated correctly in 0.8.0
[DES] . [DES] [EXP] for example if zipkin is not part of the istio control plane installation the whole selectorless services section  [EXP] [OTH] . [OTH] [REP] the procedure in the multicluster documentation url helm template install kubernetes helm istio remote namespace i [REP],istio-remote helm chart should optionally render services' info
[DES] . [DES] [EXP] pod registration should work exactly as it does on clusters with the default cluster domain [EXP] [OTH] . [OTH] [REP] 1 set up a kubernetes cluster with a cluster domain divided by more than 1 period 1 pass the domain argument to a proxy sidecar according to the pilot agent docs linked above [REP],No Pod Registration with Non-default Cluster Domain
[DES] . [DES] [EXP] be able to successfully update a deployment which in turn creates a replicaset [EXP] [OTH] . [OTH] [REP] unsure how to reproduce but i m happy to provide any debug info i can extract my steps were install by following url follow the tutorial to setup ingress until i got blocked url topic istio users 5pczpeqof5m try to patch a deployment in the namespace note that deployment fails due webhook error [REP],"Sidecar injector webhook fails, injector service is unresponsive"
[DES] . [DES] [EXP] i expect helm install to result in a successful deployment [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior kubectl create f install kubernetes helm helm service account yaml helm init service account tiller helm install install kubernetes istio name istio namespace istio system [REP],Helm install times out due to postinstall fail
[DES] . [DES] [EXP] make test should work in both go version and version [EXP] [OTH] . [OTH] [REP] execute go test timeout 30s istio io istio mixer test client istio authn origin jwt bound peer run from the istio directory with go version observe that the test fails with an error that the payload is the wrong size [REP],Unit Tests Broken with Go 1.9.6
[DES] . [DES] [EXP] no error should occur [EXP] [OTH] example swagger openapi definition yaml openapi version info title test api for self reference version version pat [OTH] [REP] steps to reproduce the behavior 1 scroll down to schemas 2 click on person to expand it 3 scroll up to the top of  [REP],Circular reference in schema leads to Could not resolve reference: undefined undefined
[DES] . [DES] [EXP] can t parse json raw result should not have displayed in the api response in swagger ui [EXP] [OTH] this is similar or same as the defect reported here url and is locked due to inactivity however when tested with a [OTH] [REP] steps to reproduce the behavior 1 launch swagger ui 2 perform an api invocation 3 scroll down to api response 4 no [REP],in Swagger UI v3.13.6 [Extension of 4098]
[DES] cannot launch container image when filesystem is read only this problem was initially detected in a kubernetes cluster where the default podsecuritypolicy has readonlyrootfilesystem set as true can be reproduced directly with docker [DES] [EXP] able to launch with a readonly filesystem [EXP] [OTH] example swagger openapi definition n a swagger ui configuration options default [OTH] [REP] docker run publish 8080 8080 rm read only docker io swaggerapi swagger ui v version [REP],Launch container image with read-only filesystem
[DES] . [DES] [EXP] an error message that reflects the problem more accurately and does not leave a noob to believe that the problem i [EXP] [OTH] related issue url whatever is used in production you know this better than me [OTH] [REP] steps to reproduce the behavior 1 go to url 2 input url into the textfield at the top 3 press explore 4 it gives t [REP],Misleading error on failing to load URL
[DES] the pre styles on opblock body make it very difficult to plug any component into the operation body that uses pre [DES] [EXP] it should be possible to render pre a component plugin under operation using the styles that i give to it it assum [EXP] [OTH] the issue is with these styles in layout css css opblock body pre font size 12px margin 0 padding 10px white space [OTH] [REP] 1 wrap the markdown component js wrapcomponents tmarkdown source pre source pre 2 render an openapi spec e g url 3 [REP],Operation styles blat over any <pre>
[DES] stream writable js 57 uncaught referenceerror process is not defined at object node modules readable stream lib st [DES] [EXP] it should show the api supplied in a nice swagger ui view [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error [REP],Issue with swagger-ui (3.24.0) angular (8.2.0) integration
[DES] . [DES] [EXP] if global url parameters are defined they should be displayed as if they were added directly to method [EXP] [OTH] example swagger openapi definition file openapi openapi yaml yaml openapi version info version version title swagg [OTH] [REP] steps to reproduce the behavior use definitions added tho this issue [REP],Global parameters not visible when referenced through other definition.
[DES] . [DES] [EXP] i expect that request duration section appears in try it out feature [EXP] [OTH] swagger ui configuration options cat swagger config yaml url url dom id swagger ui validatorurl url displayrequest [OTH] [REP] steps to reproduce the behavior 1 update file swagger config yaml to add displayrequestduration true 2 run npm run [REP],displayRequestDuration is not working as expected
[DES] . [DES] [EXP] i expect that topbar will be with empty selector [EXP] [OTH] swagger ui configuration options js swaggerui urls [OTH] [REP] steps to reproduce the behavior 1 open swaggerui 2 extend address with urls or change inital swaggerui configuration inside index html to something like js swaggerui urls [REP],Swagger UI doesn't know how to deal when URLS is empty array
[DES] . [DES] [EXP] swagger ui should behave as it did in previous versions [EXP] [OTH] example swagger openapi definition json openapi version info contact email none none com name none title none vers [OTH] [REP] steps to reproduce the behavior 1 statically serve the swagger json shown above 2 type some invalid json e g fooba [REP],Validation of deep objects seems to be broken
[DES] . [DES] [EXP] authorization header is included in request [EXP] [OTH] i realise there are other ways of doing authorization with swagger ui they don t quite meet my needs and so i d ho [OTH] [REP] 1 open swagger ui with the json definition i shared 2 open system info 3 click try it out 4 enter a value e g bear [REP],"Request header not sent (custom ""Authorization"" header) for Try It requests"
[DES] . [DES] [EXP] should see the description [EXP] [OTH] example swagger openapi definition yaml nfv cntlr get tags users summary controller version operationid cntlrshow  [OTH] [REP] steps to reproduce the behavior add a description to a openapi version response object try to view it in swagger u [REP],"Starting in v3.23.4, descriptions no longer display for responses"
[DES] . [DES] [EXP] an http request is sent this works on v version [EXP] [OTH] just url example swagger openapi definition url swagger ui configuration options js swaggerui your config options here yourquerystringconfig [OTH] [REP] 1 open url store placeorder 2 click try it out 3 click excute [REP],v3.23.7 breaks try-it-out on POST method
[DES] when switching between swagger doc apis via the topbar input or dropdown the authorization is not reset so the use [DES] [EXP] either the credentials are dropped completely when switching api specs or preferred the credentials are stored but [EXP] [OTH] this could possibly leak authorization information if the user is not careful and does not reauthorize with the ne [OTH] [REP] steps to reproduce the behavior 1 go to url 1 authorize via api key with some gibberish 1 close autorization windo [REP],Switching between swagger APIs in top bar does not reset Authorization
[DES] normally on the swagger ui required parameters are checked on the form validation like this red background image u [DES] [EXP] just like the required path parameter i expected the formdata parameter to be checked on the form validation red b [EXP] [OTH] the issue 3747 may be related but i think it applies only for path parameters and not for formdata ones thanks [OTH] [REP] try the below snippet on url yaml openapi version info title test version version paths survey surveyid get parame [REP],Required formData parameters are not checked on form validation (OAS 3.0)
[DES] . [DES] [EXP] the example list should contain only 0 and 1 i e the examples defined in the spec [EXP] [OTH] example swagger openapi definition yaml openapi version info title test version version paths foo post requestbody [OTH] [REP] steps to reproduce the behavior 1 go to url and paste the example above 2 expand post foo 3 from the examples list [REP],sometimes appears after switching between examples
[DES] . [DES] [EXP] required fields with pre populated defaults should execute without error given the values are valid [EXP] [OTH] i saw this related issue url however it looked like the resolution was to use swagger ui react which doesn t apply here if i missed something relevant apologies [OTH] [REP] unfortunately i m unable to provide a quick test for this as i m only involved in the ui portion if required i can spend time setting up a concrete sample [REP],Required headers fail validation (with values)
[DES] when running the docker container with e validator url null the validator badge is not disabled and instead shows  [DES] [EXP] the validator badge should not show up at all [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 run docker container with docker run d p 80 8080 e url url e validator url null  [REP],Setting VALIDATOR_URL=null with Docker results in broken link
[DES] . [DES] [EXP] it can compile with swagger ui react version [EXP] [OTH] babel runtime corejs2 apparently is not used in create react app projects so it should be declared as dependencies for swagger ui react adding it explicitly to package json is not a common practice clean create react app project [OTH] [REP] steps to reproduce the behavior 1 create a new react project using create react app 2 yarn add swagger ui react 3 import swaggerui from swagger ui react 4 yarn start [REP],Module not found: Can't resolve
[DES] . [DES] [EXP] the pdf should be rendered as an typical pdf file in the swagger ui or you should provide a download link to extra [EXP] [OTH] swagger openapi definition yaml pdf date lunch pdf get tags pdf summary mittagessen als pdf woche parameters name  [OTH] [REP] steps to reproduce the behavior in swagger ui 1 navigate to the specific path 2 click on try it out 3 execute 4 in [REP],Unrecognized response type - application/pdf displayed incorrectly in response body
[DES] . [DES] [EXP] when the link is visited to jump from one page directly to the get call for location getlocation i expect the page [EXP] [OTH] thanks so much for the help i have spent a lot of time getting the documentation together for this project and loo [OTH] [REP] this is on a local development environment so i cannot share a link right now but any suggestions of things to try [REP],deepLinking setting not working as expected - does not scroll down properly
[DES] the path definition that uses ref renders in the default tag initially clicking on it as if to expand in the ui ca [DES] [EXP] the path should derive the correct tags from the reference at startup and render in the correct tag group s initia [EXP] [OTH] this is a simplified minimal reproduction of the bug the real use case involves mostly similar routes but with dif [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on api bar 3 see ui jump to a new category [REP],$ref in path method renders in default tag
[DES] . [DES] [EXP] i was hoping that the use of securityschemes above would still show that an authorization header is required for a [EXP] [OTH] example swagger openapi definition yaml openapi version info version version title components securityschemes bear [OTH] [REP] steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error [REP],Authorization header not included in UI docs when using securitySchemes
[DES] . [DES] [EXP] no error should be reported to the user the dropdown should support being set to [EXP] [OTH] the issue has apparently to do with code at url l187 image url the value of this state value is null for the selec [OTH] [REP] steps to reproduce the behavior 1 go to the swagger editor 2 copy paste the yaml definition 3 select the choice in [REP],"Selecting ""--"" choice in dropdown throws error"
[DES] . [DES] [EXP] upon clicking the delete item or delete all items or delete last item buttons the add item button should be availa [EXP] [OTH] swagger ui running in a jetty server and loaded using eclipse s internal web browser example swagger openapi defin [OTH] [REP] steps to reproduce the behavior 1 open swagger ui using provided yaml file in eclipse s internal browser 2 click e [REP],"`Add item` to array button hidden when array is not full, after `Remove item`"
[DES] matrix parameters are ignored [DES] [EXP] parameters sends along with a request in query string [EXP] [OTH] example swagger openapi definition yaml openapi version info title test version version servers url rest service p [OTH] [REP] ust send request with matrix parameters [REP],Swagger doesn't send matrix parameters within a request
[DES] . [DES] [EXP] i would expect swagger ui to gracefully handle the yaml anchor circular reference just like it does the normal one [EXP] [OTH] example swagger openapi definition yaml openapi version info title test version version servers url url paths test [OTH] [REP] steps to reproduce the behavior 1 load to example yaml 2 see error [REP],Circular references caused by YAML anchors not handled
[DES] . [DES] [EXP] when an input value transitions from an examples value to a modified one swagger ui should make note of which exam [EXP] [OTH] example swagger openapi definition yaml openapi version paths post requestbody content text plain schema type stri [OTH] [REP] steps to reproduce the behavior 1 open the operation 2 click try it out 3 observe that first is the active example [REP],"in the Examples UI, modified values should be associated with an underlying example value"
[DES] . [DES] [EXP] the swagger ui should obey the openapi specification [EXP] [OTH] this seems to be related to a discrepancy between the oas specification url serverobject vs swagger s internal doc [OTH] [REP] steps to reproduce the behavior 1 point swagger ui at an api spec that uses a path relative url for the server not [REP],Handling of relative URLs in servers does not follow spec
[DES] . [DES] [EXP] produced multipart request should have one part per file in array containing the data from the corresponding file [EXP] [OTH] example swagger openapi definition yaml openapi version info title foo version version servers url url paths test  [OTH] [REP] steps to reproduce the behavior 1 go to url 1 paste the openapi config from above 1 start capturing the request vi [REP],File arrays are broken for multipart forms
[DES] . [DES] [EXP] the form has file upload fields for foo as well as for additional properties [EXP] [OTH] 1 this seems to be closely related to 2771 but slightly different in that this is about multipart form rather than [OTH] [REP] 1 go to url 1 paste the openapi config from above 1 open the post test tab 1 click the try it out button see that  [REP],additionalProperties not handled for a multipart request
[DES] . [DES] [EXP] the payload should be content disposition form data name avatar image filename the avatar image png content type i [EXP] [OTH] example swagger openapi definition yaml openapi version info title test swagger description test swagger contact e [OTH] [REP] steps to reproduce the behavior 1 fill the blanks for the api v1 profile request 2 make the request 3 requests sen [REP],Encoding attribute is not respected on the request
[DES] . [DES] [EXP] a typical operation should look something like this json displayoperationid true security displayrequestduration f [EXP] [OTH] it looks like this bit of code url l195 l198 is the entry point into the bug i always get back a falsy value from  [OTH] [REP] steps to reproduce the behavior 1 configure swagger ui as specified above 2 open swagger ui with the browser conso [REP],Operations do not have access to `props.operation.op` and showExtensions does not work
[DES] . [DES] [EXP] the required header field that is empty should shake and warn the user to fill out the required field [EXP] [OTH] it looks like the error is correctly being reported it is just not triggering any change in the ui like missing pa [OTH] [REP] steps to reproduce the behavior 1 go to url 2 add a required header to the post pets endpoint to do this in the pa [REP],Required Headers Param hangs in Execute
[DES] . [DES] [EXP] should see the models section on swagger ui and schema name should be category and not schemas yamlcategory [EXP] [OTH] example swagger openapi definition openapi yaml yaml openapi version info title common data types version version  [OTH] [REP] npm install g http server cd path to main yaml file openapi http server p 3333 c 1 cors open swagger ui i e dist i [REP],Models sections are not rendered if YAML file uses externally $ref.
[DES] per url examples of dictionary contents you can use the example keyword to specify sample dictionary contents type [DES] [EXP] component schema preview shows examples in line [EXP] [OTH] example swagger openapi definition yaml components schemas order type object properties testmap type object additi [OTH] [REP] steps to reproduce the behavior 1 go to editor swagger io 2 add a dictionary with examples to a component schema 3 [REP],Rendering string:string dictionary example in Schemas
[DES] . [DES] [EXP] 1 keyboard focus should be clearly visible indicated for cancel execute and clear buttons 2 keyboard only users sh [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 navigate to url pet addpet tab key over to try it out button enter key tab key d [REP],"WCAG 2.1 2.1.1, 2.4.3, and 2.4.7 && Keyboard Usability"
[DES] with an older swagger version spec i had a parametermacro url macros that would provide a default value for variou [DES] [EXP] the parametermacro function is executed and set s a default value for the parameter [EXP] [OTH] any generic configuration will do as the bug is functionality related [OTH] [REP] implement a parametermacro when using an openapi version spec notice the function fires but it does nothing [REP],parameterMacro not working with Open API spec
[DES] my api offers some root level routes such as ping and then versioned api routes such as api v1 search param i ve d [DES] [EXP] i guess this needs some thought but i d expect to see tag specific maybe or path specific base path overrides in t [EXP] [OTH] i appreciate this is non trivial to solve example swagger openapi definition yaml servers url api v1 paths ping ge [OTH] [REP] . [REP],OAS3 Path specific servers are not supported
[DES] . [DES] [EXP] execute result and all possible results should be clearly separated [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to url pet addpet 2 click on execute 3 scroll down to results 4 see how results is written in small font just after the executed result [REP],Execute Result is misleading (it's mixed with all possible Results)
[DES] path parameters do not show up if imported as part of a path item object if that path item object has itself been  [DES] [EXP] parameters should display correctly in all cases when placed directly in a path item object when imported via ref  [EXP] [OTH] possibly related to 641 in openapi yaml yaml paths v1 users userid ref paths user yaml in paths user yaml paramete [OTH] [REP] . [REP],Using $ref to refer to a parameter under a path item object does not work
[DES] the color of the text and the color of the background are not in sufficient contrast to each other this can give p [DES] [EXP] the visual presentation of text and images of text has a contrast ratio of at least version 1 except for the follo [EXP] [OTH] sufficient to provide control with sufficient contrast ratio that allows users to switch to a presentation that us [OTH] [REP] steps to reproduce the behavior run chrome accessibility assessment or siteimprove extension see below screenshots [REP],WCAG 2.1 1.4.3 -- Insufficient Color Contrast
[DES] when the method is opened nothing displays except a spinner when a different method is opened nothing displays exc [DES] [EXP] parameters in the path should display the same as path parameters placed in the operation image url [EXP] [OTH] if i move that exact same ref into the parameters property under individual operations i e under the put and get p [OTH] [REP] 1 create a path with a parameter in it such as api collection id 2 put a parameters object directly under that pat [REP],Parameters under path item object does not load
[DES] . [DES] [EXP] i expect the relative urls in the oauth definition to be resolved to the current api server that is if my server i [EXP] [OTH] let me know if you need any additional info i m in the process of documenting my oauth2 endpoints and have the fol [OTH] [REP] steps to reproduce the behavior 1 add an oauth definition to your swagger yml file with a relative url as the auto [REP],Handling of relative urls for Oauth2 authorizationUrl and tokenUrl
[DES] . [DES] [EXP] fenced code blocks should not require additional indentation [EXP] [OTH] valid commonmark fenced code blocks do not require indentation for them to be rendered as code blocks but the pars [OTH] [REP] steps to reproduce the behavior 1 go to url 2 paste in the config above 3 notice the incorrectly rendered code blo [REP],Fenced code blocks requires additional indentation
[DES] description doesn t appear and some infos about scopes are displayed [DES] [EXP] description should appear scopes infos should not appear if i don t want to [EXP] [OTH] when i set an oauth2 securityscheme the description is not displayed an info text is displayed about the scopes i  [OTH] [REP] steps to reproduce the behavior 1 set a securityscheme like in the standard example 2 click on authorize 3 the des [REP],oauth2 securityScheme -> description does not appear
[DES] the topbar plugin is not available in the plugins property of the swagger ui object it seems to live in its own di [DES] [EXP] the website renders topbar and all [EXP] [OTH] as you can see from my configuration i can work around this by including the standalone preset however that forces [OTH] [REP] steps to reproduce the behavior 1 in your swagger ui configuration import swagger ui as swaggerui 2 add swaggerui  [REP],Topbar plugin is only included in Standalone
[DES] . [DES] [EXP] the request should be made with http not https [EXP] [OTH] i m just loading dist index html directly in my browser and pointing ui at my server example swagger openapi defin [OTH] [REP] steps to reproduce the behavior 1 fire up ui with it pointing at the petstore api 2 point ui to a http url with no [REP],Loading new URL does not reset schemes value if schemes unset
[DES] . [DES] [EXP] expected to see a value between minimum and maximum dueday 15 p s this probably is valid for other parameters like [EXP] [OTH] i use a visual studio extension to render things on the fly openapi designer and have checked that it uses the lat [OTH] [REP] steps to reproduce the behavior 1 render yaml with type string and format date 2 open an example value in the brow [REP],Example value for integer with minimum and maximum is out of bounds
[DES] . [DES] [EXP] expected to see only date in example startdate 2018 12 25 [EXP] [OTH] i use a visual studio extension to render things on the fly openapi designer and have checked that it uses the latest version of swagger ui example swagger openapi definition yaml startdate type string format date example 2018 12 25 [OTH] [REP] 1 render yaml with type string and format date 2 open an example value in the browser [REP],Format:date with example renders time in addition to date
[DES] when loading the swagger ui an error briefly appears at the top of the page for a small fraction of a second it th [DES] [EXP] errors should remain at the top of the page until and unless manually dismissed errors should also ideally be adde [EXP] [OTH] any invalid openapi configuration one common example is not including query parameters under a schema object in a  [OTH] [REP] steps to reproduce the behavior 1 create an openapi spec with some errors in it 2 load that spec using the swagger [REP],Error messages display on screen briefly before disappearing
[DES] cannot expand the operation the following is logged on the chrome dev console rangeerror maximum call stack size e [DES] [EXP] the operation expands allowing me to view and try it [EXP] [OTH] example swagger openapi definition yaml basepath control consumes application json definitions objectquerywithkeys [OTH] [REP] steps to reproduce the behavior 1 try to expand pstate classes purchaseorder objects query [REP],Maximum call stack size exceeded
[DES] . [DES] [EXP] rendered to continue to work and not crash allowing validation to reassert itself [EXP] [OTH] example swagger openapi definition yaml openapi version servers info description sdf version version title swagger petstore paths pet get tags pet summary ref operationid addpet responses 405 description invalid input [OTH] [REP] steps to reproduce the behavior 1 go to editor swagger io 2 paste yaml [REP],SwaggerUI crashing with incorrectly placed $ref
[DES] . [DES] [EXP] i expected the generated spring server would contain two controllers one per tag [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to generate client java 2 go to generate server spring 3 check that java client generates petapi java and storeapi java separated by tag and spring server generates only one v1apicontroller containing all endpoints if endpoints didn t have the same prefix v1 spring server exportation would generate two controllers [REP],Inconsistent export naming rules between client/java and server/spring
[DES] . [DES] [EXP] the form input shakes indicating that its a missing and required field [EXP] [OTH] i think the validateparams reducer doesn t consider requestbody fields we may need to consider both the required o [OTH] [REP] steps to reproduce the behavior 1 click on try it out 2 click on execute leaving the form empty [REP],Required parameter in requestBody doesn't block request from executing.
[DES] it seems that log out functionality does not flushes authorization code received after successful oauth2 log in when you log out and logging in again token request sent again with the same code not with the new one [DES] [EXP] you can successfully log out and authorize again with authorization code flow [EXP] [OTH] . [OTH] [REP] 1 authorize with oauth2 authorization code flow 2 press log out 3 try to authorize again [REP],"Oauth2 Authorization Code flow, can't log in after log out"
[DES] operations with very long paths and summaries render strangely the long path takes maybe 90 of the space resulting [DES] [EXP] better wrapping and space distribution wrapping would ideally occur at a in the path and more horizontal space sho [EXP] [OTH] example swagger openapi definition excerpt from edited petstore json found here url yaml paths pet with a really l [OTH] [REP] steps to reproduce the behavior 1 view a document with an operation that a has a very long path and b has a non em [REP],Operations with long paths render strangely
[DES] . [DES] [EXP] operation expansion in less than 1 sec [EXP] [OTH] example swagger openapi definition url note this spec is obfuscated swagger ui configuration options swagger editor default settings [OTH] [REP] steps to reproduce the behavior 1 click get hhutvnqgqcun or get kayqpvejwlyy to expand the operation 2 wait [REP],"""Lazy resolver"" feature introduced in v3.11.0 slows down expanding operations in OAS3 spec"
[DES] swagger config yaml is being overriden by default configuration url l136 constructorconfig is filled with the defaults [DES] [EXP] swagger config yaml changes the defaults but is overridden by other config mechanisms [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 change anything in swagger config yaml and check ui getsystem getconfigs [REP],swagger-config.yaml configuration is overriden by the defaults
[DES] . [DES] [EXP] parameter or path variable is in generated curl before execute captura url after captura2 url [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to main page 2 click on any service 3 click on try it out and complete a query parameter or path variable 4 click on execute 5 see query parameter or path variable is not in generated curl and not used to call service and input field is empty [REP],Query parameters and path variables are not read
[DES] every key press in the request body takes about 800 ms to process the ui hangs and freezes while typing and openin [DES] [EXP] the ui does not hang or only for a very short time when entering words in the request body text field [EXP] [OTH] example swagger openapi definition url note this spec is obfuscated swagger ui configuration options swagger edito [OTH] [REP] steps to reproduce the behavior 1 go to any post operation 2 click on try it out 3 type in the request body field  [REP],UI hangs when typing in request body
[DES] . [DES] [EXP] examples for the test parameter should be shown somewhere in the ui [EXP] [OTH] image url i expect to see this is the example value i want to see in the ui somewhere in the ui example swagger op [OTH] [REP] steps to reproduce the behavior 1 open the above yml file in swagger ui 2 open the parameter request no example 3  [REP],Request parameter examples are not rendered in UI
[DES] . [DES] [EXP] a 200 with no response body should yield some sort of warning because the schema should at least be a 404 from the [EXP] [OTH] example swagger openapi definition yaml openapi version info description something version version title title ter [OTH] [REP] steps to reproduce the behavior 1 have the server return a 200 with an empty response body to have the spinners sp [REP],Externally loaded schemas do not report a failure to load.
[DES] . [DES] [EXP] should only open the clicked item [EXP] [OTH] testdoc txt url [OTH] [REP] steps to reproduce the behavior 1 import the doc into the online swagger editor 2 click on the path of first item api v1 subdomain go user detail 3 observe that top 2 items have both expanded together [REP],Http Operations Using Same Path All Expand/Contract Together
[DES] conditionally rendering the swagger ui or the swagger editor in the context of a simple react application creates  [DES] [EXP] no memory leak per url issuecomment [EXP] [OTH] conditionally rendering the swagger ui in a react application when rendering the swagger ui per the recommendation [OTH] [REP] see the screenshots below for examples repo url steps to reproduce the behavior with redux dev tools 1 clone the l [REP],Rendering Swagger UI in a React app causes a memory leak
[DES] . [DES] [EXP] expected the example section to be the same depth as the model section swaggeruiissue1 url swaggeruiissue2 url [EXP] [OTH] example swagger openapi definition unfortunalty i am unable to post it here will be happy to send it by mail swagg [OTH] [REP] steps to reproduce the behavior 1 acquire a huge model can be provided by mail if necessary 2 click on some operat [REP],huge model causes ui to crash
[DES] i just updated from using angular 5 to angular 7 after that my swagger ui display the info section as escaped html rather than understand it as html tag but if i use dev mode with ng serve it open swagger ui properly it doesnt happen with angular 5 [DES] [EXP] the swagger ui should display it as html code rather than plain text [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 building project with ng build prod aot 2 deploy project on nginx [REP],HTML tag will be escaped with Angular 7 production build
[DES] example value of date property is not rendered correctly when provided as timestamp url value only strings quoted  [DES] [EXP] i would expect to see the date that is provided in openapi definition [EXP] [OTH] see the stackoverflow question url that pointed to creation of this issue example swagger openapi definition yaml  [OTH] [REP] steps to reproduce the behavior 1 i pasted the yaml to url 2 see the example value section 3 date example is displ [REP],OpenAPI YAML timestamp example value is not displayed correctly
[DES] . [DES] [EXP] the operation should be expanded be scrolled to even if the operation has a space in it [EXP] [OTH] attempt to fix in url url url use example swagger spec with spaces in the operations url initialise swagger bundle [OTH] [REP] steps to reproduce the behavior 1 use a spec that has a spaces in the tags e g url 2 initialise the swagger settin [REP],Deep links to operations are broken when tags contain spaces and doc expansion is 'none'
[DES] . [DES] [EXP] the type parameter is dropped from the form data portion of the curl when there is no recognized type [EXP] [OTH] . [OTH] [REP] visit url pet uploadfile and execute a request after having selected a file with either an invalid extension e g foo abc or potentially a good extension that is unrecognized such as nuget s foo nupkg the generated curl command includes a blank type f file type which causes the curl to be invalid [REP],invalid curl command generated for unknown file types
[DES] . [DES] [EXP] should provide a try out to get the entities from the service [EXP] [OTH] when using cylcic navigations within the same model the issue does not occur it only occurs when using cyclic cross model navigations [OTH] [REP] load e g the first model in the swagger version ui and try get products clocks [REP],Cyclic navigations with x-model-reference for OpenAPI 3.0.0
[DES] . [DES] [EXP] request is sent with user agent equal to specified parameter [EXP] [OTH] example swagger openapi definition yaml name user agent in header description user agent required true type string [OTH] [REP] steps to reproduce the behavior 1 go to method with user agent parameter 2 click on execute [REP],Chrome overrides User-Agent specified as parameter
[DES] unable to render query string parameter when using content instead of schema i m using content because my query st [DES] [EXP] input is rendered [EXP] [OTH] example swagger openapi definition yaml openapi version info title api docs version version description docs paths [OTH] [REP] steps to reproduce the behavior 1 use content as stated in url yaml parameters in query name filter content applic [REP],Query string parameter not rendered when using 'content' property
[DES] . [DES] [EXP] since the url configuration parameter is supposed to be ignored the page should load with the first url listed by  [EXP] [OTH] you can workaround this bug by providing a blank url configuration parameter in the configuration endpoint s respo [OTH] [REP] steps to reproduce the behavior 1 open the swagger ui in a browser with the configurl query parameter 2 refresh th [REP],"The ""url"" configuration parameter is not being ignored when ""urls"" is provided via ""configUrl"""
[DES] angular application compiles with an error date 2018 10 25t15 05 version z hash time 11370ms chunk main main js ma [DES] [EXP] compile an application without any errors [EXP] [OTH] i think xml dependency requires stream lib which is a part of node js core and it s not compiled with angular [OTH] [REP] create a new angular project then do npm install swagger ui and add code to the app component ts typescript import [REP],swagger-ui npm module doesn't compile with Angular 7
[DES] . [DES] [EXP] spec selextor textbox updates with changes made by interceptor [EXP] [OTH] url l38 l40 seems to be the problem setting the url back to the old value example swagger openapi definition n a s [OTH] [REP] steps to reproduce the behavior 1 write a request interceptor that modifies the url of loadspec requests 2 load th [REP],Rewriting request.url for loadSpec requests does not update URL selector box
[DES] . [DES] [EXP] it must display atleast the first two attributes which has a valid type xml version version encoding utf 8 test t  [EXP] [OTH] unrelated question is there a way to display property c as well in the response example i understand that the type [OTH] [REP] steps to reproduce the behavior 1 go to url 2 copy paste the provided spec 3 click on post test endpoint 4 under r [REP],XML example not rendered correctly with oneOf
[DES] . [DES] [EXP] i would expect it to use both the settings from the config file found from the config url and also to load the api [EXP] [OTH] example swagger openapi definition i tested this with the petstore openapi doc also swagger ui configuration optio [OTH] [REP] you can use this docker compose file to launch the service with the same options i m using yaml version 3 services [REP],"When using both CONFIG_URL and API_URLS, the API_URLS are ignored."
[DES] . [DES] [EXP] work as it is described in openapi documentation [EXP] [OTH] example swagger openapi definition myapi mymethod post summary my method operationid myapimymethod tags common par [OTH] [REP] steps to reproduce the behavior run in swagger ui provided example [REP],"Using ""content"" in ""parameters"" doesn\\\\'t work"
[DES] . [DES] [EXP] i expect no warnings [EXP] [OTH] . [OTH] [REP] this is not necessarily a bug but maybe a react best practice when executing a sample rest endpoint i am noticing  [REP],"JSX boolean attribute ""readOnly"" should not use string values"
[DES] . [DES] [EXP] go to url and see the server list appear correctly on version version [EXP] [OTH] the website at url shows swagger documentation for my api there should be a server selection box at the top that a [OTH] [REP] steps to reproduce the behavior 1 go to url 2 see no server list [REP],Missing servers list when upgrading to version 3.19.0
[DES] . [DES] [EXP] required property should be marked by red asterix [EXP] [OTH] none example swagger openapi definition requestbody content multipart form data schema ref schemas body myfile jso [OTH] [REP] steps to reproduce the behavior 1 create request body where schema is in separate file 2 make sure that one of the [REP],Swagger UI doesn't indicate by red asterix required field
[DES] . [DES] [EXP] deep linking works smiley cat [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 start the dev server with the config from above 2 go to url pet post pet 3 observe that the pet operation is not unfolded [REP],Deep linking does not work without `operationId`
[DES] before i get too deep into filling out this report is swagger ui express also considered an app that is not using  [DES] [EXP] should not error [EXP] [OTH] is this issue supported author of swagger ui express suggest these issues be opened here but your docs suggest you [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on users 3 see error [REP],"swagger-ui-express support? debResolveSubtrees: don't have a system to operate on, aborting"
[DES] . [DES] [EXP] the spec should be detected as oas3 on subsequent calls to swaggerui or swaggeruibundle [EXP] [OTH] . [OTH] [REP] 1 open url 2 hit the initialize button 3 observe oas3 badge disappearing [REP],v3 spec rendered as v2 on re-initialization
[DES] . [DES] [EXP] servers should be displayed inline similar to swagger version schemes img width 1058 alt image src url [EXP] [OTH] filed on behalf of ralphdoe [OTH] [REP] steps to reproduce the behavior 1 load any oas3 definition with a severs object [REP],"OAS3 Servers display as a block, with an odd empty container above"
[DES] i m attaching two files that have exactly 1 difference 1st file has application x www form urlencoded as requestbo [DES] [EXP] x www form urlencoded example swagger openapi definition yaml openapi version info title petstore form version ver [EXP] [OTH] . [OTH] [REP] you can use the second example to see this behavior [REP],requestBody with type mime/form-data is broken
[DES] . [DES] [EXP] i should see value [EXP] [OTH] example swagger openapi definition yaml components securityschemes x api token type apikey name x api token in header links callbacks security x api token [OTH] [REP] steps to reproduce the behavior 1 click on authorize 2 enter value 3 press authorize 4 refresh the page 5 click authorize again [REP],Authorization value is lost on refresh
[DES] . [DES] [EXP] empty requestbody is ignored description of path is avaliable or i can see an error while [EXP] [OTH] describe a path with empty requestbody object example swagger openapi definition paths some route post operationid someid tags some requestbody responses 200 description description [OTH] [REP] describe a path as written above [REP],Problem displaying path with empty ResponseBody parameter
[DES] . [DES] [EXP] no error the definition is valid [EXP] [OTH] example swagger openapi definition yaml openapi version info title test version version paths test post tags an und abmeldung security parameters in query name msg id schema type string responses 200 description okay config out of the box without any change [OTH] [REP] steps to reproduce the behavior 1 copy paste schema into empty editor 2 see error message [REP],"OpenAPI 3.0 parameter -> ""in: query"" shows error"
[DES] there is a swagger ui dist version tgz present in the version npm bundle of swagger ui dist [DES] [EXP] no stray archive [EXP] [OTH] . [OTH] [REP] sh npm install swagger ui dist ls l node modules swagger ui dist grep tgz rwxrwx 1 axnsan axnsan jul 20 02 04 swagger ui dist version tgz [REP],Stray in swagger-ui-dist 3.18.0 npm package?
[DES] . [DES] [EXP] i would expect a message similar to no example values are available for content type application octet stream to b [EXP] [OTH] another possible workaround could be the addition of allowing users to hide example values for a response type if  [OTH] [REP] steps to reproduce the behavior 1 use content type application octet stream for a response 2 open swagger ui page  [REP],Content type application/octet-stream shouldn't show example for response
[DES] in essence 3366 is back or had only been partially fixed [DES] [EXP] the visual output is fine in this example however there are javascript errors emitted and the online editor shows  [EXP] [OTH] example swagger openapi definition yaml swagger version info title test version version basepath schemes https pat [OTH] [REP] steps to reproduce the behavior 1 go to url 2 enter the swagger above 3 expand anything you will until you reach t [REP],Resolver error - Cannot read property '0' of undefined (it's is back)
[DES] . [DES] [EXP] the displayed curl request should not be undefined [EXP] [OTH] since i saw that curlify js has a curl function that is to be called with the request as argument i suspect that w [OTH] [REP] steps to reproduce the behavior 1 see this jsfiddle url 2 press play 3 try it out on get pets 4 execute 5 observe  [REP],requestInterceptor that returns promise breaks curlify output
[DES] the first time you instance the swagger ui it works correctly after this if you do it using swaggeruibundle variab [DES] [EXP] it should display the same information regardless the number of calls it should not store any information about th [EXP] [OTH] example swagger openapi definition yaml file is available here url swagger ui configuration options js swaggeruibu [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on load swagger 3 click on it again 4 see error [REP],Swagger ui bundle can't be used twice with the same result
[DES] if there is an enum query parameter the user can select the parameter value from a drop down list in swagger ui bu [DES] [EXP] the request url should be foo test correctoption [EXP] [OTH] example swagger openapi definition yaml openapi version info title test version version paths foo get parameters i [OTH] [REP] steps to reproduce the behavior 1 go to foo try it out 2 click on wrongoption 3 select correctoption 4 click on ex [REP],Requests do not use correct enum query parameter
[DES] . [DES] [EXP] the model should contain values such as id and username corresponding values should then be shown in the example v [EXP] [OTH] these problems only occur in internet explorer 11 it works as expected in edge firefox and chrome earlier versions [OTH] [REP] steps to reproduce the behavior 1 start internet explorer 11 2 go to url user 3 example value is null 4 click on m [REP],Empty model in Internet Explorer 11
[DES] . [DES] [EXP] ui sends the http request and display the results [EXP] [OTH] this is most visible issue that have direct impact on functionality however there are tons of js errors in the chr [OTH] [REP] steps to reproduce the behavior 1 click on any route with required parameter e g pet petid 2 click try it out butt [REP],Impossible to submit required params in react app which is using SwaggerUi component
[DES] . [DES] [EXP] i expect that getting the link url from an operation gives me a correct deeplink e g url pet addpet [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 url 2 click on the pet resource 3 click on the pet operation 4 the operation is  [REP],Operation deep link is incorrect (not bookmarkable)
[DES] enum value doesn t change in request if it s required when it s not a required value it changes successfully [DES] [EXP] when changing enum to id 2 sending a request for parameter id 2 [EXP] [OTH] os macos browser chrome firefox version latest in date method of installation dist assets bug can be reproduced on [OTH] [REP] 1 open url 2 edit the get path pet petid to allow enums instead of input full file here swagger bug txt url 3 try  [REP],Enum value doesn't change if it's required
[DES] . [DES] [EXP] inventoryitem and type to become individual definitions [EXP] [OTH] seems to be an issue the json generating invalid immutable maps so the model component crashes when performing a g [OTH] [REP] steps to reproduce the behavior 1 load above yaml 2 indent inventoryitem so it is inline with type object 4 models [REP],Bad indentation of definition breaks Models component
[DES] . [DES] [EXP] i should see javascript id 20 name ron stewart displayed in example box [EXP] [OTH] i don t know if this is a poor schema design from me or if there is some trouble in swagger ui i m more likely to  [OTH] [REP] steps to reproduce the behavior 1 go to url and use the schema above 2 click on get user 3 scroll down to response [REP],Bug - mediaType level examples are not rendered in Chrome
[DES] running npm install followed by npm start or serve static fails as http server is not found error sh 1 http server [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 clone the project 2 npm install 3 npm start or npm serve static http server is r [REP],Npm start / serve-static requires http-server
[DES] . [DES] [EXP] i except the window to close and be back authenticated on swagger ui interface like in chrome [EXP] [OTH] it seems that window opener is undefined in internet explorer which cause this issue any config using oauth2 authentication flow [OTH] [REP] try to use oauth2 with internet explorer 11 [REP],oAuth2 redirect page does not work with Internet Explorer
[DES] . [DES] [EXP] in example value tab should be combined schema with all resolved references [EXP] [OTH] . [OTH] [REP] 1 use my yaml 2 go to meta 3 check example value model tabs [REP],"$ref could not be resolved for ""Example value"" tab"
[DES] . [DES] [EXP] it should use value that is set [EXP] [OTH] example swagger openapi definition yaml swagger version info title swagger ui paths user get summary get user parameters name id in query type number example 1 responses default description ok [OTH] [REP] steps to reproduce the behavior 1 try to execute get user 1 edit id to any value 1 it always get reset back to 1 [REP],parameters with example value always get reset
[DES] . [DES] [EXP] i expect that try it out panel will contain button to select file for media types image not only for application o [EXP] [OTH] example swagger openapi definition yaml openapi version info version 2018 05 07t12 39 34z title ocr api servers ur [OTH] [REP] steps to reproduce the behavior 1 go to imagesvalid resource 2 click on try it out 3 make sure that select file bu [REP],'Select File' button isn't presented for 'image/*' media types in binary format
[DES] we have oauth2 authorization code flow implemented our api documentation is build using openapi v3 using url does not work for us because there is a bug with the callback url swagger editor should either provide means to change the callback url required or should at least get it right expected url actual [DES] [EXP] using oauth2 with authorization code flow should work while using url [EXP] [OTH] . [OTH] [REP] . [REP],OAuth 2 with authorization code flow uses wrong callback url
[DES] . [DES] [EXP] the endpoint ui element should unfold properly [EXP] [OTH] n i haven t modified anything that should effect the endpoint accordion feature i just have a couple of very basic endpoints described [OTH] [REP] steps to reproduce the behavior 1 create an asp net core web api or web application project with at least one described endpoint 2 install swashbuckle aspnetcore via the normal nuget org instructions 3 navigate to the swagger ui endpoint 4 click on the endpoint ui element [REP],The endpoint UI element doesn't unfold properly the 1st time you click it
[DES] . [DES] [EXP] the normal built in redirect to the endpoint including the final slash should occur [EXP] [OTH] i checked and the redirect works as expected with the default endpoint csharp app useswagger app useswaggerui opti [OTH] [REP] steps to reproduce the behavior 1 create an asp net core web api or web application project 2 install swashbuckle  [REP],Custom endpoint without the final slash has a bad redirect
[DES] newlines in the description fields are being converted to br since these fields should be treated as markdown sing [DES] [EXP] linebreaks are converted to spaces contiguous lines are combined in a single p [EXP] [OTH] example swagger openapi definition url yaml swagger version paths basepath info title health insurance system api  [OTH] [REP] steps to reproduce the behavior 1 enter a description with a linebreak 2 render with swaggerui [REP],Newlines in description fields are converted to <br>
[DES] . [DES] [EXP] i would expect to see the example xml for the response [EXP] [OTH] i ve reproduced this locally but even easier to demonstrate petstore has the same issue example swagger openapi de [OTH] [REP] steps to reproduce the behavior 1 go to url 2 expand pet findbystatus 3 make sure response content type is applica [REP],xml example cannot be generated for response type of array
[DES] . [DES] [EXP] the json should just be a string [EXP] [OTH] example swagger openapi definition yaml openapi version info title title version version paths path post responses [OTH] [REP] steps to reproduce the behavior 1 go to url 2 paste in the swagger openapi definition yaml above 3 look a the rend [REP],Adding json example in multipart/form-data outputs excess json from immutableJS
[DES] the authorize popup is not clearing the apikey when logout button is clicked [DES] [EXP] it shouldn t allow to authorize an empty textbox [EXP] [OTH] . [OTH] [REP] steps to reproduce the behavior 1 go to url 2 click on the authorize popup 3 scroll down to the api key section 4 type a text in the textbox 5 click on authorize 6 without closing popup click on logout and again authorize 7 apikey is authorized even though there is nothing in textbox [REP],The Logout button in Authorize popup not clearing API Key
[DES] . [DES] [EXP] file downloads correctly observed file is corrupted as described in the linked issue [EXP] [OTH] you can see it here url convertdocument convertdocument docxtopdf example swagger openapi definition url swagger u [OTH] [REP] lnowak 1238 noted an issue where a file download triggered via the content disposition header will result in a lin [REP],Swagger UI 2.0 corrupts all Content-Disposition file attachments on download
[DES] . [DES] [EXP] the global security requirement should work for all endpoints for the defined endpoint [EXP] [OTH] note this is obfuscated since i work on software where you need a security clearance example swagger openapi defin [OTH] [REP] steps to reproduce the behavior 1 add the security scheme to the openapi configuration json json security apikeyau [REP],Security requirement in openapi config breaks the UI
[DES] . [DES] [EXP] the server url used in fetching an oauth2 token is the one shown in the server dropdown [EXP] [OTH] example swagger openapi definition yaml openapi version info description some docs for a bug title test title vers [OTH] [REP] steps to reproduce the behavior 1 go to url 2 paste in the above yaml file 3 reload browser pasted yaml data shoul [REP],Server URL Use in OAuth Not Correct Without Refresh
[DES] . [DES] [EXP] there is no warning shown [EXP] [OTH] example swagger openapi definition petstore demo url swagger ui configuration options default configuration npm run dev [OTH] [REP] steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error 1 start the swagger petstore demo locally 2 navigate to url 3 scroll down the modal section 4 click on a modal element e g order 5 open your browsers dev console [REP],Opening a Model of the Swagger Petstore shows a warning in the console
[DES] . [DES] [EXP] when the header field is empty no header should be sent since it is configured as optional [EXP] [OTH] example swagger openapi definition json config url [OTH] [REP] steps to reproduce the behavior 1 go to sql get and execute query without header x irest conn x irest conn is an o [REP],Optional header field when reset results in empty header value
[DES] when moving from one version to another the default value remains the same in the input box [DES] [EXP] api version parameter need to be version [EXP] [OTH] i have used following sample url [OTH] [REP] steps to reproduce the behavior 1 go to orders and expand 2 click on try it out 3 api version parameter is version it s correct 4 select a spec v1 5 go to orders the api version parameter default value shown version which is correct 5 click on try it out 6 api parameter is which is incorrect [REP],Default Value of the parameter do not change when moving from one version to another.
[DES] . [DES] [EXP] the response headers should be very similar since the call is made to the same endpoint [EXP] [OTH] i believe that something is going awry when cors is required i tested this assumption by hosting the same petstore [OTH] [REP] 1 run this endpoint with the provided sample data url pet addpet and notice your response will include headers lik [REP],Response headers incomplete when making CORS requests
[DES] i have attached an example with two fields above 1 the first working field i have a pattern and no default i see s [DES] [EXP] i would expect pattern validation to apply tot he default example fields correct [EXP] [OTH] example swagger openapi definition yaml working field type string description the id of the customer example 70168 [OTH] [REP] steps to reproduce the behavior 1 go to create a swagger and have the two fields i provide as examples 4 when teh  [REP],swagger-ui - ui incorrectly validates field in swagger when using pattern
[DES] . [DES] [EXP] the form should not clear you can see this behavior in public good html [EXP] [OTH] here s an example repo url take a look at public good html and public bad html [OTH] [REP] steps to reproduce the behavior 1 open public bad html 2 click to expand get request 3 click try it out 4 enter a value in the limit field of the form and submit 5 see that the limit field has been cleared [REP],Request form clears after submitting in NPM module
[DES] . [DES] [EXP] test value would be set in the testheader input field [EXP] [OTH] somehow the test value value appeared if the property is placed direct under parameter object instead of schema ob [OTH] [REP] 1 open the swagger ui page 2 click get test bar 3 click the try it out button 4 testheader input field doesn t sho [REP],Input field doesn't show the default value
[DES] . [DES] [EXP] the id should be a valid html id like on the operation section itself html h4 class opblock tag id operations tag  [EXP] [OTH] example swagger openapi definition use the petstore demo and change one of the tags to multiple words e g js tags  [OTH] [REP] steps to reproduce the behavior 1 go to url 2 open your developer tools 3 select the first operation of the pet st [REP],Invalid HTML ID for Operations with tags which contain multiple words
[DES] . [DES] [EXP] data should render properly like it did with swagger version ui [EXP] [OTH] providing larger json samples inside the x examples section will cause data to get rendered outside the table in s [OTH] [REP] steps to reproduce the behavior 1 go to editor swagger io and upload the swagger above 2 in the gui pane notice th [REP],Swagger UI 3.x JASON inside x-examples causes rendering outside of table.
[DES] . [DES] [EXP] image url the response content type render correctly and we can chose the item in the drop down box successfully [EXP] [OTH] define global for consumes and produces then put a ref in your main json js consumes application json application  [OTH] [REP] steps to reproduce the behavior 1 go to the rest api page 2 click on book tag 4 see error image url [REP],Couldn't define global for consumes and produces when using a separated reference files
[DES] . [DES] [EXP] show and update the number of txs in the mempool in real time [EXP] [OTH] it happened after upgrading from version to version getrawmempool returns transactions so the mempool is working it appears to be a gui issue screenshot 32 url [OTH] [REP] tried restarting the node reinstalling core and running it without the conf file issue persists i m not sure how to reproduce it [REP],"Mempool fields in Debug Windows show ""N/A"""
[DES] it succeeded the first time and i was able to start the app by running src qt bitcoin qt but after i did ctrl c to [DES] [EXP] i expect it to succeed [EXP] [OTH] i tried this on master branch commit using a macos version mojave [OTH] [REP] 1 using macos run make deploy 1 once finished run src qt bitcoin qt 1 ctrl c to quit bitcoin qt process 1 run make [REP],`make deploy` is failing on macOS
[DES] core crashes and when started again the url has not been saved [DES] [EXP] core should save the provided url and use it for transaction look ups [EXP] [OTH] . [OTH] [REP] run bitcoin qt with disablewallet 0 go to settings options display and specify a tx url [REP],Specifying a third party transaction URL crashes Bitcoin Qt
[DES] i m getting prompted with a conftest exe application error see below for screenshot during the make of the depends [DES] [EXP] making the bitcoin depends on windows subsystem for linux ubuntu version should complete without error [EXP] [OTH] . [OTH] [REP] 1 in windows open bash prompt of windows subsystem for linux ubuntu version 2 install the required packages to bui [REP],conftest.exe error during make of depends on Windows Subsystem for Linux
[DES] openssl termio header not found gcc m64 i i i modes i asn1 evp include dopenssl threads d reentrant pipe o2 home a [DES] [EXP] dependencies should build without an issue [EXP] [OTH] this is on the master branch as of commit f8b0b190a machine specs os alpine linux version cpu ram aws m version xl [OTH] [REP] in alpine linux version sh apk update apk add git cmake make curl gcc g perl automake autoconf libtool pkgconfig p [REP],Alpine Linux 3.10 (latest stable) has some build issues w/dependencies
[DES] add range fail bitcoin cli deriveaddresses wpkh d34db33f 84 0 0 n9g43y4k 0 2 error code 8 error message range should not be specified for an un ranged descriptor [DES] [EXP] without range is fine bitcoin cli deriveaddresses wpkh d34db33f 84 0 0 n9g43y4k [EXP] [OTH] bitcoin version macbook sierra version regtest url 90340 [OTH] [REP] bitcoin cli deriveaddresses [REP],bitcoin-cli deriveaddresses always returns an range error
[DES] loadable component fails to get the state [DES] [EXP] . [EXP] [OTH] react boilerplate version node npm npm 5 node version browser chrome version official build 64 bit [OTH] [REP] my app uses preloaded state from the server app ejs html div id initialstate data value div app js js const initia [REP],Loadable component fails to get the state using dynamic injection reducer
[DES] we ve upgraded our application to react and react dom v version that was created using react boilerplate v version [DES] [EXP] . [EXP] [OTH] react boilerplate v version node npm v version v version browser chrome 77 [OTH] [REP] i don t have a specific reproduction case upgrade any react boilerplate v version project to react v version [REP],Deprecated lifecycle methods (e.g componentWillMount) in boilerplate code
[DES] in my project url i have several sagas that are responsible for retrieving data from multiple api endpoints i ve s [DES] [EXP] . [EXP] [OTH] react boilerplate version [OTH] [REP] inject a saga into the app container and have the container load another container component on a route match like [REP],Injecting multiple sagas with the same key leads to unexpected results in production
[DES] i have several routes in app and on come to route in componentdidmount i fetch data from server when i change rout [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate version node npm version version brows [REP],application in prod run requests multiple times when changing routes when using basename
[DES] i use the react boilerplate latest commit code without any changes i have some nested routes as in app route path  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] for example i create an account and after post is resolved i redirect to accountsdisplay yield put push accounts d [REP],Connected React Router register saga watchers multiple times on route change
[DES] add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],"Build size is too big, around 1.2 mb"
[DES] same error to this url in release develop mode is ok not error but only production also component has this error no idea i find this babel plugin transform react constant element and remove after ok url l23 thank for this react boilerplate [DES] [EXP] . [EXP] [OTH] react boilerplate version node npm node v version yarn version npm version browser chrome x64 osx [OTH] [REP] yarn start production image url [REP],Build Production - Minified React error #130
[DES] is there available documentation or proper way to deploy production build files into subdirectory [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] build files then upload it to the subdirectory on your server path versions react boilerplate version node npm version version browser chrome [REP],How to properly deploy production build files into subdirectory
[DES] hi i am using react boilerplate and i found that if i use redux saga for pushing to new route yield put push newro [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] url versions react boilerplate see package json version node npm version [REP],"Solving ""Update blocking"" issue in react-boilerplate"
[DES] hi i am using react boilerplate and i found that if i use redux saga for pushing to new route yield put push newro [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] url versions react boilerplate see package json version node npm version browser [REP],"Solving ""Update blocking"" issue in react-boilerplate"
[DES] hi i am using react boilerplate and i found that if i use redux saga for pushing to new route yield put push newro [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],"Solving ""Update blocking"" issue in react-boilerplate"
[DES] i fork this template created a new container called newpage yarn start the package from home page i click the new page button then i tried to load repo from that page however the saga does not attempt to load repo at all [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] clone url yarn yarn start click on new page button type mxstbr then press enter expect it to load but saga does not load repo img width 1428 alt screen shot 2018 10 30 at 12 58 57 am src url [REP],Fail to Call Saga From Another Page
[DES] i d really like to start closing any issues or prs that do not fill out the given templates it s such a waste of time to go through everything and try and figure out the problem we could also update these templates if that might help thoughts [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] go look at most of the open issues versions react boilerplate see package json latest node npm n a browser n a [REP],Start enforcing usage of issue/PR templates
[DES] i m getting an error when running npm run setup on the dev branch that comes from the compare versions module clai [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] run npm run setup in powershell or cmd exe on windows versions react boilerplate see package json vnext node npm n [REP],npm run start on the dev branch fails on Windows
[DES] postinstall script which is running build dll with node internals scripts dependencies js is throwing an error as  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] just npm install or node internals scripts dependencies js versions react boilerplate see package json version ver [REP],Postinstall - build:dll - wrong path creation for react-boilerplate-dlls folder
[DES] i m trying to use react palm in my project but without success i tried some options like node react palm empty but [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone react boilerplate 2 npm i react palm save 3 npm run build dll versions react boilerplate see package json  [REP],ERROR in dll reactBoilerplateDeps - Module not found
[DES] the boilerplate adds bin extension to the htaccess file [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] after the app is setup there is a htaccess file in the app directory so when the npm run build is ran the build pr [REP],"htaccess gets "".bin"" extension during the build process"
[DES] when using yarn workspaces whenever we run npm test watch it run all tests in a project if we set jest to run only [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] clone this project add private true and workspace app create new submodule inside app module a and add some depend [REP],test:watch mode doesnot detect correct changed file !
[DES] when adding main chunks to additional assets in offlineplugin as below webpack prod babel js it causes website to  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] git clone url cd react boilerplate npm i npm run build npm run start prod navigate to url in chrome verify service [REP],offline-plugin should install chunks as part of update process
[DES] i m having same problem described here url with last version of the boilerplate i can t re open comment the previo [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] create a folder named config inside app with 2 files in it development js and test js first one being just module  [REP],Resolve alias in Jest not working
[DES] running npm run test produces a complete set of coverage and a somewhat amibiguous error message final lines of ou [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] run npm run test on a mac running high sierra version with a freshly installed watchman add link to a demo on url  [REP],Repeat of 1845 - cross-env NODE_ENV=test jest
[DES] add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],Why not work in global-styles.js
[DES] add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],How to add hindi language in i18
[DES] how about creating a cli based on boiler plate [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],An CRA Like CLI for setting up the project
[DES] i add jest watch to npm scripts like this commit url when file change it will still re run all test like jest watc [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] git clone npm run setup add scripts test dev cross env node env test jest watch npm run test dev change a single f [REP],use 'jest --watch' still re run all test when file change
[DES] npm run setup on windows doesn t create a new repository after installing the dependencies and clearing the old re [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] js git clone depth 1 url npm run setup or yarn setup when asked if you want to clear the old repo say y it install [REP],Running the setup doesn't create a new repository
[DES] add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],"React Router Sitemap not working with this boilerplate, any solution?"
[DES] running npm run test in the example app as outlined in the testing notes does not perform any tests on windows 10  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] follow the quick start guidelines clone this repo using git clone depth 1 url move to the appropriate directory cd [REP],"example application, 'npm run test' - No tests found"
[DES] i m experimenting antd ant design with this awesome boilerplate i fiddled around with some basic components in dev [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] the component i m using is antd button with styled component wrapping it import antd dist antd css import styled f [REP],Build failed with styled-component in production but works fine in dev
[DES] when test coverage falls below 98 npm run test throws an error instead of ending [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 add code to the template without any automated tests 2 make sure the amount of code changed causes the coverage  [REP],"when test coverage falls below 98%, npm run test throws an error instead of ending"
[DES] when changing between routes the location change is being dispatched but it is impossible to undo these actions vi [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] run react boilerplate sample app open up reduxdevtools extension change location by clicking features button obser [REP],location change action and ReduxDevTools
[DES] i can successfully use redux form within my app but i get a weird cryptic errors with the test suite after adding  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] git clone depth 1 url cd react boilerplate npm run setup yarn add redux form npm test observe errors versions reac [REP],Adding redux-form breaks test - Path must be a string. Received undefined
[DES] i am far from being an expert in i18n but shouldn t an empty translation json contain an empty object not an array is there a certain reason why empty array is generated when i18n s seems not to benefit from them at all at top level since values cannot be assigned to keys [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] npm run generate language followed by any translations any json json as defined in url versions react boilerplate see package json version node npm browser [REP],Generated i18n language file shows an Array
[DES] in webpack config base in that case resolve extensions reasonably assumes that jsx files can be used in the projec [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] doesn t apply versions react boilerplate version node npm browser [REP],Invalid babel-loader regex for JSX files
[DES] npm run build stops at 91 quits and the build folder isn t created happens when i try to do a build on a cloud ubuntu vm img width 586 alt screen shot 2017 08 15 at 11 53 48 pm src url [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone react boilerplate repository 2 npm run setup 3 npm run build versions operating system ubuntu version react boilerplate see package json version node npm v version version browser n a [REP],Build command doesn't work on ubuntu 16.04
[DES] environment variable not exposed when running in production [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] i ve added my env var new webpack defineplugin process env node env json stringify process env node api url json stringify process api url and then in my code let apiurl process api url when i run api url npm run start prod my variable is undefined when i run npm run start it s fine would love to use my in prod versions react boilerplate version node npm v version [REP],Environment variables not exposed in production mode
[DES] if you don t have lodash or cross env installed before running npm run setup or installed globally then the project will delete the setup script but will not complete setup this puts the project in a state where you need to re clone in order to fully set up the app [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] run npm run setup without lodash globally installed versions react boilerplate see package json head of master and most stable release node npm version browser n a [REP],"Installation requires lodash, cross-env to be installed ahead of time"
[DES] the tagged template literals link directs to url but that page says that the documentation has been moved to styled components com [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] go to the docs page url click the link that says tagged template literals versions n a [REP],"""tagged template literals"" link in docs is broken"
[DES] performant lweb font loading 1 doc explain how to enabled it 1 append link at the end of body on the file app inde [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone git clone depth 1 url 2 open cd react boilerplate 3 setup npm run setup 3 clean default app npm run clean  [REP],FontFaceObserver is on the readme and package.son but include the load code
[DES] intellisense suggestions are seemingly non functional in a brand new project cleaned react boilerplate in vscode whereas this does work in create react app and general javascript projects in a new react boilerplate project image url a new create react app project image url image url [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] open a new react boilerplate cloned repo using vscode editor attempt to use intellisense completions versions react boilerplate version node version npm version yarn version [REP],Suggestions/IntelliSense for VSCode not available in new r-b project
[DES] add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],Can't use chrome dev tools for debugging
[DES] experiencing a bug when adding io the error messages are img width 660 alt screen shot 2017 04 26 at 15 26 18 src  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] as per the resolution proposed issue 1413 url 1 add node fs empty net empty tls empty to webpack base babel js 2 a [REP],"Firefox works, but Chrome does not"
[DES] captura de pantalla 2017 04 10 a las 12 32 24 p m url [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] installed styled props using npm install s styled props and tried to import it i checked my same code in a create  [REP],styled-props 'Need special loader to load this type of file'
[DES] i am having troubles implementing external bootstrap libraries with the react boilerplate this is potentially rela [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] npm install sketchpixy rubix save import button from sketchpixy rubix button button versions react boilerplate see [REP],Problem integrating node modules with webpack
[DES] this is not particularly a bug or something that prevents having a fully working app in production but i think bec [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] yarn run start production open the page in chrome and refresh versions react boilerplate see package json version  [REP],FOUC on Production with Service Worker
[DES] unable to run tests stuck at cross env node env test jest coverage add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 git clone depth 1 url 2 npm run setup 3 npm start 4 npm run test on another terminal window screen shot 2017 03 18 at 13 32 19 url add link to a demo on url or similar if possible versions react boilerplate see package json version node npm version version browser google chrome version 64 bit [REP],Unable to run tests. Stuck at cross-env NODE_ENV=test jest --coverage
[DES] tests of the project is impossible to run via intellyj idea webstorm npm plugin the test are freezed and not run w [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone project 2 right mouse click on package json and select show npm scripts 3 run test versions version soluti [REP],Test run via another build tools or Webstorm GUI
[DES] newly cloned boilerplate returns unexpected token error after running the usual setup image url [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone the repo 2 run npm run setup 3 run npm run start 4 observe versions react boilerplate see package json version node npm version version browser chrome version note it appears it only happens in chrome when i try edge the site works [REP],Newly cloned boilerplate produces unexpected token error after usual setup
[DES] using latest version of react boilerplate can t load local fonts unable to load the direct js file to my index pag [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],"How to load the Js file as it is form specific folder,"
[DES] not a bug thanks add images if possible [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json node npm browser [REP],Any plans to add typescript support?
[DES] webpack alias seems to be ignored when running test here is the line i added into the webpack base babel js file r [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions react boilerplate see package json version node npm 6 br [REP],Can't use alias import during tests
[DES] hi i get the following error when running tests home eric burel websites softlaw app utils tests asyncinjectors test js 5 10 error memoryhistory not found in react router import named it seems that memoryhistory does not exist in react router maybe after an update and indeed i can t find the corresponding export instead there seems to be a creatememoryhistory function [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] npm run test versions react boilerplate version node version react router version [REP],memoryHistory not found in 'react-router' (when linting)
[DES] we re experiencing problems importing moment locales in our react boilerplate project the problem is if we import  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] the demo repo is available there url once cloned just alternate between the two ways of importing the moment local [REP],Problem adding moment locales to a clean 3.4.0
[DES] i am using react boilerplate version this is my package json url i am trying to add the async and await using the  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] npm install save dev babel plugin transform async to generator i have updated my package json at url l72 and added [REP],How to add await/async to boilerplate
[DES] did a fresh install trying to run a generator getting npm run generate route react boilerplate version generate us [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] git clone depth 1 url npm run clean npm run generate route versions node npm v version version browser none [REP],npm run generate / plop / strict mode
[DES] this pertains the version branch since that s all i ve messed with and running npm run clean the cleaning process  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 npm run clean 2 see that tests are gone from app 3 npm run build 4 see that build fails because of low coverage  [REP],Include tests (and high coverage) for all components remaining after clean
[DES] when i deployed code to heroku and got an issue below remote react boilerplate version build tmp build remote cros [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] follow all step in this link deployment url and issue appeared when push this command git push heroku mybrand mast [REP],A problem when deploying source code to Heroku.
[DES] the changes made to messages js is not updated in app translations defaultlocale json now i would like to have thi [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 translation file is not updated just update any defaultmessages in some container s messages 2 delete proof dele [REP],Default locale translation file is not updated
[DES] currently running npm run extract intl works unless user doesn t use his own babel plugins specially transform plu [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] representative plugin babel plugin transform object rest spread npm install babel plugin transform object rest spr [REP],Make `extract-intl` compatible with other babel plugins
[DES] i was wondering if there is any example around there of how to serve the production build from a hapi server i m hapi auth cookie for session autentication and i m running in some issues serving the chunks and some routing loops if there is any example about how to configure hapi for this i will be very grateful thanks in advance [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] add link to a demo on url or similar if possible versions node npm browser [REP],Any clue about how to serve production build from hapi?
[DES] i am having difficulty tying my redux form installation into the redux and middleware setup we have in the boilerplate i have added it to the combinereducers and imported the node modeul by following docs but i can not even get it to enter input into field it just stays blank when typing with cursor in field if any of you guys have suggestions that would be a big help thanks in advance [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] npm install save redux form [REP],Redux-Forms integration into redux and middleware
[DES] hi i am using version version but i still have the issue with hmr sync the following modules couldn t be hot updat [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] i reset the project with npm run clean and added some translations in en json when updating the file then the hmr  [REP],HMR Sync does not reload UI in browser when making change in any .js file
[DES] there are some error messages in console when change language from english to german img width 960 alt screen shot [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] git clone depth 1 url npm run setup open url change language from english to german versions v version node npm v  [REP],Error message when change language from English to German
[DES] hello i m trying to implement the react dates package in one of my projects but i always get the error uncaught in [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] this happens even with a clean setup you can see the error happening here url i made this repo using the react boi [REP],React-dates incompatibility or any lib using momentjs
[DES] you can t do a development flow in this repo when you have large images as part of the source the subscription to the hmr websocket never returns [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] reference a 4mib large jpg from css watch the incremental compiler hang afaik i have not waited forever and there are no progress bars displayed [REP],image-loader's optimisation hangs on large images
[DES] i m quite new in testing so i decided to take a look on tests in examples at first everything was ok or at least i [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] remove passing items in list component or simply remove everything from component living only return div div and r [REP],Tests in example always pass
[DES] using npm start img width 656 alt screen shot 2016 10 13 at 15 20 55 src url font normalize my css using npm run build img width 736 alt screen shot 2016 10 13 at 15 21 40 src url font my css normalize stuff like margins etc gets reset this way in prod [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] not sure redid my entire app on the latest version but not sure why this happens versions node npm version browser chrome safari [REP],Order of styles vs sanitize is different between dev and prod
[DES] in the webpack config url l91 mainfields seems to be breaking libraries such as isomorphic fetch this is because w [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] require isomorphic fetch open in browser versions node npm version browser chrome version 64 bit [REP],mainFields breaks libraries with browser field in package.json
[DES] when route change using link or browserhistory push every component get unmounted i m not sure if it is default be [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone repository 2 add below code in homepage index js componentwillunmount alert 1 1 run server and click featu [REP],Components are getting unmounted when route change.
[DES] i ran into something very weird today basically i didn t get the same output when hitting f5 and ctrl f5 f5 showed [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] couldn t really reproduce this error happened once hasn t happened again since versions node npm version version b [REP],Issue with local caching - Add a warning about it?
[DES] after adding a child route as described here url child routes the container specified in the parent of the child r [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] in the routes js file for example add a child route to the features route path features name features getcomponent [REP],Child route renders the container of its parent
[DES] npm run test browsers safari test failed [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 pull commit tag v version 2 npm install 3 npm run test browsers safari 4 test failed for example should render the issueicon safari version mac os x version react intl the intl apis must be available in the runtime and do not appear to be built in an intl polyfill should be loaded see url [REP],"npm run test -- --browsers Safari, test failed."
[DES] i ve just started a project from scratch and added a dependency to firebase url when i generate the build it finis [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 clone the repo setup and start a new project 2 add a firebase dependency with npm install firebase save 3 add in [REP],Build failure & cannot import Firebase
[DES] whenever i click on a link its activeclassname style doesn t appear to get applied but routes are changed but acti [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 create two or more routes 2 create links for all the routes on a page and set them up to use a css class for act [REP],activeClassName on <Link> not applying the styles correctly except on 2nd click
[DES] new es lint rules have been added which cause some generated files to fail testing the generators and the files they create should be included in the test suite in order to ensure they are kept up to date with future changes i e it would be good to automatically generate a set of files and test them for linting at a minimum [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 npm run generate 2 generate a new container 3 npm run lint [REP],test the generated output in an automated way
[DES] when running npm install the process works great until it reaches the webpack dll once this completes a number of  [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] run npm install with the below mentions node version versions npm v version node v v version console txt url [REP],Errors when 'Building the Webpack DLL....'
[DES] i set up a really simple component with a test to demonstrate this issue i ve also seen this issue when running te [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] 1 git clone depth 1 url 2 npm run setup 3 npm run clean 4 create new component via npm run generate code below 5 r [REP],Incorrect debug line in stacktrace when running tests
[DES] the npm run build fail without any meaningful error [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] clone setup project install redux form version rc4 npm i save save exact redux form version rc 4 import redux form in reducers js import reducer as formreducer from redux form immutable npm run build verbose versions node npm v version version [REP],Cannot build when redux-form is imported
[DES] heroku install is failing i presume it is due to the package json having unmet peer dependencies [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] download latest version follow steps in url versions node npm version browser irrelevant [REP],"Heroku deploy failing, presumably due to state of package.json"
[DES] webback can t resolve modules when building reactboilerplatedeps [DES] [EXP] . [EXP] [OTH] . [OTH] [REP] running npm run setup goes ok until it tries to run internals dependencies js node internals scripts dependencies  [REP],Module not found errors on Windows 7
